/*
* Ctrip Lizard JavaScript Framework
* Copyright(C) 2008 - 2015, All rights reserved,ctrip.com.
* Date:2015-05-25 13:47:07
* tag:w-2.1-201505251347
*/
var requirejs,require,define;!function(aa){function I(a){return"[object Function]"===L.call(a)}function J(a){return"[object Array]"===L.call(a)}function y(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function M(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function s(a,b){return ga.call(a,b)}function m(a,b){return s(a,b)&&a[b]}function G(a,b){for(var c in a)if(s(a,c)&&b(a[c],c))break}function R(a,b,c,d){return b&&G(b,function(b,e){(c||!s(a,e))&&(d&&"string"!=typeof b?(a[e]||(a[e]={}),R(a[e],b,c,d)):a[e]=b)}),a}function u(a,b){return function(){return b.apply(a,arguments)}}function ba(a){if(!a)return a;var b=aa;return y(a.split("."),function(a){b=b[a]}),b}function B(a,b,c,d){return b=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a),b.requireType=a,b.requireModules=d,c&&(b.originalError=c),b}function ha(a){function b(a,b,c){var d,e,f,g,h,i,j,k=b&&b.split("/");d=k;var l=C.map,n=l&&l["*"];if(a&&"."===a.charAt(0))if(b){for(d=m(C.pkgs,b)?k=[b]:k.slice(0,k.length-1),b=a=d.concat(a.split("/")),d=0;b[d];d+=1)if(e=b[d],"."===e)b.splice(d,1),d-=1;else if(".."===e){if(1===d&&(".."===b[2]||".."===b[0]))break;d>0&&(b.splice(d-1,2),d-=2)}d=m(C.pkgs,b=a[0]),a=a.join("/"),d&&a===b+"/"+d.main&&(a=b)}else 0===a.indexOf("./")&&(a=a.substring(2));if(c&&l&&(k||n)){for(b=a.split("/"),d=b.length;d>0;d-=1){if(f=b.slice(0,d).join("/"),k)for(e=k.length;e>0;e-=1)if((c=m(l,k.slice(0,e).join("/")))&&(c=m(c,f))){g=c,h=d;break}if(g)break;!i&&n&&m(n,f)&&(i=m(n,f),j=d)}!g&&i&&(g=i,h=j),g&&(b.splice(0,h,g),a=b.join("/"))}return a}function c(a){A&&y(document.getElementsByTagName("script"),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===w.contextName?(b.parentNode.removeChild(b),!0):void 0})}function d(a){var b=m(C.paths,a);return b&&J(b)&&1<b.length?(c(a),b.shift(),w.require.undef(a),w.require([a]),!0):void 0}function e(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function f(a,c,d,f){var g,h,i=null,j=c?c.name:null,k=a,l=!0,n="";return a||(l=!1,a="_@r"+(M+=1)),a=e(a),i=a[0],a=a[1],i&&(i=b(i,j,f),h=m(K,i)),a&&(i?n=h&&h.normalize?h.normalize(a,function(a){return b(a,j,f)}):b(a,j,f):(n=b(a,j,f),a=e(n),i=a[0],n=a[1],d=!0,g=w.nameToUrl(n))),d=!i||h||d?"":"_unnormalized"+(N+=1),{prefix:i,name:n,parentMap:c,unnormalized:!!d,url:g,originalName:k,isDefine:l,id:(i?i+"!"+n:n)+d}}function g(a){var b=a.id,c=m(D,b);return c||(c=D[b]=new w.Module(a)),c}function h(a,b,c){var d=a.id,e=m(D,d);!s(K,d)||e&&!e.defineEmitComplete?g(a).on(b,c):"defined"===b&&c(K[d])}function i(a,b){var c=a.requireModules,d=!1;b?b(a):(y(c,function(b){(b=m(D,b))&&(b.error=a,b.events.error&&(d=!0,b.emit("error",a)))}),d||l.onError(a))}function j(){T.length&&(ia.apply(H,[H.length-1,0].concat(T)),T=[])}function k(a){delete D[a],delete E[a]}function n(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,y(a.depMaps,function(d,e){var f=d.id,g=m(D,f);g&&!a.depMatched[e]&&!c[f]&&(m(b,f)?(a.defineDep(e,K[f]),a.check()):n(g,b,c))}),c[d]=!0)}function o(){var a,b,e,f,g=(e=1e3*C.waitSeconds)&&w.startTime+e<(new Date).getTime(),h=[],j=[],k=!1,l=!0;if(!t){if(t=!0,G(E,function(e){if(a=e.map,b=a.id,e.enabled&&(a.isDefine||j.push(e),!e.error))if(!e.inited&&g)d(b)?k=f=!0:(h.push(b),c(b));else if(!e.inited&&e.fetched&&a.isDefine&&(k=!0,!a.prefix))return l=!1}),g&&h.length)return e=B("timeout","Load timeout for modules: "+h,null,h),e.contextName=w.contextName,i(e);l&&y(j,function(a){n(a,{},{})}),g&&!f||!k||!A&&!da||z||(z=setTimeout(function(){z=0,o()},50)),t=!1}}function p(a){s(K,a[0])||g(f(a[0],null,!0)).init(a[1],a[2])}function q(a){var a=a.currentTarget||a.srcElement,b=w.onScriptLoad;return a.detachEvent&&!Y?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1),b=w.onScriptError,(!a.detachEvent||Y)&&a.removeEventListener("error",b,!1),{node:a,id:a&&a.getAttribute("data-requiremodule")}}function r(){var a;for(j();H.length;){if(a=H.shift(),null===a[0])return i(B("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));p(a)}}var t,v,w,x,z,C={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},D={},E={},F={},H=[],K={},L={},M=1,N=1;return x={require:function(a){return a.require?a.require:a.require=w.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?a.exports:a.exports=K[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return C.config&&m(C.config,a.map.id)||{}},exports:K[a.map.id]}}},v=function(a){this.events=m(F,a.id)||{},this.map=a,this.shim=m(C.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},v.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=u(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var a=this.map;if(!this.shim)return a.prefix?this.callPlugin():this.load();w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return a.prefix?this.callPlugin():this.load()}))}},load:function(){var a=this.map.url;L[a]||(L[a]=!0,w.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;b=this.depExports;var d=this.exports,e=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(I(e)){if(this.events.error)try{d=w.execCb(c,e,b,d)}catch(f){a=f}else d=w.execCb(c,e,b,d);if(this.map.isDefine&&((b=this.module)&&void 0!==b.exports&&b.exports!==this.exports?d=b.exports:void 0===d&&this.usingExports&&(d=this.exports)),a)return a.requireMap=this.map,a.requireModules=[this.map.id],a.requireType="define",i(this.error=a)}else d=e;this.exports=d,this.map.isDefine&&!this.ignore&&(K[c]=d,l.onResourceLoad)&&l.onResourceLoad(w,this.map,this.depMaps),k(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,c=a.id,d=f(a.prefix);this.depMaps.push(d),h(d,"defined",u(this,function(d){var e,j;j=this.map.name;var n=this.map.parentMap?this.map.parentMap.name:null,o=w.makeRequire(a.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(d.normalize&&(j=d.normalize(j,function(a){return b(a,n,!0)})||""),d=f(a.prefix+"!"+j,this.map.parentMap),h(d,"defined",u(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),(j=m(D,d.id))&&(this.depMaps.push(d),this.events.error&&j.on("error",u(this,function(a){this.emit("error",a)})),j.enable())):(e=u(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=u(this,function(a){this.inited=!0,this.error=a,a.requireModules=[c],G(D,function(a){0===a.map.id.indexOf(c+"_unnormalized")&&k(a.map.id)}),i(a)}),e.fromText=u(this,function(b,d){var h=a.name,j=f(h),k=O;d&&(b=d),k&&(O=!1),g(j),s(C.config,c)&&(C.config[h]=C.config[c]);try{l.exec(b)}catch(m){return i(B("fromtexteval","fromText eval for "+c+" failed: "+m,m,[c]))}k&&(O=!0),this.depMaps.push(j),w.completeLoad(h),o([h],e)}),d.load(a.name,o,e,C))})),w.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){E[this.map.id]=this,this.enabling=this.enabled=!0,y(this.depMaps,u(this,function(a,b){var c,d;if("string"==typeof a){if(a=f(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,c=m(x,a.id))return void(this.depExports[b]=c(this));this.depCount+=1,h(a,"defined",u(this,function(a){this.defineDep(b,a),this.check()})),this.errback&&h(a,"error",this.errback)}c=a.id,d=D[c],!s(x,c)&&d&&!d.enabled&&w.enable(a,this)})),G(this.pluginMaps,u(this,function(a){var b=m(D,a.id);b&&!b.enabled&&w.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){y(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},w={config:C,contextName:a,registry:D,defined:K,urlFetched:L,defQueue:H,Module:v,makeModuleMap:f,nextTick:l.nextTick,onError:i,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=C.pkgs,c=C.shim,d={paths:!0,config:!0,map:!0};G(a,function(a,b){d[b]?"map"===b?(C.map||(C.map={}),R(C[b],a,!0,!0)):R(C[b],a,!0):C[b]=a}),a.shim&&(G(a.shim,function(a,b){J(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=w.makeShimExports(a)),c[b]=a}),C.shim=c),a.packages&&(y(a.packages,function(a){a="string"==typeof a?{name:a}:a,b[a.name]={name:a.name,location:a.location||a.name,main:(a.main||"main").replace(ja,"").replace(ea,"")}}),C.pkgs=b),G(D,function(a,b){!a.inited&&!a.map.unnormalized&&(a.map=f(b))}),(a.deps||a.callback)&&w.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;return a.init&&(b=a.init.apply(aa,arguments)),b||a.exports&&ba(a.exports)}},makeRequire:function(c,d){function e(b,h,j){var k,m;return d.enableBuildCallback&&h&&I(h)&&(h.__requireJsBuild=!0),"string"==typeof b?I(h)?i(B("requireargs","Invalid require call"),j):c&&s(x,b)?x[b](D[c.id]):l.get?l.get(w,b,c,e):(k=f(b,c,!1,!0),k=k.id,s(K,k)?K[k]:i(B("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(c?"":". Use require([])")))):(r(),w.nextTick(function(){r(),m=g(f(null,c)),m.skipMap=d.skipMap,m.init(b,h,j,{enabled:!0}),o()}),e)}return d=d||{},R(e,{isBrowser:A,toUrl:function(a){var d,e=a.lastIndexOf("."),f=a.split("/")[0];return-1!==e&&("."!==f&&".."!==f||e>1)&&(d=a.substring(e,a.length),a=a.substring(0,e)),w.nameToUrl(b(a,c&&c.id,!0),d,!0)},defined:function(a){return s(K,f(a,c,!1,!0).id)},specified:function(a){return a=f(a,c,!1,!0).id,s(K,a)||s(D,a)}}),c||(e.undef=function(a){j();var b=f(a,c,!0),d=m(D,a);delete K[a],delete L[b.url],delete F[a],d&&(d.events.defined&&(F[a]=d.events),k(a))}),e},enable:function(a){m(D,a.id)&&g(a).enable()},completeLoad:function(a){var b,c,e=m(C.shim,a)||{},f=e.exports;for(j();H.length;){if(c=H.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);p(c)}if(c=m(D,a),!b&&!s(K,a)&&c&&!c.inited){if(C.enforceDefine&&(!f||!ba(f)))return d(a)?void 0:i(B("nodefine","No define call for "+a,null,[a]));p([a,e.deps||[],e.exportsFn])}o()},nameToUrl:function(a,b,c){var d,e,f,g,h,i;if(l.jsExtRegExp.test(a))g=a+(b||"");else{for(d=C.paths,e=C.pkgs,g=a.split("/"),h=g.length;h>0;h-=1){if(i=g.slice(0,h).join("/"),f=m(e,i),i=m(d,i)){J(i)&&(i=i[0]),g.splice(0,h,i);break}if(f){a=a===f.name?f.location+"/"+f.main:f.location,g.splice(0,h,a);break}}g=g.join("/"),g+=b||(/\?/.test(g)||c?"":".js"),g=("/"===g.charAt(0)||g.match(/^[\w\+\.\-]+:/)?"":C.baseUrl)+g}return C.urlArgs?g+((-1===g.indexOf("?")?"?":"&")+C.urlArgs):g},load:function(a,b){l.load(w,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){("load"===a.type||ka.test((a.currentTarget||a.srcElement).readyState))&&(P=null,a=q(a),w.completeLoad(a.id))},onScriptError:function(a){var b=q(a);return d(b.id)?void 0:i(B("scripterror","Script error",a,[b.id]))}},w.require=w.makeRequire(),w}var l,w,x,D,t,E,P,K,Q,fa,la=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,ma=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,ea=/\.js$/,ja=/^\.\//;w=Object.prototype;var L=w.toString,ga=w.hasOwnProperty,ia=Array.prototype.splice,A=!("undefined"==typeof window||!navigator||!document),da=!A&&"undefined"!=typeof importScripts,ka=A&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),F={},r={},T=[],O=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(I(requirejs))return;r=requirejs,requirejs=void 0}"undefined"!=typeof require&&!I(require)&&(r=require,require=void 0),l=requirejs=function(a,b,c,d){var e,f="_";return!J(a)&&"string"!=typeof a&&(e=a,J(b)?(a=b,b=c,c=d):a=[]),e&&e.context&&(f=e.context),(d=m(F,f))||(d=F[f]=l.s.newContext(f)),e&&d.configure(e),d.require(a,b,c)},l.config=function(a){return l(a)},l.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=l),l.version="2.1.5",l.jsExtRegExp=/^\/|:|\?|\.js$/,l.isBrowser=A,w=l.s={contexts:F,newContext:ha},l({}),y(["toUrl","undef","defined","specified"],function(a){l[a]=function(){var b=F._;return b.require[a].apply(b,arguments)}}),A&&(x=w.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(x=w.head=D.parentNode),l.onError=function(a){throw a},l.load=function(a,b,c){var d,e=a&&a.config||{};if(A)return d=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),d.type=e.scriptType||"text/javascript",d.charset="utf-8",d.async=!0,d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&0>d.attachEvent.toString().indexOf("[native code")||Y?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(O=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,K=d,D?x.insertBefore(d,D):x.appendChild(d),K=null,d;if(da)try{importScripts(c),a.completeLoad(b)}catch(f){a.onError(B("importscripts","importScripts failed for "+b+" at "+c,f,[b]))}},A&&M(document.getElementsByTagName("script"),function(a){return x||(x=a.parentNode),(t=a.getAttribute("data-main"))?(r.baseUrl||(E=t.split("/"),Q=E.pop(),fa=E.length?E.join("/")+"/":"./",r.baseUrl=fa,t=Q),t=t.replace(ea,""),r.deps=r.deps?r.deps.concat(t):[t],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),J(b)||(c=b,b=[]),!b.length&&I(c)&&c.length&&(c.toString().replace(la,"").replace(ma,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b)),O&&((d=K)||(P&&"interactive"===P.readyState||M(document.getElementsByTagName("script"),function(a){return"interactive"===a.readyState?P=a:void 0}),d=P),d&&(a||(a=d.getAttribute("data-requiremodule")),e=F[d.getAttribute("data-requirecontext")])),(e?e.defQueue:T).push([a,b,c])},define.amd={jQuery:!0},l.exec=function(b){return eval(b)},l(r)}}(this),define("R",function(){});var Zepto=function(){function a(a){return null==a?String(a):U[V.call(a)]||"object"}function b(b){return"function"==a(b)}function c(a){return null!=a&&a==a.window}function d(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function e(b){return"object"==a(b)}function f(a){return e(a)&&!c(a)&&Object.getPrototypeOf(a)==Object.prototype}function g(a){return"number"==typeof a.length}function h(a){return D.call(a,function(a){return null!=a})}function i(a){return a.length>0?x.fn.concat.apply([],a):a}function j(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function k(a){return a in G?G[a]:G[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function l(a,b){return"number"!=typeof b||H[j(a)]?b:b+"px"}function m(a){var b,c;return F[a]||(b=E.createElement(a),E.body.appendChild(b),c=getComputedStyle(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),F[a]=c),F[a]}function n(a){return"children"in a?C.call(a.children):x.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function o(a,b,c){for(w in b)c&&(f(b[w])||Z(b[w]))?(f(b[w])&&!f(a[w])&&(a[w]={}),Z(b[w])&&!Z(a[w])&&(a[w]=[]),o(a[w],b[w],c)):b[w]!==v&&(a[w]=b[w])}function p(a,b){return null==b?x(a):x(a).filter(b)}function q(a,c,d,e){return b(c)?c.call(a,d,e):c}function r(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function s(a,b){var c=a.className||"",d=c&&c.baseVal!==v;return b===v?d?c.baseVal:c:void(d?c.baseVal=b:a.className=b)}function t(a){var b;try{return a?"true"==a||("false"==a?!1:"null"==a?null:/^0/.test(a)||isNaN(b=Number(a))?/^[\[\{]/.test(a)?x.parseJSON(a):a:b):a}catch(c){return a}}function u(a,b){b(a);for(var c=0,d=a.childNodes.length;d>c;c++)u(a.childNodes[c],b)}var v,w,x,y,z,A,B=[],C=B.slice,D=B.filter,E=window.document,F={},G={},H={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},I=/^\s*<(\w+|!)[^>]*>/,J=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,K=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,L=/^(?:body|html)$/i,M=/([A-Z])/g,N=["val","css","html","text","data","width","height","offset"],O=["after","prepend","before","append"],P=E.createElement("table"),Q=E.createElement("tr"),R={tr:E.createElement("tbody"),tbody:P,thead:P,tfoot:P,td:Q,th:Q,"*":E.createElement("div")},S=/complete|loaded|interactive/,T=/^[\w-]*$/,U={},V=U.toString,W={},X=E.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(a){return a instanceof Array};return W.matches=function(a,b){if(!b||!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=X).appendChild(a),d=~W.qsa(e,b).indexOf(a),f&&X.removeChild(a),d},z=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},A=function(a){return D.call(a,function(b,c){return a.indexOf(b)==c})},W.fragment=function(a,b,c){var d,e,g;return J.test(a)&&(d=x(E.createElement(RegExp.$1))),d||(a.replace&&(a=a.replace(K,"<$1></$2>")),b===v&&(b=I.test(a)&&RegExp.$1),b in R||(b="*"),g=R[b],g.innerHTML=""+a,d=x.each(C.call(g.childNodes),function(){g.removeChild(this)})),f(c)&&(e=x(d),x.each(c,function(a,b){N.indexOf(a)>-1?e[a](b):e.attr(a,b)})),d},W.Z=function(a,b){return a=a||[],a.__proto__=x.fn,a.selector=b||"",a},W.isZ=function(a){return a instanceof W.Z},W.init=function(a,c){var d;if(!a)return W.Z();if("string"==typeof a)if(a=a.trim(),"<"==a[0]&&I.test(a))d=W.fragment(a,RegExp.$1,c),a=null;else{if(c!==v)return x(c).find(a);d=W.qsa(E,a)}else{if(b(a))return x(E).ready(a);if(W.isZ(a))return a;if(Z(a))d=h(a);else if(e(a))d=[a],a=null;else if(I.test(a))d=W.fragment(a.trim(),RegExp.$1,c),a=null;else{if(c!==v)return x(c).find(a);d=W.qsa(E,a)}}return W.Z(d,a)},x=function(a,b){return W.init(a,b)},x.extend=function(a){var b,c=C.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){o(a,c,b)}),a},W.qsa=function(a,b){var c,e,f="#"==b[0],g=!f&&"."==b[0],h=f||g?b.slice(1):b,i=T.test(h);if(e=d(a)&&i&&f?(c=a.getElementById(h))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:C.call(i&&!f?g?a.getElementsByClassName(h):a.getElementsByTagName(b):a.querySelectorAll(b)),1!==a.nodeType)return e;for(var j=[],k=0,l=e.length;l>k;k++)a.contains(e[k])&&j.push(e[k]);return j},x.contains=E.documentElement.contains?function(a,b){return a!==b&&a.contains(b)}:function(a,b){for(;b&&(b=b.parentNode);)if(b===a)return!0;return!1},x.type=a,x.isFunction=b,x.isWindow=c,x.isArray=Z,x.isPlainObject=f,x.isEmptyObject=function(a){var b;for(b in a)return!1;return!0},x.inArray=function(a,b,c){return B.indexOf.call(b,a,c)},x.camelCase=z,x.trim=function(a){return null==a?"":String.prototype.trim.call(a)},x.uuid=0,x.support={},x.expr={},x.map=function(a,b){var c,d,e,f=[];if(g(a))for(d=0;d<a.length;d++)c=b(a[d],d),null!=c&&f.push(c);else for(e in a)c=b(a[e],e),null!=c&&f.push(c);return i(f)},x.each=function(a,b){var c,d;if(g(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},x.grep=function(a,b){return D.call(a,b)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){U["[object "+b+"]"]=b.toLowerCase()}),x.fn={forEach:B.forEach,reduce:B.reduce,push:B.push,sort:B.sort,indexOf:B.indexOf,concat:B.concat,map:function(a){return x(x.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return x(C.apply(this,arguments))},ready:function(a){return S.test(E.readyState)&&E.body?a(x):E.addEventListener("DOMContentLoaded",function(){a(x)},!1),this},get:function(a){return a===v?C.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return B.every.call(this,function(b,c){return a.call(b,c,b)!==!1}),this},filter:function(a){return b(a)?this.not(this.not(a)):x(D.call(this,function(b){return W.matches(b,a)}))},add:function(a,b){return x(A(this.concat(x(a,b))))},is:function(a){return this.length>0&&W.matches(this[0],a)},not:function(a){var c=[];if(b(a)&&a.call!==v)this.each(function(b){a.call(this,b)||c.push(this)});else{var d="string"==typeof a?this.filter(a):g(a)&&b(a.item)?C.call(a):x(a);this.forEach(function(a){d.indexOf(a)<0&&c.push(a)})}return x(c)},has:function(a){return this.filter(function(){return e(a)?x.contains(this,a):x(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!e(a)?a:x(a)},last:function(){var a=this[this.length-1];return a&&!e(a)?a:x(a)},find:function(a){var b,c=this;return b=a?"object"==typeof a?x(a).filter(function(){var a=this;return B.some.call(c,function(b){return x.contains(b,a)})}):1==this.length?x(W.qsa(this[0],a)):this.map(function(){return W.qsa(this,a)}):[]},closest:function(a,b){var c=this[0],e=!1;for("object"==typeof a&&(e=x(a));c&&!(e?e.indexOf(c)>=0:W.matches(c,a));)c=c!==b&&!d(c)&&c.parentNode;return x(c)},parents:function(a){for(var b=[],c=this;c.length>0;)c=x.map(c,function(a){return(a=a.parentNode)&&!d(a)&&b.indexOf(a)<0?(b.push(a),a):void 0});return p(b,a)},parent:function(a){return p(A(this.pluck("parentNode")),a)},children:function(a){return p(this.map(function(){return n(this)}),a)},contents:function(){return this.map(function(){return C.call(this.childNodes)})},siblings:function(a){return p(this.map(function(a,b){return D.call(n(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return x.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=m(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var c=b(a);if(this[0]&&!c)var d=x(a).get(0),e=d.parentNode||this.length>1;return this.each(function(b){x(this).wrapAll(c?a.call(this,b):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){x(this[0]).before(a=x(a));for(var b;(b=a.children()).length;)a=b.first();x(a).append(this)}return this},wrapInner:function(a){var c=b(a);return this.each(function(b){var d=x(this),e=d.contents(),f=c?a.call(this,b):a;e.length?e.wrapAll(f):d.append(f)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=x(this);(a===v?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return x(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return x(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return 0 in arguments?this.each(function(b){var c=this.innerHTML;x(this).empty().append(q(this,a,b,c))}):0 in this?this[0].innerHTML:null},text:function(a){return 0 in arguments?this.each(function(b){var c=q(this,a,b,this.textContent);this.textContent=null==c?"":""+c}):0 in this?this[0].textContent:null},attr:function(a,b){var c;return"string"!=typeof a||1 in arguments?this.each(function(c){if(1===this.nodeType)if(e(a))for(w in a)r(this,w,a[w]);else r(this,a,q(this,b,c,this.getAttribute(a)))}):this.length&&1===this[0].nodeType?!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:v},removeAttr:function(a){return this.each(function(){1===this.nodeType&&r(this,a)})},prop:function(a,b){return a=Y[a]||a,1 in arguments?this.each(function(c){this[a]=q(this,b,c,this[a])}):this[0]&&this[0][a]},data:function(a,b){var c="data-"+a.replace(M,"-$1").toLowerCase(),d=1 in arguments?this.attr(c,b):this.attr(c);return null!==d?t(d):v},val:function(a){return 0 in arguments?this.each(function(b){this.value=q(this,a,b,this.value)}):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(a){if(a)return this.each(function(b){var c=x(this),d=q(this,a,b,c.offset()),e=c.offsetParent().offset(),f={top:d.top-e.top,left:d.left-e.left};"static"==c.css("position")&&(f.position="relative"),c.css(f)});if(!this.length)return null;var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(b,c){if(arguments.length<2){var d=this[0],e=getComputedStyle(d,"");if(!d)return;if("string"==typeof b)return d.style[z(b)]||e.getPropertyValue(b);if(Z(b)){var f={};return x.each(b,function(a,b){f[b]=d.style[z(b)]||e.getPropertyValue(b)}),f}}var g="";if("string"==a(b))c||0===c?g=j(b)+":"+l(b,c):this.each(function(){this.style.removeProperty(j(b))});else for(w in b)b[w]||0===b[w]?g+=j(w)+":"+l(w,b[w])+";":this.each(function(){this.style.removeProperty(j(w))});return this.each(function(){this.style.cssText+=";"+g})},index:function(a){return a?this.indexOf(x(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return a?B.some.call(this,function(a){return this.test(s(a))},k(a)):!1},addClass:function(a){return a?this.each(function(b){if("className"in this){y=[];var c=s(this),d=q(this,a,b,c);d.split(/\s+/g).forEach(function(a){x(this).hasClass(a)||y.push(a)},this),y.length&&s(this,c+(c?" ":"")+y.join(" "))}}):this},removeClass:function(a){return this.each(function(b){if("className"in this){if(a===v)return s(this,"");y=s(this),q(this,a,b,y).split(/\s+/g).forEach(function(a){y=y.replace(k(a)," ")}),s(this,y.trim())}})},toggleClass:function(a,b){return a?this.each(function(c){var d=x(this),e=q(this,a,c,s(this));e.split(/\s+/g).forEach(function(a){(b===v?!d.hasClass(a):b)?d.addClass(a):d.removeClass(a)})}):this},scrollTop:function(a){if(this.length){var b="scrollTop"in this[0];return a===v?b?this[0].scrollTop:this[0].pageYOffset:this.each(b?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})}},scrollLeft:function(a){if(this.length){var b="scrollLeft"in this[0];return a===v?b?this[0].scrollLeft:this[0].pageXOffset:this.each(b?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})}},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),d=L.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(x(a).css("margin-top"))||0,c.left-=parseFloat(x(a).css("margin-left"))||0,d.top+=parseFloat(x(b[0]).css("border-top-width"))||0,d.left+=parseFloat(x(b[0]).css("border-left-width"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||E.body;a&&!L.test(a.nodeName)&&"static"==x(a).css("position");)a=a.offsetParent;return a})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(a){var b=a.replace(/./,function(a){return a[0].toUpperCase()});x.fn[a]=function(e){var f,g=this[0];return e===v?c(g)?g["inner"+b]:d(g)?g.documentElement["scroll"+b]:(f=this.offset())&&f[a]:this.each(function(b){g=x(this),g.css(a,q(this,e,b,g[a]()))})}}),O.forEach(function(b,c){var d=c%2;x.fn[b]=function(){var b,e,f=x.map(arguments,function(c){return b=a(c),"object"==b||"array"==b||null==c?c:W.fragment(c)}),g=this.length>1;return f.length<1?this:this.each(function(a,b){e=d?b:b.parentNode,b=0==c?b.nextSibling:1==c?b.firstChild:2==c?b:null;var h=x.contains(E.documentElement,e);f.forEach(function(a){if(g)a=a.cloneNode(!0);else if(!e)return x(a).remove();e.insertBefore(a,b),h&&u(a,function(a){null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||a.type&&"text/javascript"!==a.type||a.src||window.eval.call(window,a.innerHTML)})})})},x.fn[d?b+"To":"insert"+(c?"Before":"After")]=function(a){return x(a)[b](this),this}}),W.Z.prototype=x.fn,W.uniq=A,W.deserializeValue=t,x.zepto=W,x}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(a){function b(b,c,d){var e=a.Event(c);return a(b).trigger(e,d),!e.isDefaultPrevented()}function c(a,c,d,e){return a.global?b(c||s,d,e):void 0}function d(b){b.global&&0===a.active++&&c(b,null,"ajaxStart")}function e(b){b.global&&!--a.active&&c(b,null,"ajaxStop")}function f(a,b){var d=b.context;return b.beforeSend.call(d,a,b)===!1||c(b,d,"ajaxBeforeSend",[a,b])===!1?!1:void c(b,d,"ajaxSend",[a,b])}function g(a,b,d,e){var f=d.context,g="success";d.success.call(f,a,g,b),e&&e.resolveWith(f,[a,g,b]),c(d,f,"ajaxSuccess",[b,d,a]),i(g,b,d)}function h(a,b,d,e,f){var g=e.context;e.error.call(g,d,b,a),f&&f.rejectWith(g,[d,b,a]),c(e,g,"ajaxError",[d,e,a||b]),i(b,d,e)}function i(a,b,d){var f=d.context;d.complete.call(f,b,a),c(d,f,"ajaxComplete",[b,d]),e(d)}function j(){}function k(a){return a&&(a=a.split(";",2)[0]),a&&(a==x?"html":a==w?"json":u.test(a)?"script":v.test(a)&&"xml")||"text"}function l(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function m(b){b.processData&&b.data&&"string"!=a.type(b.data)&&(b.data=a.param(b.data,b.traditional)),!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=l(b.url,b.data),b.data=void 0)}function n(b,c,d,e){return a.isFunction(c)&&(e=d,d=c,c=void 0),a.isFunction(d)||(e=d,d=void 0),{url:b,data:c,success:d,dataType:e}}function o(b,c,d,e){var f,g=a.isArray(c),h=a.isPlainObject(c);a.each(c,function(c,i){f=a.type(i),e&&(c=d?e:e+"["+(h||"object"==f||"array"==f?c:"")+"]"),!e&&g?b.add(i.name,i.value):"array"==f||!d&&"object"==f?o(b,i,d,c):b.add(c,i)})}var p,q,r=0,s=window.document,t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=/^(?:text|application)\/javascript/i,v=/^(?:text|application)\/xml/i,w="application/json",x="text/html",y=/^\s*$/;a.active=0,a.ajaxJSONP=function(b,c){if(!("type"in b))return a.ajax(b);var d,e,i=b.jsonpCallback,j=(a.isFunction(i)?i():i)||"jsonp"+ ++r,k=s.createElement("script"),l=window[j],m=function(b){a(k).triggerHandler("error",b||"abort")},n={abort:m};return c&&c.promise(n),a(k).on("load error",function(f,i){clearTimeout(e),a(k).off().remove(),"error"!=f.type&&d?g(d[0],n,b,c):h(null,i||"error",n,b,c),window[j]=l,d&&a.isFunction(l)&&l(d[0]),l=d=void 0}),f(n,b)===!1?(m("abort"),n):(window[j]=function(){d=arguments},k.src=b.url.replace(/\?(.+)=\?/,"?$1="+j),s.head.appendChild(k),b.timeout>0&&(e=setTimeout(function(){m("timeout")},b.timeout)),n)},a.ajaxSettings={type:"GET",beforeSend:j,success:j,error:j,complete:j,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:w,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},a.ajax=function(b){var c=a.extend({},b||{}),e=a.Deferred&&a.Deferred();for(p in a.ajaxSettings)void 0===c[p]&&(c[p]=a.ajaxSettings[p]);d(c),c.crossDomain||(c.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(c.url)&&RegExp.$2!=window.location.host),c.url||(c.url=window.location.toString()),m(c);var i=c.dataType,n=/\?.+=\?/.test(c.url);if(n&&(i="jsonp"),c.cache!==!1&&(b&&b.cache===!0||"script"!=i&&"jsonp"!=i)||(c.url=l(c.url,"_="+Date.now())),"jsonp"==i)return n||(c.url=l(c.url,c.jsonp?c.jsonp+"=?":c.jsonp===!1?"":"callback=?")),a.ajaxJSONP(c,e);var o,r=c.accepts[i],s={},t=function(a,b){s[a.toLowerCase()]=[a,b]
},u=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,v=c.xhr(),w=v.setRequestHeader;if(e&&e.promise(v),c.crossDomain||t("X-Requested-With","XMLHttpRequest"),t("Accept",r||"*/*"),(r=c.mimeType||r)&&(r.indexOf(",")>-1&&(r=r.split(",",2)[0]),v.overrideMimeType&&v.overrideMimeType(r)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&t("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(q in c.headers)t(q,c.headers[q]);if(v.setRequestHeader=t,v.onreadystatechange=function(){if(4==v.readyState){v.onreadystatechange=j,clearTimeout(o);var b,d=!1;if(v.status>=200&&v.status<300||304==v.status||0==v.status&&"file:"==u){i=i||k(c.mimeType||v.getResponseHeader("content-type")),b=v.responseText;try{"script"==i?(1,eval)(b):"xml"==i?b=v.responseXML:"json"==i&&(b=y.test(b)?null:a.parseJSON(b))}catch(f){d=f}d?h(d,"parsererror",v,c,e):g(b,v,c,e)}else h(v.statusText||null,v.status?"error":"abort",v,c,e)}},f(v,c)===!1)return v.abort(),h(null,"abort",v,c,e),v;if(c.xhrFields)for(q in c.xhrFields)v[q]=c.xhrFields[q];var x="async"in c?c.async:!0;v.open(c.type,c.url,x,c.username,c.password);for(q in s)w.apply(v,s[q]);return c.timeout>0&&(o=setTimeout(function(){v.onreadystatechange=j,v.abort(),h(null,"timeout",v,c,e)},c.timeout)),v.send(c.data?c.data:null),v},a.get=function(){return a.ajax(n.apply(null,arguments))},a.post=function(){var b=n.apply(null,arguments);return b.type="POST",a.ajax(b)},a.getJSON=function(){var b=n.apply(null,arguments);return b.dataType="json",a.ajax(b)},a.fn.load=function(b,c,d){if(!this.length)return this;var e,f=this,g=b.split(/\s/),h=n(b,c,d),i=h.success;return g.length>1&&(h.url=g[0],e=g[1]),h.success=function(b){f.html(e?a("<div>").html(b.replace(t,"")).find(e):b),i&&i.apply(f,arguments)},a.ajax(h),this};var z=encodeURIComponent;a.param=function(a,b){var c=[];return c.add=function(a,b){this.push(z(a)+"="+z(b))},o(c,a,b),c.join("&").replace(/%20/g,"+")}}(Zepto),function(a){function b(a){var b=this.os={},c=this.browser={},d=a.match(/Web[kK]it[\/]{0,1}([\d.]+)/),e=a.match(/(Android);?[\s\/]+([\d.]+)?/),f=!!a.match(/\(Macintosh\; Intel /),g=a.match(/(iPad).*OS\s([\d_]+)/),h=a.match(/(iPod)(.*OS\s([\d_]+))?/),i=!g&&a.match(/(iPhone\sOS)\s([\d_]+)/),j=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),k=a.match(/Windows Phone ([\d.]+)/),l=j&&a.match(/TouchPad/),m=a.match(/Kindle\/([\d.]+)/),n=a.match(/Silk\/([\d._]+)/),o=a.match(/(BlackBerry).*Version\/([\d.]+)/),p=a.match(/(BB10).*Version\/([\d.]+)/),q=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/),r=a.match(/PlayBook/),s=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),t=a.match(/Firefox\/([\d.]+)/),u=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),v=!s&&a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),w=v||a.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(c.webkit=!!d)&&(c.version=d[1]),e&&(b.android=!0,b.version=e[2]),i&&!h&&(b.ios=b.iphone=!0,b.version=i[2].replace(/_/g,".")),g&&(b.ios=b.ipad=!0,b.version=g[2].replace(/_/g,".")),h&&(b.ios=b.ipod=!0,b.version=h[3]?h[3].replace(/_/g,"."):null),k&&(b.wp=!0,b.version=k[1]),j&&(b.webos=!0,b.version=j[2]),l&&(b.touchpad=!0),o&&(b.blackberry=!0,b.version=o[2]),p&&(b.bb10=!0,b.version=p[2]),q&&(b.rimtabletos=!0,b.version=q[2]),r&&(c.playbook=!0),m&&(b.kindle=!0,b.version=m[1]),n&&(c.silk=!0,c.version=n[1]),!n&&b.android&&a.match(/Kindle Fire/)&&(c.silk=!0),s&&(c.chrome=!0,c.version=s[1]),t&&(c.firefox=!0,c.version=t[1]),u&&(c.ie=!0,c.version=u[1]),w&&(f||b.ios)&&(c.safari=!0,f&&(c.version=w[1])),v&&(c.webview=!0),b.tablet=!!(g||r||e&&!a.match(/Mobile/)||t&&a.match(/Tablet/)||u&&!a.match(/Phone/)&&a.match(/Touch/)),b.phone=!(b.tablet||b.ipod||!(e||i||j||o||p||s&&a.match(/Android/)||s&&a.match(/CriOS\/([\d.]+)/)||t&&a.match(/Mobile/)||u&&a.match(/Touch/)))}b.call(a,navigator.userAgent),a.__detect=b}(Zepto),function(a){function b(a){return a._zid||(a._zid=m++)}function c(a,c,f,g){if(c=d(c),c.ns)var h=e(c.ns);return(q[b(a)]||[]).filter(function(a){return!(!a||c.e&&a.e!=c.e||c.ns&&!h.test(a.ns)||f&&b(a.fn)!==b(f)||g&&a.sel!=g)})}function d(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function e(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function f(a,b){return a.del&&!s&&a.e in t||!!b}function g(a){return u[a]||s&&t[a]||a}function h(c,e,h,i,k,m,n){var o=b(c),p=q[o]||(q[o]=[]);e.split(/\s/).forEach(function(b){if("ready"==b)return a(document).ready(h);var e=d(b);e.fn=h,e.sel=k,e.e in u&&(h=function(b){var c=b.relatedTarget;return!c||c!==this&&!a.contains(this,c)?e.fn.apply(this,arguments):void 0}),e.del=m;var o=m||h;e.proxy=function(a){if(a=j(a),!a.isImmediatePropagationStopped()){a.data=i;var b=o.apply(c,a._args==l?[a]:[a].concat(a._args));return b===!1&&(a.preventDefault(),a.stopPropagation()),b}},e.i=p.length,p.push(e),"addEventListener"in c&&c.addEventListener(g(e.e),e.proxy,f(e,n))})}function i(a,d,e,h,i){var j=b(a);(d||"").split(/\s/).forEach(function(b){c(a,b,e,h).forEach(function(b){delete q[j][b.i],"removeEventListener"in a&&a.removeEventListener(g(b.e),b.proxy,f(b,i))})})}function j(b,c){return(c||!b.isDefaultPrevented)&&(c||(c=b),a.each(y,function(a,d){var e=c[a];b[a]=function(){return this[d]=v,e&&e.apply(c,arguments)},b[d]=w}),(c.defaultPrevented!==l?c.defaultPrevented:"returnValue"in c?c.returnValue===!1:c.getPreventDefault&&c.getPreventDefault())&&(b.isDefaultPrevented=v)),b}function k(a){var b,c={originalEvent:a};for(b in a)x.test(b)||a[b]===l||(c[b]=a[b]);return j(c,a)}var l,m=1,n=Array.prototype.slice,o=a.isFunction,p=function(a){return"string"==typeof a},q={},r={},s="onfocusin"in window,t={focus:"focusin",blur:"focusout"},u={mouseenter:"mouseover",mouseleave:"mouseout"};r.click=r.mousedown=r.mouseup=r.mousemove="MouseEvents",a.event={add:h,remove:i},a.proxy=function(c,d){var e=2 in arguments&&n.call(arguments,2);if(o(c)){var f=function(){return c.apply(d,e?e.concat(n.call(arguments)):arguments)};return f._zid=b(c),f}if(p(d))return e?(e.unshift(c[d],c),a.proxy.apply(null,e)):a.proxy(c[d],c);throw new TypeError("expected function")},a.fn.bind=function(a,b,c){return this.on(a,b,c)},a.fn.unbind=function(a,b){return this.off(a,b)},a.fn.one=function(a,b,c,d){return this.on(a,b,c,d,1)};var v=function(){return!0},w=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,y={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(a,b,c){return this.on(b,a,c)},a.fn.undelegate=function(a,b,c){return this.off(b,a,c)},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d,e,f){var g,j,m=this;return b&&!p(b)?(a.each(b,function(a,b){m.on(a,c,d,b,f)}),m):(p(c)||o(e)||e===!1||(e=d,d=c,c=l),(o(d)||d===!1)&&(e=d,d=l),e===!1&&(e=w),m.each(function(l,m){f&&(g=function(a){return i(m,a.type,e),e.apply(this,arguments)}),c&&(j=function(b){var d,f=a(b.target).closest(c,m).get(0);return f&&f!==m?(d=a.extend(k(b),{currentTarget:f,liveFired:m}),(g||e).apply(f,[d].concat(n.call(arguments,1)))):void 0}),h(m,b,e,d,c,j||g)}))},a.fn.off=function(b,c,d){var e=this;return b&&!p(b)?(a.each(b,function(a,b){e.off(a,c,b)}),e):(p(c)||o(d)||d===!1||(d=c,c=l),d===!1&&(d=w),e.each(function(){i(this,b,d,c)}))},a.fn.trigger=function(b,c){return b=p(b)||a.isPlainObject(b)?a.Event(b):j(b),b._args=c,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(b):a(this).triggerHandler(b,c)})},a.fn.triggerHandler=function(b,d){var e,f;return this.each(function(g,h){e=k(p(b)?a.Event(b):b),e._args=d,e.target=h,a.each(c(h,b.type||b),function(a,b){return f=b.proxy(e),e.isImmediatePropagationStopped()?!1:void 0})}),f},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)}}),["focus","blur"].forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.each(function(){try{this[b]()}catch(a){}}),this}}),a.Event=function(a,b){p(a)||(b=a,a=b.type);var c=document.createEvent(r[a]||"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0),j(c)}}(Zepto),function(a){a.fn.serializeArray=function(){var b,c,d=[];return a([].slice.call(this.get(0).elements)).each(function(){b=a(this),c=b.attr("type"),"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=c&&"reset"!=c&&"button"!=c&&("radio"!=c&&"checkbox"!=c||this.checked)&&d.push({name:b.attr("name"),value:b.val()})}),d},a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(b){a.push(encodeURIComponent(b.name)+"="+encodeURIComponent(b.value))}),a.join("&")},a.fn.submit=function(b){if(b)this.bind("submit",b);else if(this.length){var c=a.Event("submit");this.eq(0).trigger(c),c.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(a,b){function c(a){return a.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function d(a){return e?e+a:a.toLowerCase()}var e,f,g,h,i,j,k,l,m,n,o="",p={Webkit:"webkit",Moz:"",O:"o"},q=window.document,r=q.createElement("div"),s=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,t={};a.each(p,function(a,c){return r.style[a+"TransitionProperty"]!==b?(o="-"+a.toLowerCase()+"-",e=c,!1):void 0}),f=o+"transform",t[g=o+"transition-property"]=t[h=o+"transition-duration"]=t[j=o+"transition-delay"]=t[i=o+"transition-timing-function"]=t[k=o+"animation-name"]=t[l=o+"animation-duration"]=t[n=o+"animation-delay"]=t[m=o+"animation-timing-function"]="",a.fx={off:e===b&&r.style.transitionProperty===b,speeds:{_default:400,fast:200,slow:600},cssPrefix:o,transitionEnd:d("TransitionEnd"),animationEnd:d("AnimationEnd")},a.fn.animate=function(c,d,e,f,g){return a.isFunction(d)&&(f=d,e=b,d=b),a.isFunction(e)&&(f=e,e=b),a.isPlainObject(d)&&(e=d.easing,f=d.complete,g=d.delay,d=d.duration),d&&(d=("number"==typeof d?d:a.fx.speeds[d]||a.fx.speeds._default)/1e3),g&&(g=parseFloat(g)/1e3),this.anim(c,d,e,f,g)},a.fn.anim=function(d,e,o,p,q){var r,u,v,w={},x="",y=this,z=a.fx.transitionEnd,A=!1;if(e===b&&(e=a.fx.speeds._default/1e3),q===b&&(q=0),a.fx.off&&(e=0),"string"==typeof d)w[k]=d,w[l]=e+"s",w[n]=q+"s",w[m]=o||"linear",z=a.fx.animationEnd;else{u=[];for(r in d)s.test(r)?x+=r+"("+d[r]+") ":(w[r]=d[r],u.push(c(r)));x&&(w[f]=x,u.push(f)),e>0&&"object"==typeof d&&(w[g]=u.join(", "),w[h]=e+"s",w[j]=q+"s",w[i]=o||"linear")}return v=function(b){if("undefined"!=typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(z,v)}else a(this).unbind(z,v);A=!0,a(this).css(t),p&&p.call(this)},e>0&&(this.bind(z,v),setTimeout(function(){A||v.call(y)},1e3*e+25)),this.size()&&this.get(0).clientLeft,this.css(w),0>=e&&setTimeout(function(){y.each(function(){v.call(this)})},0),this},r=null}(Zepto),function(a){"__proto__"in{}||a.extend(a.zepto,{Z:function(b,c){return b=b||[],a.extend(b,a.fn),b.selector=c||"",b.__Z=!0,b},isZ:function(b){return"array"===a.type(b)&&"__Z"in b}});try{getComputedStyle(void 0)}catch(b){var c=getComputedStyle;window.getComputedStyle=function(a){try{return c(a)}catch(b){return null}}}}(Zepto),define("$",function(){}),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.4";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?null:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(b||x.identity);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f},x.bind=function(a,b){if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));var c=h.call(arguments,2);return function(){return a.apply(b,c.concat(h.call(arguments)))}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);return 0===b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=E(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&E(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return E(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(a),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=x.invert(F.escape);var G={escape:new RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(x,a))}})};var H=0;x.uniqueId=function(a){var b=++H+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(K,function(a){return"\\"+J[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var L=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("_",function(){}),function(){{var a,b=this,c=b.Backbone,d=[],e=(d.push,d.slice);d.splice}a="undefined"!=typeof exports?exports:b.Backbone={},a.VERSION="1.0.0";var f=b._;f||"undefined"==typeof require||(f=require("underscore")),a.$=b.jQuery||b.Zepto||b.ender||b.$,a.noConflict=function(){return b.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var g=a.Events={on:function(a,b,c){if(!i(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!i(this,"once",a,[b,c])||!b)return this;var d=this,e=f.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,g,h,j,k,l,m;if(!this._events||!i(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(h=a?[a]:f.keys(this._events),j=0,k=h.length;k>j;j++)if(a=h[j],g=this._events[a]){if(this._events[a]=d=[],b||c)for(l=0,m=g.length;m>l;l++)e=g[l],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=e.call(arguments,1);if(!i(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&j(c,b),d&&j(d,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}},h=/\s+/,i=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(h.test(c)){for(var f=c.split(h),g=0,i=f.length;i>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},j=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},k={listenTo:"on",listenToOnce:"once"};f.each(k,function(a,b){g[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),g=b._listenerId||(b._listenerId=f.uniqueId("l"));return e[g]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),g.bind=g.on,g.unbind=g.off,f.extend(a,g);var l=a.View=function(a){this.cid=f.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},m=/^(\S+)\s*(.*)$/,n=["model","collection","el","id","attributes","className","tagName","events"];f.extend(l.prototype,g,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(b,c){return this.$el&&this.undelegateEvents(),this.$el=b instanceof a.$?b:a.$(b),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=f.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];if(f.isFunction(c)||(c=this[a[b]]),c){var d=b.match(m),e=d[1],g=d[2];c=f.bind(c,this),e+=".delegateEvents"+this.cid,""===g?this.$el.on(e,c):this.$el.on(e,g,c)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(a){this.options&&(a=f.extend({},f.result(this,"options"),a)),f.extend(this,f.pick(a,n)),this.options=a},_ensureElement:function(){if(this.el)this.setElement(f.result(this,"el"),!1);else{var b=f.extend({},f.result(this,"attributes"));this.id&&(b.id=f.result(this,"id")),this.className&&(b["class"]=f.result(this,"className"));var c=a.$("<"+f.result(this,"tagName")+">").attr(b);this.setElement(c,!1)}}});var o=function(a,b){var c,d=this;c=a&&f.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},f.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&f.extend(c.prototype,a),c.__super__=d.prototype,c};l.extend=o}.call(this),define("B",function(){}),function(a){function b(b){if(b.targetTouches.length>1)return!0;q=b.target;var c=a(q).closest(".nofastclick");if(c.length>0)return!0;if(x){var d=window.getSelection();if(d.rangeCount&&!d.isCollapsed)return!0;if(b.targetTouches[0].identifier===y)return event.preventDefault(),!1;y=b.targetTouches[0].identifier}return m=!0,n=b.timeStamp,r=b.targetTouches[0].pageX,s=b.targetTouches[0].pageY,b.timeStamp-o<0&&(o=b.timeStamp),b.timeStamp-o<200&&b.preventDefault(),!0}function c(a){return m?(t=a.changedTouches[0].pageX,u=a.changedTouches[0].pageY,(Math.abs(t-r)>v||Math.abs(u-s)>v)&&(q=null,m=!1),!0):!0}function d(b){if(!m)return!0;if(b.timeStamp-o<100)return p=!0,!0;o=b.timeStamp,m=!1;var c=q.tagName.toLowerCase();if("label"==c){var d=j(q);if(d){var e=a(d);if("checkbox"==e.attr("type")||"radio"==e.attr("type")?e.attr("checked")?e.removeAttr("checked"):e.attr("checked","checked"):a(d).focus(),w)return!1;q=d}}else if(i(q)){if(b.timeStamp-n>100)return q=null,!1;var f;return x&&q.setSelectionRange&&0!==q.type.indexOf("date")&&"time"!==q.type?(f=q.value.length,q.setSelectionRange(f,f)):q.focus(),"select"!==c&&(q=null,b.preventDefault()),!1}return n=0,h(q)||(b.preventDefault(),k(q,b)),!1}function e(){m=!1,q=null}function f(b){var c=b.target,d=a(c).closest(".nofastclick");return d.length>0?!0:q?b.touchEvent?!0:b.cancelable&&(!h(q)||p)?(b.stopImmediatePropagation?b.stopImmediatePropagation():b.propagationStopped=!0,b.stopPropagation(),b.preventDefault(),!1):!0:!0}function g(a){if(m)return m=!1,q=null,!0;if("submit"===a.target.type&&0===a.detail)return!0;var b=f(a);return b||(q=null),b}function h(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(x&&"file"===a.type||a.disabled)return!0;break;case"video":return!0}return/\bneedclick\b/.test(a.className)}function i(a){switch(a.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedfocus\b/.test(a.className)}}function j(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")}function k(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.touchEvent=!0,a.dispatchEvent(c)}function l(){return"undefined"==typeof window.ontouchstart?!1:!0}{var m=!1,n=0,o=0,p=!1,q=null,r=0,s=0,t=0,u=0,v=4,w=navigator.userAgent.indexOf("Android")>0,x=/iP(ad|hone|od)/.test(navigator.userAgent),y=0;x&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent)}a.needFocus=i,a.bindFastClick=function(){return l()?void a(document).ready(function(){w&&(document.addEventListener("mouseover",f,!0),document.addEventListener("mousedown",f,!0),document.addEventListener("mouseup",f,!0)),document.addEventListener("click",g,!0),a(document).on("touchstart",b).on("touchmove",c).on("touchend",d).on("touchcancel",e)
}):!0},a.unbindFastClick=function(){return l()?(w&&(document.removeEventListener("mouseover",f,!0),document.removeEventListener("mousedown",f,!0),document.removeEventListener("mouseup",f,!0)),document.removeEventListener("click",g,!0),void a(document).off("touchstart",b).off("touchmove",c).off("touchend",d).off("touchcancel",e)):!0}}(Zepto),define("F",function(){}),define("libs",["$","_","B","F"],function(){}),define("text",["module"],function(a){var b,c,d,e,f=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],g=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,h=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,i="undefined"!=typeof location&&location.href,j=i&&location.protocol&&location.protocol.replace(/\:/,""),k=i&&location.hostname,l=i&&(location.port||void 0),m=[],n=a.config&&a.config()||{};return b={version:"2.0.5+",strip:function(a){if(a){a=a.replace(g,"");var b=a.match(h);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:n.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;3>b;b+=1){c=f[b];try{a=new ActiveXObject(c)}catch(d){}if(a){f=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.indexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return-1!==f&&(!g||f>1)?(b=a.substring(0,f),c=a.substring(f+1,a.length)):b=a,d=c||b,f=d.indexOf("!"),-1!==f&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);return i?(f=i[2],g=i[3],g=g.split(":"),h=g[1],g=g[0],!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e)):!0},finishLoad:function(a,c,d,e){d=c?b.strip(d):d,n.isBuild&&(m[a]=d),e(d)},load:function(a,c,d,e){if(e.isBuild&&!e.inlineText)return void d();n.isBuild=e.isBuild;var f=b.parseName(a),g=f.moduleName+(f.ext?"."+f.ext:""),h=c.toUrl(g),m=n.useXhr||b.useXhr;!i||m(h,j,k,l)?b.get(h,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([g],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)})},write:function(a,c,d){if(m.hasOwnProperty(c)){var e=b.jsEscape(m[c]);d.asModule(a+"!"+c,"define(function () { return '"+e+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=d.toUrl(g.moduleName+h)+".js";b.load(i,d,function(){var c=function(a){return e(j,a)};c.asModule=function(a,b){return e.asModule(a,j,b)},b.write(a,i,c,f)},f)}},"node"===n.env||!n.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),b.get=function(a,b){var d=c.readFileSync(a,"utf8");0===d.indexOf("")&&(d=d.substring(1)),b(d)}):"xhr"===n.env||!n.env&&b.createXhr()?b.get=function(a,c,d,e){var f,g=b.createXhr();if(g.open("GET",a,!0),e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);n.onXhr&&n.onXhr(g,a),g.onreadystatechange=function(){var b,e;4===g.readyState&&(b=g.status,b>399&&600>b?(e=new Error(a+" HTTP status: "+b),e.xhr=g,d(e)):c(g.responseText))},g.send(null)}:"rhino"===n.env||!n.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}:("xpconnect"===n.env||!n.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(d=Components.classes,e=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),b.get=function(a,b){var c,f,g={},h=new FileUtils.File(a);try{c=d["@mozilla.org/network/file-input-stream;1"].createInstance(e.nsIFileInputStream),c.init(h,1,0,!1),f=d["@mozilla.org/intl/converter-input-stream;1"].createInstance(e.nsIConverterInputStream),f.init(c,"utf-8",c.available(),e.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),f.readString(c.available(),g),f.close(),c.close(),b(g.value)}catch(i){throw new Error((h&&h.path||"")+": "+i)}}),b}),function(){function AppInfo(){var a,b,c,d,e={MASTER:["Ctrip_CtripWireless","Unicom_CtripWireless","Pro_CtripWireless"],YOUTH:["Youth_CtripWireless"],GS:["gs_wireless"]},f=function(a){a+="",a.indexOf(".")<0&&(a+=".0"),a=(a+"").split(".");for(var b=0;b<a.length;b++)a[b]="000".substr(a[b].length)+a[b];return a.join(".")},g=RegExp,h=window.navigator.userAgent;for(var i in e)for(var j=0;j<e[i].length;j++)if(new g(e[i][j]+"_([\\d.]+)$").test(h)){a="CTRIP",b=i,c=g.$1;break}return a||/MicroMessenger\/([\d.]+)/.test(h)&&(a="TECENT",b="WEIXIN",c=g.$1),c&&(d=f(c)),{vendor:{toString:function(){return a},is:function(b){return b.toUpperCase()==a}},code:{toString:function(){return b},is:function(a){return a.toUpperCase()==b}},version:{toString:function(){return c},lt:function(a){return d<f(a)},lte:function(a){return d<=f(a)},eq:function(a){return d==f(a)},gte:function(a){return d>=f(a)},gt:function(a){return d>f(a)}}}}function loadScript(a,b){var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.onload=b,c.src=a,document.head.appendChild(c)}function mutileLoad(a,b){function c(){e++,e>=d&&b()}var d=a.length,e=0;if(!d)return void c();for(var f=0;d>f;f++){var g=a[f];loadScript(g,c)}}function initLizardConfig(){for(var scripts=document.getElementsByTagName("script")||[],reg=/lizard\.seed\.(beta\.|beta.src\.|src\.|\b)*js.*$/gi,i=0;i<scripts.length;i++){var src=scripts[i].getAttribute("src");if(src&&reg.test(src)){Lizard.isCdnCombo=src.indexOf("res/concat?f=/")>-1,Lizard.dir=src.replace(reg,"").replace("res/concat?f=/",""),Lizard.isCdnCombo&&initLizardExpansions(),src.indexOf("beta")>-1&&(Lizard.uibeta_sandbox=!0);var configStr=scripts[i].getAttribute("pdConfig")||"";if(Lizard.pdConfig=JSON.parse('["'+configStr.split(",").join('","')+'"]'),scripts[i].getAttribute("lizardConfig"))try{eval("Lizard.config = {"+scripts[i].getAttribute("lizardConfig")+"}")}catch(e){Lizard.config={}}else Lizard.config={};break}}}function amdLoaderLoaded(){var a=Lizard.notpackaged?[Lizard.dir+"config.js"]:["config"];require(a,function(){var a=[];Lizard.isHybrid?a.push("cHybridAppInit"):Lizard.app.vendor.is("CTRIP")?(a.push("cHybridAppInit"),a.push("cStatic")):a.push("cWebAppInit"),Lizard.notpackaged||((Lizard.app.vendor.is("CTRIP")||Lizard.isHybrid)&&a.push("cBaseInit"),define("_",function(){}),define("$",function(){}),define("B",function(){}),define("F",function(){})),require(["B"],function(){!Lizard.isCdnCombo&&initLizardExpansions(),require(a,function(){_.isFunction(arguments[arguments.length-1])&&arguments[arguments.length-1]()})})})}function initLizardExpansions(){var a=["appBaseUrl","webresourceBaseUrl","restfullApi","restfullApiHttps","WebresourcePDBaseUrl"];_.each($("meta"),function(b){var c=$(b);(c.attr("lizardExpansion")||_.contains(a,c.attr("name")))&&(Lizard[c.attr("name")]=c.attr("content"))})}function loadRes(){var a=[];if(Lizard.notpackaged)a=[Lizard.dir+"3rdlibs/require.min.js"];else if(Lizard.isCdnCombo||Lizard.app.code.is("MASTER")||Lizard.app.code.is("YOUTH")||Lizard.isHybrid||a.push(Lizard.uibeta_sandbox?Lizard.dir+"lizard.web.beta.js":Lizard.dir+"lizard.web.js"),Lizard.isHybrid&&!Lizard.notpackaged){var b="ubt/_mubt.min.js",c=Lizard.dir;if(c){var d=c.substr(0,c.indexOf("lizard/webresource"));b=d+b}require([b],function(){})}Lizard.app.vendor.is("CTRIP")||Lizard.isHybrid?Lizard.mutileLoad=function(){mutileLoad(a,amdLoaderLoaded)}:mutileLoad(a,amdLoaderLoaded)}Lizard="undefined"!=typeof Lizard?Lizard:{version:"2.1",app:AppInfo(),isHybrid:!!window.LizardLocalroute,isInCtripApp:!(!navigator.userAgent.match(/ctripwireless/i)||"file:"==window.location.protocol),viewReady:function(a){Lizard.readyQueue?Lizard.readyQueue.push(a):Lizard.readyQueue=[a]},notpackaged:"undefined"==typeof _},initLizardConfig(),loadRes(),window.Lizard=Lizard,window.getAppUITemplatePath=function(a){return Lizard.notpackaged?-1!=["loadFailed","h5Loading"].indexOf(a)?"text!ui/"+a+".html":"text!"+Lizard.dir+"ui/"+a+".html":"text!ui/"+a+".html"},window.getAppUICssPath=function(a){return Lizard.notpackaged?"text!"+Lizard.dir+"ui/"+a+".css":"text!ui/"+a+".css"},!Lizard.isHybrid&&Lizard.app.vendor.is("CTRIP")&&!_.find($("SCRIPT"),function(a){return $(a).attr("src").indexOf("lizard.hybrid.js")>-1})&&document.write('<script src="'+Lizard.dir+'lizard.hybrid.js"></script>')}(),define("seed",function(){}),define("config",[],function(){var a=Lizard.dir+"3rdlibs/zepto",b=window.navigator.userAgent.indexOf("IEMobile")>-1;b&&(version=window.navigator.userAgent.match(/IEMobile\/\d+/),version.length>0&&(version=version[0].split("/"),version=version[1])),(!("__proto__"in{})||b&&version<10)&&(a=Lizard.dir+"3rdlibs/jquery"),require.config({waitSeconds:20,shim:{$:{exports:"zepto"},_:{exports:"_"},B:{deps:["_","$"],exports:"Backbone"},F:{deps:["$"],exports:"Fastclick"},libs:{deps:["_","$","B"],exports:"libs"},common:{deps:["libs"]},cAjax:{exports:"cAjax"},UIView:{deps:["B"],exports:"UIView"},cServiceGuider:{deps:["_"],exports:"cServiceGuider"}},paths:{json2:Lizard.dir+"3rdlibs/json2",bridge:Lizard.dir+"3rdlibs/bridge",R:Lizard.dir+"3rdlibs/require",$:a,_:Lizard.dir+"3rdlibs/underscore",B:Lizard.dir+"3rdlibs/backbone",F:Lizard.dir+"3rdlibs/fastclick",libs:Lizard.dir+"3rdlibs/libs",text:Lizard.dir+"3rdlibs/require.text",cCoreInherit:Lizard.dir+"common/c.class.inherit",cBusinessCommon:Lizard.dir+"app/c.app.interface",cMessageCenter:Lizard.dir+"common/c.message.center",cAjax:Lizard.dir+"common/c.ajax",cImgLazyload:Lizard.dir+"common/c.img.lazyload",cGeo:Lizard.dir+"common/c.geo",cUtil:Lizard.dir+"util/c.util",cUtilCacheView:Lizard.dir+"util/c.util.cacheview",cUtilCommon:Lizard.dir+"util/c.util.common",cUtilDate:Lizard.dir+"util/c.util.date",cUtilHybrid:Lizard.dir+"util/c.util.hybrid",cUtilObject:Lizard.dir+"util/c.util.object",cUtilPath:Lizard.dir+"util/c.util.path",cUtilPerformance:Lizard.dir+"util/c.util.performance",cUtilValidate:Lizard.dir+"util/c.util.validate",cUtilCryptBase64:Lizard.dir+"util/crypt/c.crypt.base64",cUtilCryptRSA:Lizard.dir+"util/crypt/c.crypt.rsa",cPageParser:Lizard.dir+"app/c.page.parser",cParserUtil:Lizard.dir+"app/c.parser.util",cPageModelProcessor:Lizard.dir+"app/c.page.model.processor",cPageView:Lizard.dir+"page/c.page.view",cPageList:Lizard.dir+"page/c.page.list",cAbstractModel:Lizard.dir+"data/model/c.abstract.model",cModel:Lizard.dir+"data/model/c.model",cUserModel:Lizard.dir+"data/model/c.user.model",cAbstractStore:Lizard.dir+"data/store/c.abstract.store",cLocalStore:Lizard.dir+"data/store/c.local.store",cSessionStore:Lizard.dir+"data/store/c.session.store",cMemoryStore:Lizard.dir+"data/store/c.memory.store",cCommonStore:Lizard.dir+"data/store/c.common.store",cHeadStore:Lizard.dir+"data/store/common/c.head.store",cUserStore:Lizard.dir+"data/store/common/c.user.store",cMarketStore:Lizard.dir+"data/store/common/c.market.store",cMobileTokenStore:Lizard.dir+"data/store/common/c.mobiletoken.store",cAbstractStorage:Lizard.dir+"data/storage/c.abstract.storage",cLocalStorage:Lizard.dir+"data/storage/c.local.storage",cCookieStorage:Lizard.dir+"data/storage/c.cookie.storage",cSessionStorage:Lizard.dir+"data/storage/c.session.storage",cMemoryStorage:Lizard.dir+"data/storage/c.memory.storage",cUIInputClear:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/c.ui.input.clear",cUIBase:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/c.ui.base",UIView:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.abstract.view",UILayer:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.layer",UIAlert:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.alert",UIMask:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.mask",UILoadingLayer:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.loading.layer",UIToast:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.toast",UIInlineView:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.inline.view",UINum:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.num",UISwitch:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.switch",UIBubbleLayer:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.bubble.layer",UITab:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.tab",UIScroll:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.scroll",UIScrollLayer:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.scroll.layer",UIRadioList:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.radio.list",UISelect:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.select",UIGroupSelect:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.group.select",UIGroupList:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.group.list",UICalendar:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.calendar",UICalendarCommon:Lizard.dir+"/ui/ui.calendar.common",UISlider:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.slider",UIImageSlider:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.image.slider",UIAdImageSlider:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.ad.image.slider",UIWarning404:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.warning404",UIHeader:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.header",UIIdentitycard:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.identitycard",UILayerList:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/ui.layer.list",UIAnimation:Lizard.dir+(Lizard.uibeta_sandbox?"ui_beta":"ui")+"/c.ui.animation",loading:Lizard.isHybrid?Lizard.dir.substr(0,Lizard.dir.indexOf("lizard/webresource"))+"basewidget/res/js/ui.loading":"//webresource.c-ctrip.com/ResCRMOnline/R5/basewidget/ui.loading",loadFailed:Lizard.isHybrid?Lizard.dir.substr(0,Lizard.dir.indexOf("lizard/webresource"))+"basewidget/res/js/ui.loadFailed":"//webresource.c-ctrip.com/ResCRMOnline/R5/basewidget/ui.loadFailed",cGeoService:Lizard.dir+"service/c.service.geo",cGeoLocation:Lizard.dir+"common/c.geo.location",cMemberService:Lizard.dir+"service/c.service.member",cGuiderService:Lizard.dir+"service/c.service.guider",cQrcodeService:Lizard.dir+"service/c.service.qrcode",cHybridMember:Lizard.dir+"service/hybrid/c.hybrid.memberService",cHybridGuider:Lizard.dir+"service/hybrid/c.hybrid.guider",cHybridGeolocation:Lizard.dir+"service/hybrid/c.hybrid.geolocation",cGeoHelper:Lizard.dir+"service/web/c.geo.helper",cWebMember:Lizard.dir+"service/web/c.web.memberService",cWebGuider:Lizard.dir+"service/web/c.web.guider",cWebGeolocation:Lizard.dir+"service/web/c.web.geolocation",cStatic:Lizard.dir+"app/web/c.web.static",cBaseInit:Lizard.dir+"app/c.base.init",cAbstractApp:Lizard.dir+"app/c.abstract.app",cWebApp:Lizard.dir+"app/web/c.web.app",cPadExtend:Lizard.dir+"app/c.pad.extend",cPadApp:Lizard.dir+"app/web/c.pad.app",cHybridApp:Lizard.dir+"app/hybrid/c.hybrid.app",cWebViewApp:Lizard.dir+"app/hybrid/c.webview.app",cHybridFacade:Lizard.dir+"app/hybrid/c.hybrid.facade",cHybridShell:Lizard.dir+"app/hybrid/c.hybrid.shell",cHybridHeader:Lizard.dir+"app/hybrid/c.hybrid.header",cHybridAppInit:Lizard.dir+"app/hybrid/c.hybrid.init",cWebAppInit:Lizard.dir+"app/web/c.web.init",cJsonPlugin:Lizard.dir+"plugins/c.json.plugin",cMarketPlugin:Lizard.dir+"plugins/c.market.plugin",cSafariPlugin:Lizard.dir+"plugins/c.safari.plugin",cStatisticsPlugin:Lizard.dir+"plugins/c.statistics.plugin",cUnderscorePlugin:Lizard.dir+"plugins/c.underscore.plugin",cZeptoPlugin:Lizard.dir+"plugins/c.zepto.plugin",cPlugins:Lizard.dir+"plugins/c.plugins",cShell:Lizard.dir+"shell/c.shell",cShell_CTRIP_MASTER:Lizard.dir+"shell/c.shell.ctrip.master",cShell_TECENT_WEIXIN:Lizard.dir+"shell/c.shell.tecent.weixin"},map:{"*":{cUtility:"cUtilCommon",cStore:"cLocalStore",cGuider:"cGuiderService",CommonStore:"cCommonStore"}}})}),define("cCoreInherit",["libs"],function(){var a=[].slice,b=function(){};return b.Class=function(){function b(){this.__propertys__(),this.initialize.apply(this,arguments)}if(0==arguments.length||arguments.length>2)throw"";var c=null,d=a.call(arguments);"function"==typeof d[0]&&(c=d.shift()),d=d[0],b.superclass=c,b.subclasses=[];var e=function(){},f=d.__propertys__||function(){};if(c){c.prototype.__propertys__&&(e=c.prototype.__propertys__);var g=function(){};g.prototype=c.prototype,b.prototype=new g,c.subclasses.push(b)}var h=b.superclass&&b.superclass.prototype;for(var i in d){var j=d[i];if(h&&"function"==typeof j){var k=/^\s*function\s*\(([^\(\)]*?)\)\s*?\{/i.exec(j.toString())[1].replace(/\s/i,"").split(",");"$super"===k[0]&&h[i]&&(j=function(b,c){return function(){var d=this,e=[function(){return h[b].apply(d,arguments)}];return c.apply(this,e.concat(a.call(arguments)))}}(i,j))}b.prototype[i]=j}b.prototype.initialize||(b.prototype.initialize=function(){}),b.prototype.__propertys__=function(){e.call(this),f.call(this)};for(key in c)c.hasOwnProperty(key)&&"prototype"!==key&&"superclass"!==key&&(b[key]=c[key]);return b.prototype.constructor=b,b},b.extend=function(){var b=a.call(arguments),c=b.shift()||{};if(!c)return!1;for(var d=0,e=b.length;e>d;d++)if("object"==typeof b[d])for(var f in b[d])c[f]=b[d][f];return c},b.implement=function(a,b){if("function"!=typeof a)return!1;for(var c in b)a.prototype[c]=b[c];return a},b}),define("cMessageCenter",[],function(){var a={},b={publish:function(b,c){a[b]&&_.each(a[b],function(a){a.handler.apply(a.scope?a.scope:window,c)})},subscribe:function(b,c,d){a[b]||(a[b]=[]),a[b].push({scope:d,handler:c})},unsubscribe:function(b,c){a[b]&&(c?a[b]=_.reject(a[b],function(a){return a.handler==c}):delete a[b])}};return b}),define("cUtilPerformance",[],function(){function a(){this.performance={},this.isapp=Lizard.isHybrid?"1":"0",this.defaults={Domready:{name:"JS.Lizard.Domready",tags:{}},Onload:{name:"JS.Lizard.Onload",tags:{}},AjaxReady:{name:"JS.Lizard.AjaxReady",tags:{url:""}},AjaxMessageSize:{name:"JS.Lizard.AjaxMessageSize",tags:{url:""}},TemplateRender:{name:"JS.Lizard.TemplateRender",tags:{url:""}},GeoRequest:{name:"JS.Lizard.GeoRequest",tags:{url:"",errno:"0"}}},this.uuid=0}return window.__bfi||(window.__bfi=[]),a.prototype={send:function(a,b,c,d){var e=["_trackMatrix",a,b,c,d];("JS.Lizard.GeoRequest"!=a||"string"==typeof b.url&&b.url.match(/^(Native|Web) function (number|detail|error)$/))&&window.__bfi.push(e)},getTime:function(){return(new Date).getTime()},initOptions:function(a){a.version=Lizard.version,a.isapp=this.isapp,a.network=Lizard.networkType||"unknown"},log:function(a,b){a.url&&_.isString(a.url)&&(a.url.indexOf("_fxpcqlniredt")>-1&&(a.url=a.url.substring(0,a.url.indexOf("_fxpcqlniredt")-1)),a.url=a.url.replace(new RegExp((+new Date+"").slice(0,8)+"\\d{5}"),"__TIME__"));var c=this.defaults[a.name],d={};this.initOptions(d);for(var e in c.tags)d[e]=(a[e]||c.tags[e])+"";"AjaxMessageSize"!=a.name&&(d.distribution=this.distribution(b)),this.send(c.name,d,b,this.getTime())},group:function(a,b){b.startTime=this.getTime(),this.performance[a]=b},groupTag:function(a,b,c){var d=this.performance[a];return d||(this.performance[a]=d={}),3==arguments.length&&(d[b]=c),d[b]},groupEnd:function(a){var b=this.performance[a]||{};this.log(b,this.getTime()-b.startTime)},getUuid:function(){return"Performance_"+ ++this.uuid},distribution:function(a){var b="";return a>=0&500>=a?b="[0,500]":a>=501&1e3>=a?b="[501,1000]":a>=1001&2e3>=a?b="[1001,2000]":a>=2001&3e3>=a?b="[2001,3000]":a>=3001&4e3>=a?b="[3001,4000]":a>=4001&&(b="[4001,--]"),b+"(ms)"}},new a}),define("cAjax",["libs","cUtilPerformance"],function(a,b){function c(a,b,c,d,e){var f=i(a,b,c,d);return f.type="GET",f.timeout=e,h(f)}function d(a,b,c,d,e){var f=b.contentType;b=JSON.stringify(b);var g=i(a,b,c,d);return g.type="POST",g.dataType="json",g.timeout=e,g.contentType=k(f)||"application/json",h(g)}function e(a,b,c,d,e){var f=i(a,b,c,d);return f.type="GET",f.dataType="jsonp",f.crossDomain=!0,f.timeout=e,h(f)}function f(a,b,c,d,e,f){var g=c.contentType;"get"!==b.toLowerCase()&&(c=JSON.stringify(c));var j=i(a,c,d,e);return j.type=b,j.dataType="json",j.crossDomain=!0,j.data=c,j.contentType=k(g)||"application/json",j.timeout=f,h(j)}function g(a,b,c,d){var e=null,f="";e=$("string"==typeof b?"#"+b:b),e&&e.length>0&&(f=e.serialize());var g=i(a,f,c,d);return h(g)}function h(a){var c=b.getUuid();b.group(c,{name:"AjaxReady",url:a.url,data:a.data});var d=0,e={url:a.url,type:a.type,dataType:a.dataType,data:a.data,contentType:a.contentType,timeout:a.timeout||Lizard.timeout||5e4,beforeSend:function(a){a.onprogress=function(a){d=a.loaded?a.loaded:a.position}},success:function(e){b.log({name:"AjaxMessageSize",url:a.url},d),b.groupEnd(c),a.callback(e)},error:function(d){b.groupEnd(c),a.error&&a.error(d)}};return-1===a.url.indexOf(window.location.host)&&(e.crossDomain=!!a.crossDomain),$.ajax(e)}function i(a,b,c,d){return{url:a,data:b,callback:c,error:d}}var j={json:"application/json",jsonp:"application/json"},k=function(a){return a&&(a=j[a]?j[a]:a),a};return{get:c,post:d,jsonp:e,cros:f,form:g}}),define("cImgLazyload",["libs"],function(){var a=_.inherit({__propertys__:function(){this.isError=!1,this.uuid=_.uniqueId()+(new Date).getTime()},initialize:function(a){this.__propertys__(),this.handleOpts(a),this.init()},checkWrapperDisplay:function(){this.isError||(this.TIMERRES&&clearInterval(this.TIMERRES),0==$(this.imgs[0]).offset().top&&(this.isError=!0,this.TIMERRES=setInterval($.proxy(function(){$(this.imgs[0]).offset().top>0&&(this.TIMERRES&&clearInterval(this.TIMERRES),this.isError=!1,this.refresh())},this),100)))},handleOpts:function(a){return this.isError=!1,a&&a.imgs&&a.imgs.length?(this.imgs=a.imgs,this.container=a.container||$(window),this.width=a.width,this.height=a.height,this.loadingImg=a.loadingImg||"http://pic.c-ctrip.com/vacation_v2/h5/group_travel/no_product_pic.png",this.loadingBg=a.loadingBg||"#ebebeb",this.needWrapper=!1,(this.width||this.height)&&(this.needWrapper=!0),this.wrapper=a.wrapper||'<div class="cui_lazyload_wrapper" style="text-align: center; vertical-align: middle; "></div>',void(this.imgContainer={})):void(this.isError=!0)},init:function(){this.isError||(this.initImgContainer(),this.lazyLoad(),this.bindEvents())},refresh:function(a){a&&this.handleOpts(a),this.init()},bindEvents:function(){this.isError||(this.destroy(),this.container.on("scroll.imglazyload"+this.uuid,$.proxy(function(){this.lazyLoad()},this)),$(window).on("resize.imglazyload"+this.uuid,$.proxy(function(){this.initImgContainer()},this)))},initImgContainer:function(){if(!this.isError){var a,b,c,d;for(b=0,c=this.imgs.length;c>b;b++)a=$(this.imgs[b]),a.attr("data-src")&&""!=a.attr("data-src")&&"1"!=a.attr("data-load")&&(d=a.offset(),this.imgContainer[d.top]||(this.imgContainer[d.top]=[]),this.imgContainer[d.top].push(a))}},_handleImg:function(a){var b,c,d=this;a.attr("data-src")&&""!=a.attr("data-src")&&(this.needWrapper&&(c=$(this.wrapper),c.css({width:this.width+"px",height:this.height+"px","background-color":this.loadingBg}),c.insertBefore(a),c.append(a)),b=$(new Image),a.attr("src")||a.attr("src",this.loadingImg),b.on("error",function(){a.attr("src",d.loadingImg)}).on("load",function(){a.attr("src",a.attr("data-src")),a.attr("data-load","1"),setTimeout(function(){c&&c[0]&&(a.insertBefore(c),c.remove())},1)}).attr("src",a.attr("data-src")))},lazyLoad:function(){if(!this.isError){var a;if(this.container[0]===window)a=this.container.height();else{var b=this.container.offset();a=b.top+b.height}var c,d,e,f,g,h=this.container.scrollTop();for(c in this.imgContainer)if(parseInt(c)<h+a){for(d=this.imgContainer[c],f=0,g=d.length;g>f;f++)e=$(d[f]),this._handleImg(e);delete this.imgContainer[c]}}},destroy:function(){this.isError||(this.TIMERRES&&clearInterval(this.TIMERRES),this.container.off(".imglazyload"+this.uuid),$(window).off(".imglazyload"+this.uuid))}});return a}),define("cUtilDate",["cCoreInherit"],function(a){var b=new a.Class({initialize:function(a){a=a||new Date,this.date=new Date(a)},addDay:function(a){return a=a||0,this.date.setDate(this.date.getDate()+a),this},addMonth:function(a){return a=a||0,this.date.setMonth(this.date.getMonth()+a),this},addHours:function(a){return a=a||0,this.date.setHours(this.date.getHours()+a),this},addMinutes:function(a){return a=a||0,this.date.setMinutes(this.date.getMinutes()+a),this},addSeconds:function(a){return a=a||0,this.date.setSeconds(this.date.getSeconds()+a),this},addYear:function(a){return a=a||0,this.date.setYear(this.date.getFullYear()+a),this},setHours:function(){return this.date.setHours.apply(this.date,arguments),this},valueOf:function(){return this.date},getTime:function(){return this.date.valueOf()},toString:function(){return this.date.toString()},format:function(a){"string"!=typeof a&&(a="");for(var b in this._MAPS)a=this._MAPS[b].call(this,a,this.date,b);return a},diffMonth:function(a){var c=parseInt(this.format("Y"),10),d=parseInt(this.format("m"),10),e=new b(a),f=parseInt(e.format("Y"),10),g=parseInt(e.format("m"),10);return 12*(f-c)+(g-d)},_DAY1:["","","","","","",""],_DAY2:["","","","","","",""],_MAPS:{d:function(a,b,c){var d=b.getDate().toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},j:function(a,b,c){return a.replace(new RegExp(c,"mg"),b.getDate())},N:function(a,b,c){var d=b.getDay();return 0===d&&(d=7),a.replace(new RegExp(c,"mg"),d)},w:function(a,b,c){var d=b.getDay(),e=this._DAY1[d];return a.replace(new RegExp(c,"mg"),e)},W:function(a,b,c){var d=b.getDay(),e=this._DAY2[d];return a.replace(new RegExp(c,"mg"),e)},m:function(a,b,c){var d=(b.getMonth()+1).toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},n:function(a,b,c){return a.replace(c,b.getMonth()+1)},Y:function(a,b,c){return a.replace(new RegExp(c,"mg"),b.getFullYear())},y:function(a,b,c){return a.replace(new RegExp(c,"mg"),b.getYear())},g:function(a,b,c){var d=b.getHours();return d>=12&&(d-=12),a.replace(new RegExp(c,"mg"),d)},G:function(a,b,c){return a.replace(new RegExp(c,"mg"),b.getHours())},h:function(a,b,c){var d=b.getHours();return d>=12&&(d-=12),d+="",d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},H:function(a,b,c){var d=b.getHours().toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},i:function(a,b,c){var d=b.getMinutes().toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},s:function(a,b,c){var d=b.getSeconds().toString();return d.length<2&&(d="0"+d),a.replace(new RegExp(c,"mg"),d)},I:function(a,b,c){var d=b.getMinutes().toString();return a.replace(new RegExp(c,"mg"),d)},S:function(a,b,c){var d=b.getSeconds().toString();return a.replace(new RegExp(c,"mg"),d)},D:function(a,c,d){var e=b.getServerDate();e.setHours(0,0,0,0),c=new Date(c.valueOf()),c.setHours(0,0,0,0);var f=864e5,g="",h=c-e;return h>=0&&(f>h?g="":2*f>h?g="":3*f>h&&(g="")),a.replace(new RegExp(d,"mg"),g)}}});return a.extend(b,{parse:function(a,c){if("undefined"==typeof a)return new Date;if("string"==typeof a){a=a||"";var d=/^(\d{4})\-?(\d{1,2})\-?(\d{1,2})/i;a.match(d)&&(a=a.replace(d,"$2/$3/$1"));var e=Date.parse(a),f=new Date(e||new Date);return c?f:new b(f)}return"number"==typeof a?new Date(a):new Date},getHM:function(a){var b=this._getDate(a),c=b.getHours(),d=b.getMinutes();return(10>c?"0"+c:""+c)+":"+(10>d?"0"+d:""+d)},getIntervalDay:function(a,b){var c=this._getDate(a),d=this._getDate(b);return c.setHours(0,0,0,0),d.setHours(0,0,0,0),parseInt((d-c)/864e5)},m2H:function(a){var b=Math.floor(a/60),c=a%60;return(b>0?b+"":"")+(c>0?c+"":"")},_getDate:function(a){var c=b.parse(a,!0),d=new Date;return d.setTime(c),d},format:function(a,c){return new b(a).format(c)},weekday:function(a){var b=["","","","","","",""],c=new Date(a);return b[c.getDay()]},diffMonth:function(a,c){return a=new b(a),a.diffMonth(c)},getServerDate:function(a){var b=new Date,c=function(b){return"function"==typeof a?a(b):b},d=function(){var a=window.localStorage.getItem("SERVERDATE");if(!a)return c(b);try{if(a=JSON.parse(a),a&&a.server&&a.local){var d=window.parseInt(a.server),e=window.parseInt(a.local),f=(new Date).getTime(),g=new Date(d+f-e);return c(g)}return c(b)}catch(h){return c(b)}},e=function(){if("undefined"==typeof __SERVERDATE__||!__SERVERDATE__.server)return c(b);var a=new Date(__SERVERDATE__.server.valueOf()+((new Date).valueOf()-__SERVERDATE__.local.valueOf()));return c(a)};return Lizard.isHybrid?d():e()}}),b}),define("cUtilObject",[],function(){var a={};return a.set=function(a,b,c){if(!b)return null;var d=b.split(".");a=a||{};for(var e=0,f=d.length,g=Math.max(f-1,0);f>e;e++)g>e?a=a[d[e]]=a[d[e]]||{}:a[d[e]]=c;return a},a.get=function(a,b){if(!a||!b)return null;var c=b.split(".");a=a||{};var d=0,e=c.length;for(Math.max(e-1,0);e>d;d++)if(a=a[c[d]],null===a||"undefined"==typeof a)return null;return a},a}),define("cAbstractStore",["cCoreInherit","cUtilDate","cUtilObject"],function(a,b,c){HObject=c;var d=new a.Class({__propertys__:function(){this.NULL={},this.key=this.NULL,this.lifeTime="30M",this.useServerTime=!1,this.defaultData=null,this.sProxy=this.NULL,this.userData=!1,this.rollbackEnabled=!1},initialize:function(a){for(var b in a)this[b]=a[b];this.assert()},assert:function(){if(this.key===this.NULL)throw"not override key property"},set:function(a,c,d){var e=this._getNowTime(),f=new b(this.getExpireTime());e.addSeconds(this._getLifeTime());var g=f.getTime();e.getTime()<g&&(e=f),this.rollbackEnabled&&!d&&(d=a),this.sProxy.set(this.key,a,e,c,null,d)},setAttr:function(a,b,c){if(!_.isObject(a)){c=c||this.getTag();var d=this.get(c)||{},e={};if(d){if(this.rollbackEnabled){e=this.get(c,!0);var f=HObject.get(d,a);HObject.set(e,a,f)}return HObject.set(d,a,b),this.set(d,c,e)}return!1}for(var g in a)a.hasOwnProperty(g)&&this.setAttr(g,a[g],b)},setLifeTime:function(a,c){this.lifeTime=a;var d,e=this.getTag(),f=this.get();d=c?this._getNowTime():this.sProxy.getSaveDate(this.key,!0)||this._getNowTime();var g=new b(d.valueOf()).format("Y/m/d H:i:s");d.addSeconds(this._getLifeTime()),this.sProxy.set(this.key,f,d,e,g)},get:function(b,c){var d=null,e=!0;"[object Array]"===Object.prototype.toString.call(this.defaultData)?d=this.defaultData.slice(0):this.defaultData&&(d=$.extend(!0,{},this.defaultData));var f=this.sProxy.get(this.key,b,c),g=typeof f;if({string:!0,number:!0,"boolean":!0}[g])return f;if(f)if("[object Array]"==Object.prototype.toString.call(f)){d=[];for(var h=0,i=f.length;i>h;h++)d[h]=f[h]}else f&&!d&&(d={}),a.extend(d,f);for(var j in d){e=!1;break}return e?null:d},getAttr:function(a,b){var c=this.get(b),d=null;return c&&(d=HObject.get(c,a)),d},getTag:function(){return this.sProxy.getTag(this.key)},remove:function(){this.sProxy.remove(this.key)},removeAttr:function(a){var b=this.get()||{};b[a]&&delete b[a],this.set(b)},getExpireTime:function(){var a=null;try{a=this.sProxy.getExpireTime(this.key)}catch(b){console&&void 0}return a},setExpireTime:function(a){var c=this.get(),d=b.parse(a);this.sProxy.set(this.key,c,d)},_getNowTime:function(){return this.useServerTime?new b(cUtilityServertime.getServerDate()):new b},_getLifeTime:function(){var a=0,b=this.lifeTime+"",c=b.charAt(b.length-1),d=+b.substring(0,b.length-1);return c="number"==typeof c?"M":c.toUpperCase(),a="D"==c?24*d*60*60:"H"==c?60*d*60:"M"==c?60*d:"S"==c?d:60*d},rollback:function(a){if(this.rollbackEnabled){var b=this.getTag(),c=this.sProxy.get(this.key,b),d=this.sProxy.get(this.key,b,!0);if(a&&a instanceof Array)for(var e in a){var f=a[e],g=d[f];"undefined"!=typeof g&&(c[f]=g)}else c=d,d={};this.set(c,b,d)}}});return d.getInstance=function(){return this.instance?this.instance:this.instance=new this},d}),define("cAbstractStorage",["cUtilDate","cCoreInherit"],function(a,b){var c=window.JSON,d=new b.Class({__propertys__:function(){this.proxy=null,this.overdueClearKey="C_CLEAR_OVERDUE_CATCH"
},initialize:function(){},removeOverdueCathch:function(){var b=(new a).getTime(),c=this.proxy.getItem(this.overdueClearKey),d=[],e=[];if(c){d=JSON.parse(c);for(var f,g=0;g<d.length;g++)f=d[g],new Date(f.timeout).getTime()<=b?this.proxy.removeItem(f.key):e.push(f);this.proxy.setItem(this.overdueClearKey,JSON.stringify(e))}},_removeOdCLately:function(a){a=a||5;var b=this.proxy.getItem(this.overdueClearKey),c=[];if(b){c=JSON.parse(b),c.sort(function(a,b){var c=new Date(a.timeout).getTime(),d=new Date(b.timeout).getTime();return c-d});for(var d=c.splice(0,a)||[],e=0;e<d.length;e++)this.proxy.removeItem(d[e].key);this.proxy.removeItem(this.overdueClearKey),c.length>0&&this.proxy.setItem(this.overdueClearKey,JSON.stringify(c))}},_setOverdueCathch:function(b,c){if(b&&c&&!(a.parse(c,!0)<new Date)){var d={},e=[],f=this.proxy.getItem(this.overdueClearKey);d.key=b,d.timeout=c,f&&(e=JSON.parse(f));for(var g,h=!1,i=0;i<e.length;i++)g=e[i],g.key==b&&(e[i]=d,h=!0);h||e.push(d),this.proxy.setItem(this.overdueClearKey,JSON.stringify(e))}},_buildStorageObj:function(a,b,c,d,e){var f={value:a,timeout:b,tag:c,savedate:d};return e&&(f.oldvalue=e),f},set:function(b,d,e,f,g,h){g=g||(new a).format("Y/m/d H:i:s"),e=e?new a(e):(new a).addDay(30);var i=e.format("Y/m/d H:i:s");this._setOverdueCathch(b,i);var j=this._buildStorageObj(d,i,f,g,h);try{return this.proxy.setItem(b,c.stringify(j)),!0}catch(k){"QuotaExceededError"==k.name&&(this._removeOdCLately(),this.set(b,d,e,f,g,h)),console&&void 0}return!1},get:function(b,d,e){var f,g=null;try{f=this.proxy.getItem(b),f&&(f=c.parse(f),a.parse(f.timeout,!0)>=new Date&&(d?d===f.tag&&(g=e?f.oldvalue:f.value):g=e?f.oldvalue:f.value))}catch(h){console&&void 0}return g},getTag:function(a){var b,d=null;try{b=this.proxy.getItem(a),b&&(b=c.parse(b),d=b&&b.tag)}catch(e){console&&void 0}return d},getSaveDate:function(b,d){var e,f=null;try{e=this.proxy.getItem(b),e&&(e=c.parse(e),e.savedate&&(f=a.parse(e.savedate),d||(f=f.valueOf())))}catch(g){console&&void 0}return f},getExpireTime:function(a){var b=null,d=null;try{b=this.proxy.getItem(a),b&&(b=c.parse(b),d=Date.parse(b.timeout))}catch(e){console&&void 0}return d},remove:function(a){return this.proxy.removeItem(a)},getAll:function(){for(var a=this.proxy.length,b=[],c=0;a>c;c++){var d=this.proxy.key(c),e={key:d,value:this.get(d)};b.push(e)}return b},clear:function(){this.proxy.clear()},gc:function(){for(var a=this.proxy,b=this.proxy.length,c=0;b>c;c++){var d=a.key(c);if("GUID"==d)break;try{this.get(d)||this.remove(d)}catch(e){}}}});return d}),define("cLocalStorage",["cCoreInherit","cUtilDate","cAbstractStorage"],function(a,b,c){var d=new a.Class(c,{__propertys__:function(){},initialize:function($super,a){this.proxy=window.localStorage,$super(a)},oldGet:function(a){var c=localStorage.getItem(a),d=c?JSON.parse(c):null;if(d&&d.timeout){var e=new Date,f=b.parse(d.timeout).valueOf();if(d.timeby){if(f-e>=0)return d}else if(f-b.parse(b.format(e,"Y-m-d")).valueOf()>=0)return d;return localStorage.removeItem(a),null}return d},oldSet:function(a,b){localStorage.setItem(a,b)},getExpireTime:function(a){var c=localStorage.getItem(a),d=c?JSON.parse(c):null;return d&&d.timeout?d.timeout:new b(b.getServerDate()).format("Y-m-d")},oldRemove:function(a){localStorage.removeItem(a)}});return d.getInstance=function(){return this.instance?this.instance:this.instance=new this},d.localStorage=d.getInstance(),d}),define("cUtilCommon",["cUtilDate"],function(a){var b={};return b.Date=a,b.getServerDate=a.getServerDate,b.isInApp=Lizard.isHybrid,b.isSupportPushState=function(){return Lizard.isHybrid?!1:!!(window.history&&window.history.pushState&&window.history.replaceState)}(),b.isPrivateModel=function(){var a="TEST_PRIVATE_MODEL",b=window.localStorage;try{b.setItem(a,1),b.removeItem(a)}catch(c){return!0}return!1}(),b.isExternalLink=function(a){var b=new RegExp(/^mailto:|^tel:|^javascript:/);return b.test(a)},b.weakUpApp=function(a){var c=document.createElement("iframe");c.height=1,c.width=1,c.frameBorder=0,c.style.position="absolute",c.style.left="-9999px",c.style.top="-9999px",document.body.appendChild(c),b.weakUpApp=function(a){c.src=a},b.weakUpApp(a)},b.createGuid=function(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function b(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}return b()},b.getGuid=function(){var a=b.getCookie("GUID"),c=window.localStorage;if(a)try{c.setItem("GUID",a)}catch(d){}else a=c.getItem("GUID")||"";return a},b.getCookie=function(a){var b=document.cookie,c="";if(b)for(var d,e,f=b.split("; "),g=0;g<f.length;g++)d=f[g],e=d.indexOf("="),d.substr(0,e)==a&&(c=d.substr(e+1));return c},b.isAndroid=function(){return $.os.android}(),b.isIphone=function(){return $.os.iphone}(),b.isIpad=function(){return $.os.ipad}(),b.isWPhone=function(){return window.navigator.userAgent.indexOf("Windows Phone")>1}(),b.isUrl=function(a){return/^http(s)?:\/\/[A-Za-z0-9\-]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\:+!]*([^<>])*$/.test(a)},b}),define("cMemoryStorage",["cCoreInherit","cUtilDate","cAbstractStorage","cUtilCommon"],function(a,b,c,d){var e=window.location.host,f={},g={dataMap:{},setItem:function(a,b){g.dataMap[a]=b,g.reSetName()},getItem:function(a){if(_.isEmpty(g.dataMap))try{var b=JSON.parse(window.name)[e];_.isObject(b)&&(g.dataMap=b)}catch(c){}return g.dataMap[a]},removeItem:function(a){delete g.dataMap[a],g.reSetName()},clear:function(){g.dataMap={},g.reSetName()},reSetName:function(){d.isPrivateModel&&(f[e]=g.dataMap,window.name=JSON.stringify(f))}},h=new a.Class(c,{__propertys__:function(){},initialize:function($super,a){this.proxy=g,$super(a)}});return h.getInstance=function(){return this.instance?this.instance:this.instance=new this},h}),define("cLocalStore",["cCoreInherit","cAbstractStore","cLocalStorage","cMemoryStorage","cUtilCommon"],function(a,b,c,d,e){var f=new a.Class(b,{__propertys__:function(){this.sProxy=e.isPrivateModel?d.getInstance():c.getInstance()},initialize:function($super,a){$super(a)}});return f}),define("cUserStore",["cCoreInherit","cLocalStore","cLocalStorage","cUtilCommon"],function(a,b,c,d){var e=c.localStorage,f=new a.Class(b,{__propertys__:function(){this.key="USER",this.lifeTime="30D"},initialize:function($super,a){$super(a)},getUser:function(a){if(!_.isFunction(a)){var b=e.oldGet("USERINFO");return b=b&&b.data||null,b&&this.set(b),b||this.get()}var c=this;require(["cUserModel"],function(b){var e=function(b){b.UserID&&(b.LoginName=b.LoginName||"",b.ResponseStatus&&(delete b.ResponseStatus,delete b.Result),b.Auth=b.Auth?b.Auth:g,c.setUser(b),"Invalid Date"!=new Date(b.ExpiredTime)&&c.setExpireTime(b.ExpiredTime)),a(c.getUser())},f=function(){a(c.getUser())},g=d.getCookie("authkey");if(g){c.setAuth(g);var h=b.GetUserModel.getInstance();h.param={Auth:g},h.checkAuth=!1,h.excute(e,f)}})},setUser:function(a){this.set(a);var b=e.getExpireTime("USER"),c={data:a,timeout:b};e.oldSet("USERINFO",JSON.stringify(c))},removeUser:function(){e.oldRemove("USERINFO"),this.remove()},isNonUser:function(){var a=this.getUser();return a&&!!a.IsNonUser},isLogin:function(){var a=this.getUser();return a&&!!a.Auth&&!a.IsNonUser},getUserName:function(){var a=this.getUser();return a&&a.UserName},getUserId:function(){var a=this.getUser()||{};return a.UserID||d.getGuid()},getAuth:function(){var a=this.getUser();return a&&a.Auth},setAuth:function(a){var b=this.isLogin(),c=this.getUser()||{};c.Auth=a,c.IsNonUser=b?!1:!0,this.setUser(c)},setThirdParts:function(a){var b=this.isLogin(),c=this.getUser()||{};b&&a&&(c.thirdParts=a,this.setUser(c))},setThirdPartsNon:function(){var a=this.isLogin(),b=this.getUser()||{};a&&(b.thirdParts="",this.setUser(b))},getThirdParts:function(){var a=this.getUser();return a&&a.thirdParts},getThirdPart:function(a){var b=this.getUser();if(a&&b&&b.thirdParts&&b.thirdParts.length>0){var c=b.thirdParts;return _.find(c,function(b){return b.ThirdPartType==a?b:void 0})}},setNonUser:function(a){var b=Common.HeadStore.getInstance();b.setAttr("auth",a);var c={};c.Auth=a,c.IsNonUser=!0,this.setUser(c)},setExpireTime:function($super,a){$super(a);var b=this.get(),c={data:b,timeout:a};e.oldSet("USERINFO",JSON.stringify(c))}});return f}),define("cHeadStore",["cCoreInherit","cLocalStore","cUtilCommon"],function(a,b,c){var d=new a.Class(b,{__propertys__:function(){this.key="HEADSTORE",this.lifeTime="15D",this.defaultData={cid:c.getGuid(),ctok:"",cver:"1.0",lang:"01",sid:"8888",syscode:"09",auth:""}},initialize:function($super,a){$super(a)},setAuth:function(a){this.setAttr("auth",a)}});return d}),define("cMarketStore",["cCoreInherit","cLocalStore","cLocalStorage"],function(a,b,c){var d={},e=c.localStorage;return d.UnionStore=new a.Class(b,{__propertys__:function(){this.key="UNION",this.lifeTime="7D",this.store=e},initialize:function($super,a){$super(a)},get:function(){var a=this.store.oldGet(this.key)||this.store.get(this.key);return a&&a.data||null}}),d.SalesStore=new a.Class(b,{__propertys__:function(){this.key="SALES",this.lifeTime="30D",this.store=e},initialize:function($super,a){$super(a)},get:function(){var a=this.store.oldGet(this.key);return a&&a.data||null}}),d.SalesObjectStore=new a.Class(b,{__propertys__:function(){this.key="SALES_OBJECT",this.lifeTime="30D"},initialize:function($super,a){$super(a)}}),d.UnionStore.getInstance=d.SalesStore.getInstance=function(){return this.instance||new this},d}),define("cMobileTokenStore",["cCoreInherit","cLocalStore"],function(a,b){var c=new a.Class(b,{__propertys__:function(){this.key="PAUTH",this.lifeTime="30M"},set:function($super,a){$super(a),require(["cHybridShell"],function(b){var c=new b.Fn("app_do_business_job");c.run(1,"setMobileToken",{MobileToken:a})})}});return c}),define("cCommonStore",["cCoreInherit","cUserStore","cHeadStore","cMarketStore","cMobileTokenStore"],function(a,b,c,d,e){var f={};return f.UserStore=b,f.HeadStore=c,f.UnionStore=d.UnionStore,f.SalesStore=d.SalesStore,f.SalesObjectStore=d.SalesObjectStore,f.MobileTokenStore=e,f}),define("cParserUtil",[],function(){function reString(a){var b={"\r":"\\r","\n":"\\n","	":"\\t"},c=/([\.\\\/\+\*\?\[\]\{\}\(\)\^\$\|])/g,d=/[\r\t\n]/g;return a.replace(c,"\\$1").replace(d,function(a){return b[a]})}function fixReString(a){for(var b=a.split(""),c=!1,d="",e=[];d=b.shift();)e.push(d),"\\"==d?e.push(b.shift()):"["!=d||c?"]"==d&&c?c=!1:"("!=d||c||"?"==b[0]&&("!"==b[1]||(":"==b[1]||"="==b[1]?(b.shift(),b.shift(),e.push("?"),e.push(":")):(e.push("?"),e.push(":")))):c=!0;return e.join("")}function urlParse(a,b){var c=[],d=[],e={},f=schemaRegs[a];if((_.isString(b)||_.isUndefined(f))&&(f=schemaRegs[a]=a.replace(/\{\{(.+?)\}\}/g,function(a,b){return d.push(b),"{@"+(d.length-1)+"}"}).replace(/\{(@?)(.+?)\}|[^\{\}]+/g,function(a,b,e){var f="";if(e)if(b){var g=d[e].match(/^(?:(?:\((\w+)\))?([^!=]+?)|([^!=]+?)=(.*))$/);if(g)if(g[2]){switch(g[1]){case"number":f="(\\d+(?:\\.\\d*)?|\\.\\d+)";break;case"int":f="(\\d+)";break;case"letter":f="([a-z _\\-\\$]+)";break;default:f="([^\\/]*)"}c.push(g[2])}else if(c.push(g[3]),/^\/.*\/$/.test(g[4]))f="("+fixReString(g[4].slice(1,-1))+")";else{for(var h=g[4].split("||"),i=0;i<h.length;i++)h[i]=reString(h[i]);f="("+h.join("|")+")"}else f=""}else c.push(e),f="([^\\/]*)";else f=reString(a);return f})),_.isUndefined(b))return f;b=b.replace(/[#\?].*$/g,"");var g=b.match(new RegExp(f,"i")),h="/([^/]*)";"\\"!=f[f.length-1]&&(h="\\/([^/]*)");var i=b.match(new RegExp(f+h,"i"));if(g&&!i){for(var j=0;j<c.length;j++)e[c[j]]=g[j+1]||null;return{reStr:f,param:e,index:g.index}}return{}}var ParseUtil={},uuid=0,schemaRegs={};return ParseUtil.getID=function(){var a="client_id_viewport_"+ ++uuid+"_"+(new Date).getTime();return a},ParseUtil._containFunc=function(a,b){var c=!1;for(var d in a){if(c)return!0;if(_.isFunction(a[d])&&a[d].toString().indexOf(b.trim())>-1)return a[d]=a[d].toString().trim(),!0;(_.isObject(a[d])||_.isArray(a[d]))&&(c=ParseUtil._containFunc(a[d],b))}return c},ParseUtil.getPageUrlschema=function(configStr){var ret="",arr=configStr.match(/([\'\"])?url_schema\1\s*:\s*([\'\"])(.*?)\2/)||configStr.match(/([\'\"])?url_schema\1\s*:\s*\[\s*([\'\"])((.|\s)*?)\2(\s*|,)]/);return arr?(eval("ret = {"+arr[0]+"}['url_schema']"),ret):""},ParseUtil.getPageParams=function(a,b){a=decodeURIComponent(a);var c={};"string"==typeof b&&(b=[b]),_.each(b,function(b){var d=Lizard.schema2re(b,a);d.reStr&&d.param&&(c=d.param)});for(var d,e,f,g,h=a.replace(/^[^\?#]*\??/g,"").replace(/#DIALOG_.*$/g,"").replace(/#\|cui-.*$/g,""),i=/([^&=?]+)=([^&]+)/g,j=/\/+.*\?/,k=/(.+)\[\]$/;d=i.exec(h);){if(e=d[1].toLowerCase(),f=d[2],g=e.match(k),j.test(f)){c[e]=h.substr(h.indexOf(f));break}g?(e=g[1],c[e]=c[e]||[],c[e].push(f)):c[e]=f}return c},ParseUtil.parseDepend=function(a){var b=a.match(/Lizard.D\(([\'\"])(.*?)([\'\"])\)(.*?)(,|\s)/g),c=[];return b&&_.each(b,function(a){var b=a.split(",").join("").split("}").join("");c.push(b)}),c},ParseUtil._runUnderscore=function(a,b){b||(b={});var c="";if(a){{var d=_.template(a);Lizard.T}c=d(b,{Lizard:Lizard}).trim()}return c},Lizard.getModels=function(pageConfig){pageConfig.model||(pageConfig.model={});var apis=pageConfig.model.apis||[],ret=[],dataexpr=pageConfig.dataexpr;return _.each(apis,function(api){api.runat=api.runat||"all",(api.runat==Lizard.renderAt||"all"==api.runat)&&ret.push(api),api.suspend="suspend"in api?api.suspend.toString():!1,_.each(dataexpr,function(p){var postdataStr=JSON.stringify(api.postdata);(JSON.stringify(postdataStr).indexOf(p)>-1||ParseUtil._containFunc(api.postdata,p)||api.suspend&&api.suspend.indexOf(p)>-1)&&(api.depends||(api.depends=[],api.expressionMap={}),api.depends.push(eval(p.match(/Lizard.D\(([\'\"])(.*?)([\'\"])\)/g)[0].split("Lizard.D").join(""))),api.expressionMap[p]=dataexpr[p])})}),Lizard.errorBack=_.isFunction(pageConfig.errorBack)?pageConfig.errorBack:null,apis},Lizard.T=Lizard._T=function(a,b){if(1==arguments.length){var c="",d=Lizard.T.lizTmpl[a];return d&&"server"!=d.runat&&(c=d.text),c}return _runUnderscore(Lizard._T(a),b)},Lizard.P=function(a,b){var c=null;return c=_.isUndefined(b)?Lizard.P.lizParam[a]||Lizard.P.lizParam[a.toLowerCase()]:Lizard.P.lizParam[a]=b},Lizard.schema2re=urlParse,ParseUtil}),define("cPageParser",["cCoreInherit","cLocalStore","cCommonStore","cParserUtil"],function(cCoreInherit,cStore,CommonStore,ParseUtil){function getPageConfigStr(){var a=pageDocNode.find('script[type="text/lizard-config"]').text();return a||(a='{"url_schema": "","model": {"apis": []},"view":{}}'),a}function getPageConfig(){var configStr=getPageConfigStr(),dataexpr=parseDepend(configStr);if(eval("var ret = "+configStr),!ret.viewName)if(ret.controller){var viewName=ret.controller.substring(ret.controller.lastIndexOf("/")+1);ret.viewName=viewName.substring(0,viewName.indexOf("."))}else ret.viewName="emptyName";return ret.dataexpr=dataexpr,ret}function getPageTemplates(){var a={},b=pageDocNode.find('script[type="text/lizard-template"]');return _.each(b,function(b){var c=$(b);c.attr("id")&&(a[c.attr("id")]={runat:c.attr("runat")||"all",text:removeTags(c.text(),"client")})}),a}function removeTags(a,b){var c=$("<SCRIPT>"+a+"</SCRIPT>");return c.find("[runat="+b+"]").remove(),c.text()}function _setTDKInfo(a,b){var c=[],d=b.model.setTDK?b.model.setTDK(a):{},e=pageDocNode.find("title");return d.title&&(e&&e.remove(),c.push("<title>"+d.title+"</title>"),document.title=d.title),_.each(d,function(a,b){if(a){var d=pageDocNode.find('meta[name="'+b+'"]');d&&d.remove(),c.push('<meta name="'+b+'" content="'+a+'" />')}}),{TDK:d,TDKStr:c.join("")}}function _setUBTInfo(){var varNames=["page_id","bf_ubt_orderid","ab_testing_tracker"];if(_.each(varNames,function(varName){var values="",node=pageDocNode.find("#"+varName);node.get(0)&&(values=node.val()),eval(varName+" = '"+values+"'")}),_.isArray(ab_testing_tracker)){var ret=[];_.each(ab_testing_tracker,function(a){_.each(a.attr("value").split(";"),function(a){a&&ret.push(a)})}),ab_testing_tracker=ret.join(";")}}var pageDocNode=null;_.each(_.keys(ParseUtil),function(a){window[a]=ParseUtil[a]}),Lizard._initParser=function(a,b){pageDocNode=$("<DIV>"+b+"</DIV>"),Lizard.T.lizTmpl=getPageTemplates(),Lizard.P.lizParam=getPageParams(a,getPageUrlschema(getPageConfigStr()));var c=getPageConfig();return c.pageUrl=a,c},Lizard.S=function(a,b,c){return this.loacaStores||(this.loacaStores={}),this.loacaStores[a]||(this.loacaStores[a]="SALES"==a?CommonStore.SalesStore:"SALES_OBJECT"==a?CommonStore.SalesObjectStore:"UNION"==a?CommonStore.UnionStore:new cCoreInherit.Class(cStore,{__propertys__:function(){this.key=a}})),b?this.loacaStores[a].getInstance().get()&&this.loacaStores[a].getInstance().get().hasOwnProperty(b)?this.loacaStores[a].getInstance().get()[b]:c:this.loacaStores[a].getInstance().get()},Lizard.D=function(a){return this.ajaxDatas&&this.ajaxDatas[a]?this.ajaxDatas[a]:null},Lizard.render=function(a,b,c){var d={header:"",viewport:""},e=!0;if(_.isFunction(a.validate))e=a.validate(b),!e&&_.isFunction(a.modelOnError)&&(d=a.modelOnError(b));else{var f=_setTDKInfo(b,a);_setUBTInfo(),a.model.filter&&(b=a.model.filter.call(this,b,f.TDK))}if("server"!=c)for(var g in a.view)a.view.hasOwnProperty(g)&&(d[g]=_runUnderscore(a.view[g],b));var h=getID(a.pageUrl);return d.viewport=['<div id="',h,'" page-url="',a.pageUrl,'">',d.viewport,"</div>"].join("").trim(),d.id=h,d.controller=a.controller,d.config=a,d.datas=b,d.lizTmpl=Lizard.T.lizTmpl,d.lizParam=Lizard.P.lizParam,d.TDK=f.TDKStr,d.validateRet=e,d.page_id=page_id,d.ab_testing_tracker=ab_testing_tracker,d.bf_ubt_orderid=bf_ubt_orderid,d},Lizard.getController=function(a){return a.controller}}),define("cUtilCacheView",[],function(){function a(){this.catchs={},this.backups={},this.orderCaches=[]}return a.prototype={add:function(a,b){this.catchs[a]=b,this.orderCaches.push({key:a,url:b.url,viewName:b.viewName}),this.backups[a]={url:b.url,opts:b.opts,text:b.text,datas:b.datas,viewName:b.viewName}},_delElemFromCollection:function(a,b,c){a=_.reject(a,function(a){return a[b]==c})},delOrderCaches:function(a,b){this._delElemFromCollection(this.orderCaches,a,b)},delById:function(a){this.catchs[a]&&delete this.catchs[a],this.delOrderCaches("key",a)},delByName:function(a){this._delElemFromCollection(this.catchs,"viewName",a),this.delOrderCaches("viewName",a)},delByURL:function(a){this._delElemFromCollection(this.catchs,"url",a),this.delOrderCaches("url",a)},delByIdFromBackups:function(a){this.backups[a]&&delete this.backups[a],this.delOrderCaches("key",a)},delByNameFromBackups:function(a){this._delElemFromCollection(this.backups,"viewName",a),this.delOrderCaches("viewName",a)},delByURLFromBackups:function(a){this._delElemFromCollection(this.backups,"url",a),this.delOrderCaches("url",a)},findById:function(a){return this.catchs[a]},findByName:function(a){return _.findWhere(this.catchs,{viewName:a})},findByIdFromBackups:function(a){return this.backups[a]},findByNameFromBackups:function(a){return _.findWhere(this.backups,{viewName:a})},findByURLFromBackups:function(a){return _.findWhere(this.backups,{url:a})},length:function(){return _.size(this.catchs)},each:function(a){_.isFunction(a)&&_.each(this.catchs,function(b,c){a(c,b)})}},a}),define("cUtilPath",["$"],function(){var a={};return a.parseUrl=function(a){var b=/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,c=b.exec(a||"")||[];return{href:c[0]||"",hrefNoHash:c[1]||"",hrefNoSearch:c[2]||"",domain:c[3]||"",protocol:c[4]||"",doubleSlash:c[5]||"",authority:c[6]||"",username:c[8]||"",password:c[9]||"",host:c[10]||"",hostname:c[11]||"",port:c[12]||"",pathname:c[13]||"",directory:c[14]||"",filename:c[15]||"",search:c[16]||"",hash:c[17]||""}},a.getUrlParam=function(a,b){var c=new RegExp("(\\?|&)"+b+"=([^&]+)(&|$)","i"),d=a.match(c);return d?d[2]:""},a.getUrlParams=function(a){for(var b,c,d,e,a=a.split("://"),f=/([^&=?]+)=([^&]+)/g,g={};b=f.exec(a[0]);)e=b[1],c=b[2],g[e]=c;if(a[1]){var h=0;d=_.size(g),_.each(g,function(b,c){++h==d&&(g[c]+="://"+a[1])})}return g},a.formatHybridUrl=function(a,b){var c="";if(!a)return c;if(c=a,!a.match(/^(http|ctrip)/gim)){a=a.replace(/file:[/]*/,"");var d=/(webapp|webapp_work)\/([^\/]*)\/([\S\s]*)/,e=a.match(d);if(e&&e.length>3){var f=e[2],g=e[3];c=g.indexOf(".html#")<0?f+"/index.html#/webapp/"+f+"/"+g:f+"/"+g}b&&(c=b+c)}return c},a}),define("cUtilValidate",["$"],function(){var a={isEmail:function(a){var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)},isPassword:function(a){var b=/^[a-zA-Z0-9]{6,20}$/;return b.test(a)},isMobile:function(a){var b=/^(1[3-8][0-9])\d{8}$/;return b.test(a)},isChinese:function(a){var b=/^[\u4e00-\u9fff]{0,}$/;return b.test(a)},isEnglish:function(a){var b=/^[A-Za-z]+$/;return b.test(a)},isZip:function(a){var b=/^\d{6}$/;return b.test(a)},isDateStr:function(a){var b=/^(([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})(((0[13578]|1[02])(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)(0[1-9]|[12][0-9]|30))|(02(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))0229)$/;return b.test(a)?!0:!1},isTraditional:function(a){for(var b="",c=0;c<a.length;c++){var d=a.charAt(c);if(b.indexOf(d)>-1)return!0}return!1},isIdCard:function(a){var b=a.toLowerCase().match(/\w/g);if(a.match(/^\d{17}[\dx]$/i)){for(var c=0,d=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],e=0;17>e;e++)c+=parseInt(b[e],10)*d[e];return"10x98765432".charAt(c%11)!=b[17]?!1:!!a.replace(/^\d{6}(\d{4})(\d{2})(\d{2}).+$/,"$1-$2-$3")}return a.match(/^\d{15}$/)?!!a.replace(/^\d{6}(\d{2})(\d{2})(\d{2}).+$/,"19$1-$2-$3"):!1},isQq:function(a){return/^[1-9]\d{4,}$/.test(a)},isUrl:function(a){return/^http(s)?:\/\/[A-Za-z0-9\-]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\:+!]*([^<>])*$/.test(a)},isIP:function(a){if(!a||result.isNull(a))return!1;var b=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g;return b.test(a)&&RegExp.$1<256&&RegExp.$2<256&&RegExp.$3<256&&RegExp.$4<256?!0:!1},isCharsLenWithinRange:function(a,b){if(!result.isString(a))return!1;var c=a.match(/\W/g),d=null==c?a.length:a.length+c.length,e=d>=0&&b>=d;return e?(this.cutLen=a.length,!0):!1}};return a}),define("cUtilCryptBase64",[],function(){var a,b={},c=b.Base64,d="2.1.4";"undefined"!=typeof module&&module.exports&&(a=require("buffer").Buffer);var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=function(a){for(var b={},c=0,d=a.length;d>c;c++)b[a.charAt(c)]=c;return b}(e),g=String.fromCharCode,h=function(a){if(a.length<2){var b=a.charCodeAt(0);return 128>b?a:2048>b?g(192|b>>>6)+g(128|63&b):g(224|b>>>12&15)+g(128|b>>>6&63)+g(128|63&b)}var b=65536+1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320);return g(240|b>>>18&7)+g(128|b>>>12&63)+g(128|b>>>6&63)+g(128|63&b)},i=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,j=function(a){return a.replace(i,h)},k=function(a){var b=[0,2,1][a.length%3],c=a.charCodeAt(0)<<16|(a.length>1?a.charCodeAt(1):0)<<8|(a.length>2?a.charCodeAt(2):0),d=[e.charAt(c>>>18),e.charAt(c>>>12&63),b>=2?"=":e.charAt(c>>>6&63),b>=1?"=":e.charAt(63&c)];return d.join("")},l=b.btoa?function(a){return b.btoa(a)}:function(a){return a.replace(/[\s\S]{1,3}/g,k)},m=a?function(b){return new a(b).toString("base64")}:function(a){return l(j(a))},n=function(a,b){return b?m(a).replace(/[+\/]/g,function(a){return"+"==a?"-":"_"}).replace(/=/g,""):m(a)},o=function(a){return n(a,!0)},p=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),q=function(a){switch(a.length){case 4:var b=(7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3),c=b-65536;return g((c>>>10)+55296)+g((1023&c)+56320);case 3:return g((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return g((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},r=function(a){return a.replace(p,q)},s=function(a){var b=a.length,c=b%4,d=(b>0?f[a.charAt(0)]<<18:0)|(b>1?f[a.charAt(1)]<<12:0)|(b>2?f[a.charAt(2)]<<6:0)|(b>3?f[a.charAt(3)]:0),e=[g(d>>>16),g(d>>>8&255),g(255&d)];return e.length-=[0,0,2,1][c],e.join("")},t=b.atob?function(a){return b.atob(a)}:function(a){return a.replace(/[\s\S]{1,4}/g,s)},u=a?function(b){return new a(b,"base64").toString()}:function(a){return r(t(a))},v=function(a){return u(a.replace(/[-_]/g,function(a){return"-"==a?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},w=function(){var a=b.Base64;return b.Base64=c,a};if(b.Base64={VERSION:d,atob:t,btoa:l,fromBase64:v,toBase64:n,utob:j,encode:n,encodeURI:o,btou:r,decode:v,noConflict:w},"function"==typeof Object.defineProperty){var x=function(a){return{value:a,enumerable:!1,writable:!0,configurable:!0}};b.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",x(function(){return v(this)})),Object.defineProperty(String.prototype,"toBase64",x(function(a){return n(this,a)})),Object.defineProperty(String.prototype,"toBase64URI",x(function(){return n(this,!0)}))}}return b}),define("cUtilCryptRSA",[],function(){function a(a){K=a,L=new Array(K);for(var c=0;c<L.length;c++)L[c]=0;M=new b,N=new b,N.digits[0]=1}function b(a){this.digits="boolean"==typeof a&&1==a?null:L.slice(0),this.isNeg=!1}function c(a){var c=new b(!0);return c.digits=a.digits.slice(0),c.isNeg=a.isNeg,c}function d(a){var c=new b;c.isNeg=0>a,a=Math.abs(a);for(var d=0;a>0;)c.digits[d++]=a&T,a=Math.floor(a/Q);return c}function e(a){for(var b="",c=a.length-1;c>-1;--c)b+=a.charAt(c);return b}function f(a,c){var d=new b;d.digits[0]=c;for(var f=A(a,d),g=U[f[1].digits[0]];1==z(f[0],M);)f=A(f[0],d),digit=f[1].digits[0],g+=U[f[1].digits[0]];return(a.isNeg?"-":"")+e(g)}function g(a){var b=15,c="";for(i=0;i<4;++i)c+=V[a&b],a>>>=4;return e(c)}function h(a){for(var b="",c=(p(a),p(a));c>-1;--c)b+=g(a.digits[c]);return b}function k(a){var b,c=48,d=c+9,e=97,f=e+25,g=65,h=90;return b=a>=c&&d>=a?a-c:a>=g&&h>=a?10+a-g:a>=e&&f>=a?10+a-e:0}function l(a){for(var b=0,c=Math.min(a.length,4),d=0;c>d;++d)b<<=4,b|=k(a.charCodeAt(d));return b}function m(a){for(var c=new b,d=a.length,e=d,f=0;e>0;e-=4,++f)c.digits[f]=l(a.substr(Math.max(e-4,0),Math.min(e,4)));return c}function n(a,c){var d;if(a.isNeg!=c.isNeg)c.isNeg=!c.isNeg,d=o(a,c),c.isNeg=!c.isNeg;else{d=new b;for(var e,f=0,g=0;g<a.digits.length;++g)e=a.digits[g]+c.digits[g]+f,d.digits[g]=e%Q,f=Number(e>=Q);d.isNeg=a.isNeg}return d}function o(a,c){var d;if(a.isNeg!=c.isNeg)c.isNeg=!c.isNeg,d=n(a,c),c.isNeg=!c.isNeg;else{d=new b;var e,f;f=0;for(var g=0;g<a.digits.length;++g)e=a.digits[g]-c.digits[g]+f,d.digits[g]=e%Q,d.digits[g]<0&&(d.digits[g]+=Q),f=0-Number(0>e);if(-1==f){f=0;for(var g=0;g<a.digits.length;++g)e=0-d.digits[g]+f,d.digits[g]=e%Q,d.digits[g]<0&&(d.digits[g]+=Q),f=0-Number(0>e);d.isNeg=!a.isNeg}else d.isNeg=a.isNeg}return d}function p(a){for(var b=a.digits.length-1;b>0&&0==a.digits[b];)--b;return b}function q(a){var b,c=p(a),d=a.digits[c],e=(c+1)*P;for(b=e;b>e-P&&0==(32768&d);--b)d<<=1;return b}function r(a,c){for(var d,e,f,g=new b,h=p(a),i=p(c),k=0;i>=k;++k){for(d=0,f=k,j=0;j<=h;++j,++f)e=g.digits[f]+a.digits[j]*c.digits[k]+d,g.digits[f]=e&T,d=e>>>O;g.digits[k+h+1]=d}return g.isNeg=a.isNeg!=c.isNeg,g}function s(a,c){var d,e,f;result=new b,d=p(a),e=0;for(var g=0;d>=g;++g)f=result.digits[g]+a.digits[g]*c+e,result.digits[g]=f&T,e=f>>>O;return result.digits[1+d]=e,result}function t(a,b,c,d,e){for(var f=Math.min(b+e,a.length),g=b,h=d;f>g;++g,++h)c[h]=a[g]}function u(a,c){var d=Math.floor(c/P),e=new b;t(a.digits,0,e.digits,d,e.digits.length-d);for(var f=c%P,g=P-f,h=e.digits.length-1,i=h-1;h>0;--h,--i)e.digits[h]=e.digits[h]<<f&T|(e.digits[i]&W[f])>>>g;return e.digits[0]=e.digits[h]<<f&T,e.isNeg=a.isNeg,e}function v(a,c){var d=Math.floor(c/P),e=new b;t(a.digits,d,e.digits,0,a.digits.length-d);for(var f=c%P,g=P-f,h=0,i=h+1;h<e.digits.length-1;++h,++i)e.digits[h]=e.digits[h]>>>f|(e.digits[i]&X[f])<<g;return e.digits[e.digits.length-1]>>>=f,e.isNeg=a.isNeg,e}function w(a,c){var d=new b;return t(a.digits,0,d.digits,c,d.digits.length-c),d}function x(a,c){var d=new b;return t(a.digits,c,d.digits,0,d.digits.length-c),d}function y(a,c){var d=new b;return t(a.digits,0,d.digits,0,c),d}function z(a,b){if(a.isNeg!=b.isNeg)return 1-2*Number(a.isNeg);for(var c=a.digits.length-1;c>=0;--c)if(a.digits[c]!=b.digits[c])return a.isNeg?1-2*Number(a.digits[c]>b.digits[c]):1-2*Number(a.digits[c]<b.digits[c]);return 0}function A(a,d){var e,f,g=q(a),h=q(d),i=d.isNeg;if(h>g)return a.isNeg?(e=c(N),e.isNeg=!d.isNeg,a.isNeg=!1,d.isNeg=!1,f=o(d,a),a.isNeg=!0,d.isNeg=i):(e=new b,f=c(a)),new Array(e,f);e=new b,f=a;for(var j=Math.ceil(h/P)-1,k=0;d.digits[j]<R;)d=u(d,1),++k,++h,j=Math.ceil(h/P)-1;f=u(f,k),g+=k;for(var l=Math.ceil(g/P)-1,m=w(d,l-j);-1!=z(f,m);)++e.digits[l-j],f=o(f,m);for(var r=l;r>j;--r){var t=r>=f.digits.length?0:f.digits[r],x=r-1>=f.digits.length?0:f.digits[r-1],y=r-2>=f.digits.length?0:f.digits[r-2],A=j>=d.digits.length?0:d.digits[j],B=j-1>=d.digits.length?0:d.digits[j-1];e.digits[r-j-1]=t==A?T:Math.floor((t*Q+x)/A);for(var C=e.digits[r-j-1]*(A*Q+B),D=t*S+(x*Q+y);C>D;)--e.digits[r-j-1],C=e.digits[r-j-1]*(A*Q|B),D=t*Q*Q+(x*Q+y);m=w(d,r-j-1),f=o(f,s(m,e.digits[r-j-1])),f.isNeg&&(f=n(f,m),--e.digits[r-j-1])}return f=v(f,k),e.isNeg=a.isNeg!=i,a.isNeg&&(e=i?n(e,N):o(e,N),d=v(d,k),f=o(d,f)),0==f.digits[0]&&0==p(f)&&(f.isNeg=!1),new Array(e,f)}function B(a,b){return A(a,b)[0]}function C(a){this.modulus=c(a),this.k=p(this.modulus)+1;var d=new b;d.digits[2*this.k]=1,this.mu=B(d,this.modulus),this.bkplus1=new b,this.bkplus1.digits[this.k+1]=1,this.modulo=D,this.multiplyMod=E,this.powMod=F
}function D(a){var b=x(a,this.k-1),c=r(b,this.mu),d=x(c,this.k+1),e=y(a,this.k+1),f=r(d,this.modulus),g=y(f,this.k+1),h=o(e,g);h.isNeg&&(h=n(h,this.bkplus1));for(var i=z(h,this.modulus)>=0;i;)h=o(h,this.modulus),i=z(h,this.modulus)>=0;return h}function E(a,b){var c=r(a,b);return this.modulo(c)}function F(a,c){var d=new b;d.digits[0]=1;for(var e=a,f=c;;){if(0!=(1&f.digits[0])&&(d=this.multiplyMod(d,e)),f=v(f,1),0==f.digits[0]&&0==p(f))break;e=this.multiplyMod(e,e)}return d}function G(a,b,c){this.e=m(a),this.d=m(b),this.m=m(c),this.digitSize=2*p(this.m)+2,this.chunkSize=this.digitSize-11,this.radix=16,this.barrett=new C(this.m)}function H(a,c){if(a.chunkSize>a.digitSize-11)return"Error";for(var d=new Array,e=c.length,g=0;e>g;)d[g]=c.charCodeAt(g),g++;var i,j,k,l=d.length,m="";for(g=0;l>g;g+=a.chunkSize){k=new b,i=0;var n,o=g+a.chunkSize>l?l%a.chunkSize:a.chunkSize,p=new Array;for(n=0;o>n;n++)p[n]=d[g+o-1-n];p[o]=0;var q=Math.max(8,a.digitSize-3-o);for(n=0;q>n;n++)p[o+1+n]=Math.floor(254*Math.random())+1;for(p[a.digitSize-2]=2,p[a.digitSize-1]=0,j=0;j<a.digitSize;++i)k.digits[i]=p[j++],k.digits[i]+=p[j++]<<8;var r=a.barrett.powMod(k,a.e),s=16==a.radix?h(r):f(r,a.radix);m+=s+" "}return m.substring(0,m.length-1)}function I(a){{var b,c,d,e,f,g,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1)}for(d=a.length,c=0,b="";d>c;){if(e=255&a.charCodeAt(c++),c==d){b+=h.charAt(e>>2),b+=h.charAt((3&e)<<4),b+="==";break}if(f=a.charCodeAt(c++),c==d){b+=h.charAt(e>>2),b+=h.charAt((3&e)<<4|(240&f)>>4),b+=h.charAt((15&f)<<2),b+="=";break}g=a.charCodeAt(c++),b+=h.charAt(e>>2),b+=h.charAt((3&e)<<4|(240&f)>>4),b+=h.charAt((15&f)<<2|(192&g)>>6),b+=h.charAt(63&g)}return b}function J(a){var b=H(Y,I(a));return b}var K,L,M,N,O=16,P=O,Q=65536,R=Q>>>1,S=Q*Q,T=Q-1;a(20);var U=(d(1e15),new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z")),V=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),W=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535),X=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535);a(131);var Y=new G("10001","","B7273B08845EB1D93C9A6EB9C45BE087AF9E692C8B7DD6D38DECFA732E9A6CDCB52106BDDB9E13100AEF3638358D5B5EB9011C33B7AC3F697078C0572585B94119196F627025C6E7FA9AA5C82B149E2BB30FEA7D777AA453324A301FD46413E11A7DB4A9D5B2D4BD6330AE2C477D48250F057ABEF2BD76DC7574897254736A71"),Z=J;return{rsaEncrypted:Z,encode:J}}),define("cUtilHybrid",[],function(){var a=window.navigator.userAgent,b=window.localStorage,c={};return c.isPreProduction=function(){return b.getItem("isPreProduction")},c.getAppSys=function(){if(a.indexOf("CtripLite")>-1)return"ctriplite";var b=/.+_(\w+)_CtripWireless_(\w+)/,c=b.exec(a);return c&&c[1]?c[1].toLowerCase():null},c.getAppVer=function(){var b=a.match(/_([^_]+)$/);return b&&b[1]?b[1]:"1.0"},c.isInApp=Lizard.isHybrid,c.isInWeichat=function(){return a.indexOf("MicroMessenger")>-1?!0:!1}(),c.isLite=function(){return"ctriplite"==c.getAppSys()}(),c.isStandard=function(){return"ctrip"==c.getAppSys()}(),c.isPro=function(){return"pro"==c.getAppSys()}(),c.isUnicom=function(){return"unicom"==c.getAppSys()}(),c.isYounth=function(){return"youth"==c.getAppSys()}(),c.getNetStatus=function(){var a=b.getItem("CINFO"),c="None";try{var d=JSON.parse(a);c=d.networkStatus||""}catch(e){}return c},Object.defineProperty(c,"isSaveFlow",{get:function(){try{var a=window.localStorage.getItem("CINFO"),b=JSON.parse(a);return b.isSaveFlow}catch(c){return void 0}}}),c}),define("cSessionStorage",["cCoreInherit","cAbstractStorage"],function(a,b){var c=new a.Class(b,{__propertys__:function(){},initialize:function($super,a){this.proxy=window.sessionStorage,$super(a)}});return c.getInstance=function(){return this.instance?this.instance:this.instance=new this},c.sessionStorage=c.getInstance(),c}),define("cSessionStore",["cCoreInherit","cAbstractStore","cSessionStorage"],function(a,b,c){var d=new a.Class(b,{__propertys__:function(){this.sProxy=c.getInstance()},initialize:function($super,a){$super(a)}});return d}),define("cCookieStorage",["cCoreInherit","cUtilDate","cAbstractStorage"],function(a,b,c){var d=new a.Class(c,{__propertys__:function(){this.proxy=document.cookie},initialize:function($super,a){$super(a)},set:function(a,b,c,d,e,f){b=_.isObject(b)?JSON.stringify(b):b,document.cookie=a+"="+escape(b)+(c?"; expires="+c:"")+(d?"; path="+d:"")+(e?"; domain="+e:"")+(f?"; secure":"")},get:function(a){for(var b=document.cookie,c=a+"=",d=c.length,e=b.length,f=0;e>f;){var g=f+d;if(b.substring(f,g)==c)return this.getCookieVal(g);if(f=b.indexOf(" ",f)+1,0==f)break}return null},getCookieVal:function(a){var b=document.cookie.indexOf(";",a);-1==b&&(b=document.cookie.length);var c=unescape(document.cookie.substring(a,b));try{result=JSON.parse(c)}catch(d){result=c}return result},remove:function(a,b,c){this.get(a)&&(document.cookie=a+"="+(b?"; path="+b:"")+(c?"; domain="+c:"")+"; expires=Thu, 01-Jan-1970 00:00:01 GMT")}});return d.getInstance=function(){return this.instance?this.instance:this.instance=new this},d}),define("cMemoryStore",["cCoreInherit","cAbstractStore","cMemoryStorage"],function(a,b,c){var d=new a.Class(b,{__propertys__:function(){this.data=null,this.key="memory_store",this.sProxy=c.getInstance()},initialize:function($super,a){$super(a)}});return d}),define("cJsonPlugin",[],function(){navigator.userAgent.indexOf("Android")>0&&(JSON.stringify={}),function(){function a(a){return 10>a?"0"+a:a}function b(a){return d.lastIndex=0,d.test(a)?'"'+a.replace(d,function(a){var b=g[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var g,i,j,k,l,m=e,n=d[a];switch(n&&"object"==typeof n&&"function"==typeof n.toJSON&&(n=n.toJSON(a)),"function"==typeof h&&(n=h.call(d,a,n)),typeof n){case"string":return b(n);case"number":return isFinite(n)?String(n):"null";case"boolean":case"null":return String(n);case"object":if(!n)return"null";if(e+=f,l=[],"[object Array]"===Object.prototype.toString.apply(n)){for(k=n.length,g=0;k>g;g+=1)l[g]=c(g,n)||"null";return j=0===l.length?"[]":e?"[\n"+e+l.join(",\n"+e)+"\n"+m+"]":"["+l.join(",")+"]",e=m,j}if(h&&"object"==typeof h)for(k=h.length,g=0;k>g;g+=1)"string"==typeof h[g]&&(i=h[g],j=c(i,n),j&&l.push(b(i)+(e?": ":":")+j));else for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(j=c(i,n),j&&l.push(b(i)+(e?": ":":")+j));return j=0===l.length?"{}":e?"{\n"+e+l.join(",\n"+e)+"\n"+m+"}":"{"+l.join(",")+"}",e=m,j}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var d,e,f,g,h;"function"!=typeof JSON.stringify&&(d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,d){var g;if(e="",f="","number"==typeof d)for(g=0;d>g;g+=1)f+=" ";else"string"==typeof d&&(f=d);if(h=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return c("",{"":a})})}()}),define("cMarketPlugin",["cMessageCenter"],function(a){return function(){a.subscribe("viewReady",function(a){var b=$("#app_url");if(a&&"function"==typeof a.getAppUrl){var c=a.getAppUrl();c&&_.isString(c)&&(b.length?b.val(c):$('<INPUT type="hidden" id="app_url" value="'+c+'"/>').appendTo($("body")))}else b.length>0&&b.val("")})}}),define("cSafariPlugin",[],function(){window.shown=!1,window.onpageshow=function(){window.shown&&window.location.reload(),window.shown=!0},window.onunload=function(){}}),define("cStatisticsPlugin",["cMessageCenter"],function(a){return function(){a.subscribe("viewReady",function(a){Lizard.sendUbt(a),f(a),d(),e()}),Lizard.sendUbt=function(a){if(a){window.__bfi||(window.__bfi=[]);var d=(a.$el.attr("page-url"),c(a)),e=Lizard.P("orderid")||Lizard.P("oid")||"";if(0!==d){$("#bf_ubt_orderid").length>0&&$("#bf_ubt_orderid").val(e);var f=Lizard.instance.views[a.referrer];window.__bfi.push(["_asynRefresh",{page_id:d,orderid:e,url:b(a),refer:f?b(f):document.referrer}])}}},Lizard.unloadUbt=function(a){a&&(window.__bfi||(window.__bfi=[]),window.__bfi.push(["_unload",{page_id:c(a),url:b(a),refer:a?b(a):document.referrer}]))};var b=function(a){var b="";if(a){if(Lizard.isHybrid||Lizard.app.vendor.is("CTRIP")){var b=a.$el.attr("page-url");b="http://hybridm.ctrip.com"+(0==b.indexOf("/")?a.$el.attr("page-url"):"/"+a.$el.attr("page-url"))}else b=window.location.protocol+"//"+window.location.host+a.$el.attr("page-url");return b}},c=function(a){return Lizard.isHybrid||Lizard.app.vendor.is("CTRIP")?a.hpageid:a.pageid},d=function(){var a=Lizard.P("orderID"),b=Lizard.P("type")||Lizard.P("busType")||"",c=Lizard.P("val")||Lizard.P("price")||"";if(a){var d="https://2113.xg4ken.com/media/redir.php?track=1&token=8515ce29-9946-4d41-9edc-2907d0a92490&promoCode=&valueCurrency=CNY&GCID=&kw=&product=";d+="&val="+c+"&orderId="+a+"&type="+b;var e="<img style='position: absolute;' width='1' height='1' src='"+d+"'/>";$("body").append(e)}},e=function(){var a=Lizard.P("orderID"),b=Lizard.P("type")||Lizard.P("busType")||"",c=Lizard.P("val")||Lizard.P("price")||"";if(a){var d="https://tracker.marinsm.com/tp?act=2&cid=6484iki26001&script=no";d+="&price="+c+"&orderid="+a+"&convtype="+b;var e="<img style='position: absolute;' width='1' height='1' src='"+d+"'/>";$("body").append(e)}},f=function(a){if(Lizard.isHybrid){var c=b(a),d=CtripBusiness&&CtripBusiness.app_log_google_remarkting;"function"==typeof d&&d(c)}}}}),define("cUnderscorePlugin",[],function(){var a=[],b=a.slice;_.inherit=function(){function a(){_.isFunction(this.initialize)&&this.initialize.apply(this,arguments)}if(0===arguments.length||arguments.length>2)throw"";var c=null,d=b.call(arguments);if("function"==typeof d[0]&&(c=d.shift()),d=d[0],a.superclass=c,c){var e=function(){};e.prototype=c.prototype,a.prototype=new e}var f=a.superclass&&a.superclass.prototype;for(var g in d){var h=d[g];if(f&&"function"==typeof h){var i=/^\s*function\s*\(([^\(\)]*?)\)\s*?\{/i.exec(h.toString())[1].replace(/\s/g,"").split(",");"$super"===i[0]&&f[g]&&(h=function(a,c){return function(){var d=this,e=[function(){return f[a].apply(d,arguments)}];return c.apply(this,e.concat(b.call(arguments)))}}(g,h))}if(_.isObject(a.prototype[g])&&_.isObject(h)&&"function"!=typeof a.prototype[g]&&"fuction"!=typeof h){var j={};_.extend(j,a.prototype[g]),_.extend(j,h),a.prototype[g]=j}else a.prototype[g]=h}return a.prototype.initialize||(a.prototype.initialize=function(){}),a.prototype.constructor=a,a},function(){function a(a,b,c,d,e){var f=Math.abs(a-b),g=Math.abs(c-d),h=f>=g?a-b>0?"left":"right":c-d>0?"up":"down";return e&&("left"==h||"right"==h?g/f>e&&(h=""):("up"==h||"down"==h)&&f/g>e&&(h="")),h}function b(b,c,i,j,k,l){if(b&&b[0]){var m="",n=l||d;b[0]["__flip_"+c]=i,b[0].__hasFlipEvent||(b[0].__hasFlipEvent=!0,b.on(f,function(a){var b=a.touches&&a.touches[0]||a;e.x1=b.pageX,e.y1=b.pageY}).on(g,function(b){var c=b.touches&&b.touches[0]||b;e.x2=c.pageX,e.y2=c.pageY,(e.x2&&Math.abs(e.x1-e.x2)>n||e.y2&&Math.abs(e.y1-e.y2)>n)&&(m=a(e.x1,e.x2,e.y1,e.y2,k));var d="function"==typeof j?j(m):j;d||b.preventDefault()}).on(h,function(c){var d=c.changedTouches&&c.changedTouches[0]||c;if(e.x2=d.pageX,e.y2=d.pageY,e.x2&&Math.abs(e.x1-e.x2)>n||e.y2&&Math.abs(e.y1-e.y2)>n){var f=a(e.x1,e.x2,e.y1,e.y2,k);_.isFunction(b[0]["__flip_"+f])&&b[0]["__flip_"+f]()}else _.isFunction(b[0].__flip_tap)&&b[0].__flip_tap();e={}}))}}function c(a){a&&a[0]&&(a.off(f).off(g).off(h),a[0].__hasFlipEvent&&delete a[0].__hasFlipEvent,a[0].__flip_left&&delete a[0].__flip_left,a[0].__flip_right&&delete a[0].__flip_right)}var d=20,e={},f="touchstart",g="touchmove",h="touchend";"ontouchstart"in window||(f="mousedown",g="mousemove",h="mouseup"),_.flip=b,_.flipDestroy=c,$.flip=b,$.flipDestroy=c}(),function(){_.dateUtil={formatNum:function(a){return 10>a?"0"+a:a.toString()},parse:function(a,b){if("undefined"==typeof a)return null;if("string"==typeof b){var c=(new Date(b),b.replace(/[^ymd]/g,"").split(""));if(!c&&3!=c.length)return null;for(var b=b.replace(/y|m|d/g,function(a){switch(a){case"y":return"(\\d{4})";case"m":case"d":return"(\\d{1,2})"}}),d=new RegExp(b,"g"),e=d.exec(a),f={},g=0,h=c.length;h>g;g++)f[c[g]]=e[g+1];return new Date(f.y,f.m-1,f.d)}return null},format:function(a,b){return arguments.length<2&&!a.getTime&&(b=a,a=new Date),"string"!=typeof b&&(b="YMD HFS"),b.replace(/Y|y|M|m|D|d|H|h|F|f|S|s/g,function(b){switch(b){case"y":return(a.getFullYear()+"").slice(2);case"Y":return a.getFullYear();case"m":return a.getMonth()+1;case"M":return _.dateUtil.formatNum(a.getMonth()+1);case"d":return a.getDate();case"D":return _.dateUtil.formatNum(a.getDate());case"h":return a.getHours();case"H":return _.dateUtil.formatNum(a.getHours());case"f":return a.getMinutes();case"F":return _.dateUtil.formatNum(a.getMinutes());case"s":return a.getSeconds();case"S":return _.dateUtil.formatNum(a.getSeconds())}})},isDate:_.isDate,isLeapYear:function(a){return _.isDate(a)&&(a=a.getFullYear()),a%4==0&&a%100!=0||a%400==0?!0:!1},getDaysOfMonth:function(a,b){return _.isDate(a)?(b=a.getMonth(),a=a.getFullYear()):b--,[31,_.dateUtil.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},getBeginDayOfMouth:function(a,b){_.isDate(a)?(b=a.getMonth(),a=a.getFullYear()):b--;var c=new Date(a,b,1);return c.getDay()}}}()}),define("cZeptoPlugin",[],function(){var a=$.fn.html;$.fn.html=function(b){return void 0===b?this.length>0?this[0].innerHTML:null:a.call(this,b)};var b=$.fn.text;$.fn.text=function(a){return void 0===a?this.length>0?this[0].textContent:null:b.call(this,a)};var c=$.fn.data;$.fn.data=function(a,b){return"0"===this.attr("data-"+a)&&_.isUndefined(b)?"0":c.apply(this,arguments)}}),define("cPlugins",["cUnderscorePlugin","cJsonPlugin","cMarketPlugin","cSafariPlugin","cStatisticsPlugin","cZeptoPlugin"],function(a,b,c,d,e){return{regStatisticsEvent:e,regMarketEvent:c}}),define("cAbstractModel",["libs","cCoreInherit","cAjax","cUtilCommon","cUtilPath"],function(a,b,c,d,e){var f=new b.Class({__propertys__:function(){this.url=null,this.param=null,this.dataformat=null,this.validates=[],this.protocol=window.location.protocol.indexOf("https")>-1?"https":"http",this.contentType=f.CONTENT_TYPE_JSON,this.method="POST",this.ajaxOnly=!1,this.timeout=3e4,this.ajax,this.isAbort=!1,this.onBeforeCompleteCallback=null},initialize:function(a){this.assert();for(var b in a)this[b]=a[b]},assert:function(){},setAttr:function(a,b){this[a]=b},pushValidates:function(a){"function"==typeof a&&this.validates.push($.proxy(a,this))},setParam:function(a,b){"object"!=typeof a||b?this.param[a]=b:this.param=a},getParam:function(){var a;return _.isObject(this.param)&&(a=$.extend(!0,{},this.param)),a||{}},getResult:function(){return this.result},getResultStore:function(){return this.getResult()},buildurl:function(){var a=this.url;if(!d.isUrl(this.url)){var b="m.ctrip.com",c="";"http"==this.protocol&&Lizard.restfullApi?c=Lizard.restfullApi:"https"==this.protocol&&Lizard.restfullApiHttps&&(c=Lizard.restfullApiHttps),c&&d.isUrl(c)&&(b=e.parseUrl(c).hostname),a=this.protocol+"://"+b+"/restapi"+this.url}return a},appendSuffix:function(a){var b=d.getGuid();if(!Lizard.isHybrid&&!Lizard.isInCtripApp&&b&&b.indexOf("-")<0){var c=a.indexOf("?")>-1?"&":"?";a=a+c+"_fxpcqlniredt="+b}return a},_execute:function(a,b,d,e,g){this.isAbort=!1;var h=this.appendSuffix(this.buildurl()),i=this,j=$.proxy(function(c){if(this.validates&&this.validates.length>0)for(var e=0,f=this.validates.length;f>e;e++){var g=this.validates[e](c);if("boolean"==typeof g){if(!g)return"function"==typeof b?b.call(d||this,c):!1}else if(g&&g.overdue)return void require([Lizard.app.vendor.is("CTRIP")||Lizard.isHybrid?"cHybridMember":"cWebMember"],function(a){a.memberLogin({param:"from="+encodeURIComponent(window.location.href)})})}var h="function"==typeof this.dataformat?this.dataformat(c):c;"function"==typeof this.onBeforeCompleteCallback&&this.onBeforeCompleteCallback(h),"function"==typeof a&&a.call(d||this,h,c)},this),k=$.proxy(function(a){return i.isAbort?(i.isAbort=!1,"function"==typeof e?e.call(d||this,a):!1):void("function"==typeof b&&b.call(d||this,a))},this),g=g||this.getParam();return g.contentType=this.contentType,this.ajax=this.contentType===f.CONTENT_TYPE_JSON?c.cros(h,this.method,g,j,k,this.timeout):this.contentType===f.CONTENT_TYPE_JSONP?c.jsonp(h,g,j,k,this.timeout):c.post(h,g,j,k,this.timeout)},execute:function(a,b,c,d,e){this._execute(a,b,c,d,e)},abort:function(){this.isAbort=!0,this.ajax&&this.ajax.abort&&this.ajax.abort()}});return f.getInstance=function(){return this.instance instanceof this?this.instance:this.instance=new this},f.CONTENT_TYPE_JSON="json",f.CONTENT_TYPE_FORM="form",f.CONTENT_TYPE_JSONP="jsonp",f}),define("cModel",["cCoreInherit","cAbstractStore","cHeadStore","cUserStore","cMarketStore","cMobileTokenStore","cAbstractModel","cUtilObject","cUtilCommon"],function(a,b,c,d,e,f,g,h,i){var j=new a.Class(g,{__propertys__:function(){this.usehead=!0,this.headStore=c.getInstance(),this.userStore=d.getInstance(),this.mTokenStore=f.getInstance(),this.salesStore=e.SalesStore.getInstance(),this.headinfo=null,this.result=null,this.checkAuth=!0,this.extension=null,this.isUseH5Sys=!1},initialize:function($super,a){$super(a)},getTag:function(){var a=this.getParamData();return JSON.stringify(a)},getParamData:function(){var a=this.param instanceof b?this.param.get():this.param;return _.isObject(a)||(a={}),$.extend(!0,{},a)},execute:function(a,c,d,e,f){var h=this.mTokenStore.get();h?this.headStore.setAttr("pauth",h):this.headStore.removeAttr("pauth");var j=i.getGuid(),k=this.headStore.getAttr("cid");j&&j!=k&&this.headStore.setAttr("cid",i.getGuid()||""),this.headStore.setAuth(this.userStore.getAuth()),(!Lizard.app.code.is("MASTER")||Lizard.app.code.is("YOUTH"))&&this.headStore.setAttr("sid",this.salesStore.getAttr("sourceid")||"8888");var l=this.getParamData();this.pushValidates(function(a){var b=this._getResponseHead(a);return b.overdue?{overdue:b.overdue}:b.success});var m=this.getTag(),n=this.result&&this.result.get(m);!n||this.ajaxOnly||d?("get"!==this.method.toLowerCase()&&this.usehead&&this.contentType!==g.CONTENT_TYPE_JSONP?(l.head=this.headStore.get()||{},this.isUseH5Sys&&l.head&&(l.head.syscode="09"),_.isEmpty(this.extension)||(_.isArray(this.extension)?l.head.extension=this.extension:_.isObject(this.extension)&&(l.head.extension=[],l.head.extension.push(this.extension)))):"get"===this.method.toLowerCase()||this.usehead||this.contentType===g.CONTENT_TYPE_JSONP||this.headinfo&&(l.head=this.headinfo),this.onBeforeCompleteCallback=function(a){if(this.result instanceof b){try{}catch(c){}this.result.set(a,m)}},this._execute(a,c,e,f,l)):"function"==typeof a&&a.call(e||this,n)},excute:function(a,b,c,d,e){this.execute(a,b,c,d,e)},_getResponseHead:function(a){var b=!!a.ResponseStatus,c=b?a.ResponseStatus:a.head,d=!1,e=!1;if(b&&c){var f=c.Ack;if("Failure"===f||1==f){var g=c.Errors;if(g instanceof Array&&g.length>0)for(var h,i=0;i<g.length;i++)if(h=g[i],h&&h.ErrorCode&&"MobileRequestFilterException"==h.ErrorCode){this.checkAuth&&(e=!0,this.headStore.setAuth(""),this.userStore.removeUser());break}}d="Success"===c.Ack||"0"==c.Ack}else d=c&&0===c.errcode;return{success:d,overdue:e}},setParam:function(a,c,d){var e={},f=this.param instanceof b;if(_.isObject(a)?(e=a,_.isUndefined(d)&&_.isBoolean(c)&&(d=c)):e[a]=c,d)f?this.param.set(e):this.param=e;else for(var g in e)f?this.param.setAttr(g,e[g]):h.set(this.param,g,e[g])},clearResult:function(){this.result&&"function"==typeof this.result.remove?this.result.remove():this.result=null}});return j}),define("cUserModel",["cCoreInherit","cModel","cCommonStore","cUtilCommon"],function(a,b,c,d){var e=c.UserStore.getInstance(),f=(c.HeadStore.getInstance(),{});return f.NotUserLoginModel=new a.Class(b,{__propertys__:function(){this.url="/html5/Account/NonUserLogin",this.param={},this._abortres={},this.isAbort=!1},initialize:function($super,a){$super(a)},excute:function(a,b,c,d,f){var g=e.getUser();if(g&&g.Auth)return void("function"==typeof a&&a.call(d,e.getUser()));this.isAbort=!1;var h=window.location.host;("localhost"==h||h.match(/\.fat/i))&&(h="m.fat19.qa.nt.ctripcorp.com");var i="http://"+h+this.url,j=function(c){1==c.ServerCode&&c.Data?(e.setUser(c.Data),"function"==typeof a&&a.call(d,c)):"function"==typeof b&&b.call(d)},k=function(){return this.isAbort?("function"==typeof f&&f.call(d),void(this.isAbort=!1)):void("function"==typeof b&&b.apply(d,arguments))};this._abortres=$.ajax({type:"get",url:i,dataType:"json",crossDomain:!0,success:$.proxy(j,this),error:$.proxy(k,this),timeout:25e3})},abort:function(){this.isAbort=!0,this._abortres&&"function"==typeof this._abortres.abort&&this._abortres.abort()}}),f.UserLoginModel=new a.Class(b,{__propertys__:function(){this.param={},this.contentType="jsonp",this.url="CrossDomainGetTicket/ajax/ajaxgetticket.ashx",this._abortres={},this.isAbort=!1},initialize:function($super,a){$super(a)},buildurl:function(){var a=window.location.host,b="accounts.ctrip.com";return a.match(/^m\.ctrip\.com/i)?b="accounts.ctrip.com":a.match(/\.uat\.qa/i)?b="accounts.uat.qa.nt.ctripcorp.com":(a.match(/\.fat/i)||a.match(/\.lpt/i)||a.match(/\.fws/i)||a.match(/^(localhost|172\.16|127\.0)/i))&&(b="accounts.fat49.qa.nt.ctripcorp.com"),["https://",b,"/",this.url].join("")},excute:function(a,b,c,d,e){this.isAbort=!1;var f=this.buildurl(),g=function(c){0==c.RetCode&&c.UserData?"function"==typeof a&&a.call(d,c.UserData):"function"==typeof b&&b.call(d)},h=function(){return this.isAbort?("function"==typeof e&&e.call(d),void(this.isAbort=!1)):void("function"==typeof b&&b.apply(d,arguments))};this._abortres=$.ajax({type:"get",url:f,dataType:"jsonp",data:this.param,crossDomain:!0,jsonpCallback:"callbackfn",success:$.proxy(g,this),error:$.proxy(h,this),timeout:5e4})},abort:function(){this.isAbort=!0,this._abortres&&"function"==typeof this._abortres.abort&&this._abortres.abort()}}),f.ThirdPartInfoModel=new a.Class(b,{__propertys__:function(){this.param={},this.url="10448/GetThirdPartMembers.json"},initialize:function($super,a){$super(a),this.baseurl=this.seturl()},seturl:function(){var a=window.location.host,b="/restapi/soa2/",c="m.ctrip.com";return a.match(/^m\.ctrip\.com/i)?c="m.ctrip.com":a.match(/\.uat\.qa/i)?c="gateway.m.uat.qa.nt.ctripcorp.com":a.match(/(\.fws|\.fat|\.lpt|localhost|172\.16|127\.0)/i)&&(c="gateway.m.fws.qa.nt.ctripcorp.com"),{domain:c,path:b}},buildurl:function(){return d.isUrl(this.url)?this.url:[this.protocol,"://",this.baseurl.domain,this.baseurl.path,this.url].join("")}}),f.ClientIdModel=new a.Class(b,{__propertys__:function(){this.param={systemcode:"09",createtype:3},this.method="get",this.url="10290/createclientid"},initialize:function($super,a){$super(a),this.baseurl=this.seturl()},seturl:function(){var a=window.location.host,b="/restapi/soa2/",c="m.ctrip.com",d="http"==this.protocol?!0:!1;return a.match(/^(m|accounts|secure)\.ctrip\.com/i)?c=d?"m.ctrip.com":"sec-m.ctrip.com":a.match(/\.uat\.qa/i)?c="gateway.m.uat.qa.nt.ctripcorp.com":a.match(/(\.fws|\.fat|\.lpt|localhost|172\.16|127\.0)/i)&&(c="gateway.m.fws.qa.nt.ctripcorp.com"),{domain:c,path:b}},buildurl:function(){return d.isUrl(this.url)?this.url:[this.protocol,"://",this.baseurl.domain,this.baseurl.path,this.url].join("")}}),f.GetUserModel=new a.Class(b,{__propertys__:function(){this.param={},this.url="10090/GetUserInfoToH5.json"},initialize:function($super,a){$super(a),this.baseurl=this.seturl()},seturl:function(){var a=window.location.host,b="/restapi/soa2/",c="m.ctrip.com";return a.match(/^m\.ctrip\.com/i)?c="m.ctrip.com":a.match(/\.uat\.qa/i)?c="gateway.m.uat.qa.nt.ctripcorp.com":a.match(/(\.fws|\.fat|\.lpt|localhost|172\.16|127\.0)/i)&&(c="gateway.m.fws.qa.nt.ctripcorp.com"),{domain:c,path:b}},buildurl:function(){return d.isUrl(this.url)?this.url:[this.protocol,"://",this.baseurl.domain,this.baseurl.path,this.url].join("")}}),f}),define("cGuiderService",[Lizard.app.code.is("MASTER")||Lizard.app.code.is("YOUTH")||Lizard.isHybrid?"cHybridGuider":"cWebGuider",Lizard.app.code.is("GS")?"cHybridFacade":""],function(a,b){var c=["jump","apply","call","init","log","print","callService","backToLastPage","checkUpdate","recommend","addWeixinFriend","showNewestIntroduction","register","create","home","jumpHotel","checkAppInstall","callPhone","cross","refreshNative","copyToClipboard","readFromClipboard","shareToVendor","downloadData","encode","chooseContactFromAddressbook","hideLoadingPage","showLoadingPage","choose_invoice_title","get_device_info","show_voice_search","choose_photo","finished_register","app_call_system_share","app_check_network_status","app_check_android_package_info","app_log_google_remarkting","app_read_verification_code_from_sms","app_h5_page_finish_loading","registerAppearEvent","unregisterAppearEvent","save_photo",{file:["isFileExist","deleteFile","getCurrentSandboxName","getFileSize","makeDir","readTextFromFile","writeTextToFile"]},{pipe:["socketRequest","httpRequest","abortRequest","abortSocketRequest"]},{pay:["checkStatus","payOut","callPay"]},{encrypt:["ctrip_encrypt","ctrip_decrypt"]}],d={},e=function(){return!1};return _.each(c,function(a){if(_.isString(a))d[a]="create"==a&&Lizard.app.code.is("GS")?function(){b.init()}:e;else if(_.isObject(a)){var c=_.keys(a);_.each(c,function(b){d[b]={},_.each(a[b],function(a){d[b][a]=e})})}}),_.extend(d,a),d}),define("cPageView",["libs",Lizard.app.vendor.is("CTRIP")||Lizard.isHybrid?"cHybridHeader":"UIHeader","cGuiderService"],function(a,b,c){var d=Backbone.View.extend({scrollPos:{x:0,y:0},header:null,pageid:0,hpageid:0,scrollZero:!0,triggerShow:!0,triggerHide:!0,initialize:function(){this.id=this.$el.attr("id"),this.create()},_createHeader:function(){var a=$("#headerview");this.header=this.headerview=new b({root:a,wrapper:a})},create:function(){if(this.onCreate&&this.onCreate(),_.isArray(this.defferModules)){var a,b=!0,c=this;_.each(this.events,function(d,e){_.isFunction(d)||(d=c[d]),c.events[e]=function(e){return b?(c.showLoading(),void(a={method:d,event:e})):(c.hideLoading(),void d.apply(c,arguments))}}),setTimeout(_.bind(function(){require(this.defferModules,_.bind(function(){b=!1,_.isFunction(this.defferModuleCallback)&&this.defferModuleCallback.apply(this,arguments),_.isObject(a)&&(a.method.apply(this,[a.event]),c.hideLoading())},this))},this),1)}},destroy:function(){this.$el.remove()},show:function(){document.activeElement&&document.activeElement.blur(),this._createHeader(),!this.switchByOut&&this.$el.show(),this.triggerShow&&this.onShow&&this.onShow(),this.onAfterShow&&this.onAfterShow(),c.registerAppearEvent(_.bind(this.onAppearHandler,this)),Lizard.app.vendor.is("CTRIP")&&1==history.length&&(this.__appeartimeout=setTimeout(_.bind(this.onAppearHandler,this),Lizard.config.appearTimeout||1e3)),this.onBottomPull&&(this._onWidnowScroll=$.proxy(this.onWidnowScroll,this),this.addScrollListener()),this.scrollZero&&window.scrollTo(0,0),this.triggerShow=!0,this.triggerHide=!0,this.addScrollListener&&this.addScrollListener()},hide:function(){c.unregisterAppearEvent(),this.triggerHide&&this.onHide&&this.onHide(),this.removeScrollListener&&this.removeScrollListener(),this.$el.hide()},onAppear:function(){},onAppearHandler:function(a){clearTimeout(this.__appeartimeout),a&&a.callbackString&&this.sendUbt(),this.onAppear(a)},jump:function(a){_.isString(a)?window.location.href=a:c.jump(a)},cross:function(a,b){Lizard.jump(a,b)},forward:function(){Lizard.forward.apply(null,arguments)},back:function(){Lizard.back.apply(null,arguments)},refresh:function(){},getAppUrl:function(){return""},getQuery:function(a){return Lizard.P(a)},saveScrollPos:function(){this.scrollPos={x:window.scrollX,y:window.scrollY}},restoreScrollPos:function(){window.scrollTo(this.scrollPos.x,this.scrollPos.y)},turning:function(){},showMessage:function(a){Lizard.showMessage(a)},hideMessage:function(){Lizard.hideMessage()},showConfirm:function(a){Lizard.showConfirm(a)},hideConfirm:function(){Lizard.hideConfirm()},showWarning404:function(a){Lizard.showWarning404(a)},hideWarning404:function(){Lizard.hideWarning404()},showToast:function(a){Lizard.showToast(a)},hideToast:function(){Lizard.hideToast()},showLoading:function(a){Lizard.showLoading(a)},hideLoading:function(a){Lizard.hideLoading(a)},setTitle:function(a){document.title=a},sendUbt:function(){Lizard.sendUbt(this)}});return d}),define("cUIBase",[],function(){var a={};return a.config={prefix:"cui-"},a.setConfig=function(b,c){a.config[b]=c},a.getElementPos=function(a){var b=0,c=0;do b+=a.offsetTop,c+=a.offsetLeft;while(a=a.offsetParent);return{top:b,left:c}},a.getCreateId=function(){var b=(new Date).getTime();return function(){return a.config.prefix+ ++b}}(),a.getBiggerzIndex=function(){var a=3e3;return function(){return++a}}(),a.getCurStyleOfEl=function(a,b){if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(a).getPropertyValue(b);if(a.currentStyle){for(var c,d=b.split("-"),e=[],f=0;f<d.length;f++)0==f?e.push(d[f]):(c=d[f].split(""),c[0]=c[0].toUpperCase(),e.push(c.join("")));return e=e.join(""),a.currentStyle[e]}},a.bindthis=function(a,b){return function(){a.apply(b,arguments)}},a.strToNum=function(a){var b=parseInt(a.replace(/[a-z]/i,""));return isNaN(b)?0:b},a.getElementRealSize=function(a){var b=$(a);return{width:b.width(),height:b.height()}},a.getPageSize=function(){var a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:a,height:b}},a.getPageScrollPos=function(){var a=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),b=Math.max(document.documentElement.scrollTop,document.body.scrollTop),c=Math.min(document.documentElement.clientHeight,document.body.clientHeight),d=Math.min(document.documentElement.clientWidth,document.body.clientWidth),e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),f=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{top:b,left:a,height:c,width:d,pageWidth:e,pageHeight:f}},a.getMousePos=function(a){var b=Math.max(document.body.scrollTop,document.documentElement.scrollTop),c=Math.max(document.body.scrollLeft,document.documentElement.scrollLeft);return{top:b+a.clientY,left:c+a.clientX}},a.getMousePosOfElement=function(b,c){var d=a.getMousePos(b),e=a.getElementPos(c),f=c.clientWidth,g=c.clientHeight,h=d.left-e.left,i=d.top-e.top;return h=0>h?0:h>f?f:h,i=0>i?0:i>g?g:i,{x:h,y:i}},a.createElement=function(a,b){var c,d,e=document.createElement(a);if(b)for(c in b)switch(c){case"attr":if("object"==typeof b[c])for(d in b[c])null!=b[c][d]&&e.setAttribute(d,b[c][d]);break;case"styles":if("object"==typeof b[c])for(d in b[c])null!=b[c][d]&&(e.style[d]=b[c][d]);break;case"id":e.id=b[c];break;case"class":e.className=b[c];break;case"html":e.innerHTML=b[c]}return e},a}),define("cPageList",["cPageView","cUIBase"],function(a,b){var c=a.extend({_onWidnowScroll:null,__isComplete__:!1,__isLoading__:!1,refreshLoading:null,addScrollListener:function(){this.__isComplete__=!1,this.__isLoading__=!1,this._onWidnowScroll&&$(window).bind("scroll",this._onWidnowScroll);
var a=this;this.onTopPull&&_.flip(this.$el,"down",function(){var c=b.getPageScrollPos();c.top<=10&&!a.__isLoading__&&(a.__isLoading__=!0,a.onTopPull())},function(a){var c=b.getPageScrollPos();return"down"!=a||c.top>=10},0,5)},removeScrollListener:function(){$(window).unbind("scroll",this._onWidnowScroll),this.refreshLoading&&(this.refreshLoading.remove(),this.refreshLoading=null),_.flipDestroy(this.$el)},onWidnowScroll:function(){var a=b.getPageScrollPos();if(0!=a.top){var c=a.pageHeight-(a.top+a.height);81>=c&&!this.__isComplete__&&!this.__isLoading__&&(this.__isLoading__=!0,this.onBottomPull&&this.onBottomPull())}},endPull:function(){this.__isLoading__=!1},closePull:function(){this.__isComplete__=!1},openPull:function(){this.__isComplete__=!0},showTopLoading:function(){var a=a||this.$el.find("section");a.length>0&&(a.before(this.getLoading()),this.refreshLoading.show())},showBottomLoading:function(){this.$el.append(this.getLoading()),this.refreshLoading.show()},hideBottomLoading:function(){this.hideRefreshLoading()},hideRefreshLoading:function(){this.refreshLoading&&this.refreshLoading.hide(),this.__isLoading__=!1},getLoading:function(){return this.refreshLoading||(this.refreshLoading=$('<div class="cui-zl-load" id="zlLoading"> <div class="cui-i cui-b-loading"></div><div class="cui-i  cui-mb-logo"></div> <p></p></div>')),this.refreshLoading}});return c}),define("cGeoHelper",[],function(){var a={Aboard:2,Domestic:1,Unknown:-1,aroundAboardRectList:[[125478833,40538425,135928497,16590043],[128054454,54437790,136370032,49918776],[89567309,54351906,115617882,47881407],[71832315,54566279,82281980,46323836],[72788974,28001436,85887850,16590043],[92510877,48029708,111570476,45034268],[85593493,26157025,97294174,16519064],[97073406,20935216,107743838,16305964],[98324422,45190596,109142033,42854577],[71979493,45863038,78896877,41817208]],chinaRectList:[[85374342,41697126,124486996,28705892],[98942349,28714002,122527683,23331042],[108012216,23415965,119252965,17294543],[120025651,51286036,126391116,41330674],[82936701,46727439,90553182,41621242],[126188746,48211817,129757821,42485061],[129518656,47611932,131468770,44959641],[131376782,47487374,133805226,46225387],[79753968,41876130,85604309,30872189],[113457816,44802677,120117638,41517618],[118977005,23526282,121975765,21629857],[109667973,17321053,119050594,14580095],[76258482,40359687,80011530,35915704],[90534784,44710915,94030271,41531444],[80710628,45077082,83028687,41862379],[85935460,48414308,88437492,46645143],[93975079,42559912,101462779,41600531],[93956681,44157262,95354876,42491869],[116695740,46301949,120117638,44619006],[116401384,49444657,120191227,48057877],[121000708,53244099,124569783,51210984],[106724405,42232628,113494611,41683336],[112133211,44355602,113568200,42123151],[110918989,43155464,112206800,42232628],[115150367,45324216,116769330,44724032],[126299129,49588397,128102064,48057877],[128065270,49131761,129757821,48131826],[129721026,48622090,130530508,47611932],[124349016,52822665,125710416,51095279],[122325313,28884167,123760302,25662561],[111029373,14651757,118388292,10605300],[109778357,10095218,109778357,10095218],[109631178,10459649,116548562,7753573],[110514249,7826971,113678584,4734480],[124330619,41399976,125480450,40689610],[126345123,42512290,128046872,41827986],[127973283,42539507,129104717,42143692],[74510739,40162360,76350468,38678393],[119087389,21629857,120706351,20142916],[106853187,23339537,108067408,21990651],[129707229,44975967,130985841,43017244],[130958245,44582859,131169814,43104932],[131418176,46247729,133129126,45359896],[133073934,48054793,134269758,47409374],[99701237,23386249,101577762,22174986],[100179567,22243514,101559364,21745927],[101485775,23437187,104245370,22875776],[98008686,25240784,99057332,24181992],[124463999,40686109,124905534,40461646],[125457453,41334141,126055365,40979564],[126368119,41824546,126607284,41645397],[125475850,40979564,125687419,40853958],[124477797,40465160,124728460,40343852],[124470898,40347371,124618076,40285757],[124891736,40694862,125153898,40607283],[126046166,41332407,126262335,41165784],[127214395,41836586,128083666,41546995],[126386516,50257998,126386516,50257998],[126280732,50257998,127513351,49580921],[126363520,50934256,127117809,50225552],[125669022,52398490,126276133,51247082],[80948643,30905163,81403976,30280446],[83574857,30911112,85488176,29214825],[98136317,28872274,99079179,27642374]],largeChinaRect:[73083331,54006559,135266195,17015367],isInRect:function(a,b,c){return a>=c[0]&&a<=c[2]&&b>=c[3]&&b<=c[1]?!0:!1},isInRectList:function(a,b,c){for(var d=0;d<c.length-1;d++)if(smallRect=c[d],this.isInRect(a,b,smallRect))return!0;return!1},getCountry:function(a,b){var c=this.Unknown,d=1e6*b,e=1e6*a;return isInAboard=!this.isInRect(e,d,this.largeChinaRect),isInAboard||(isInAboard=this.isInRectList(e,d,this.aroundAboardRectList)),isInAboard?c=this.Aboard:(inInLand=this.isInRectList(e,d,this.chinaRectList),inInLand&&(c=this.Domestic)),c}};return a}),define("cWebGeolocation",["cGeoHelper","cUtilPerformance","cModel","cCoreInherit"],function(a,b,c,d){var e={},f="0b895f63ca21c9e82eb158f46fe7f502";e.isInOverseas=!1;var g=d.Class(c,{__propertys__:function(){this.url="http://m.ctrip.com/restapi/soa2/10398/json/LBSLocateCity"}}).getInstance();return e.showMapWithPOI=function(b){function c(a,b,c,d){this.point_=a,this.name_=b,this.map_=c,this.div_=d,this.setMap&&this.setMap(c)}var d=function(b){function d(a,b,d){function e(a,b,d){var e=$("<DIV/>").addClass("map-content");d||$("<IMG/>").attr({src:"http://res.m.ctrip.com/html5/Content/images/map_address.png"}).appendTo(e),a.content&&$("<SPAN/>").html(a.content).appendTo(e);var f;if(d){f=new i.maps.Marker({position:new i.maps.LatLng(a.lat,a.lng),map:b,icon:"http://res.m.ctrip.com/html5/Content/images/map_address.png",id:a.markerId}),a.id&&""!=a.id&&b.setCenter(new i.maps.LatLng(a.lat,a.lng));var h=new c(new i.maps.LatLng(a.lat,a.lng),a.content,b,e[0]);g.marekrs.push(f),g.overlays.push(h),a.callBack&&i.maps.event.addListener(f,"click",function(){a.callBack(a.markerId)})}else f=new AMap.Marker({position:new AMap.LngLat(a.lng,a.lat),map:b,id:a.markerId}),a.id&&""!=a.id&&b.setCenter(new AMap.LngLat(a.lng,a.lat)),f.setContent(e[0]),a.callBack&&AMap.event.addListener(f,"click",function(){a.callBack(a.markerId)})}if(a instanceof Array&&a.length>0)for(var f=0;f<a.length;f++){var h=a[f];if(!h||!h.lat||!h.lng)break;e(h,b,d)}else e(a,b,d)}if(!(b&&b.lat&&b.lng&&b.id))return b.error&&b.error(),!1;var f,g={marekrs:[],overlays:[]},h=!1,i=window.google,j=a.getCountry(b.lng,b.lat);if((1!=j||e.isInOverseas)&&i&&i.maps&&i.maps.LatLng)h=!0,i.maps.OverlayView&&(c.prototype=new i.maps.OverlayView,c.prototype.onAdd=function(){var a=this.getPanes();a.overlayImage.appendChild(this.div_)},c.prototype.draw=function(){var a=this.getProjection(),b=a.fromLatLngToDivPixel(this.point_),c=this.div_;if(c){c.style.left=b.x+20+"px",c.style.top=b.y-50+"px",c.style.position="absolute";var d=c.children[0];d&&(d.style.bottom="0px",d.style.left="0px")}},c.prototype.onRemove=function(){this.div_.parentNode.removeChild(this.div_),this.div_=null});else if(!AMap)return b.error&&b.error(),!1;var k,l=13;if(h)k=new i.maps.Map(document.getElementById(b.id),{center:new i.maps.LatLng(b.lat,b.lng),zoom:b.level||l,zoomControl:!0});else{k=new AMap.Map(b.id,{center:new AMap.LngLat(b.lng,b.lat),level:b.level||l});var m=null,n=function(a){m=new AMap.TileLayer({tileUrl:"http://mt{1,2,3,0}.google.cn/vt/lyrs=m@142&hl=zh-CN&gl=cn&x=[x]&y=[y]&z=[z]&s=Galil"}),m.setMap(a)};(1!=j||e.isInOverseas)&&n(k)}return b.zoomCallBack&&(h?i.maps.event.addListener(k,"zoom_changed",function(){var a=b.zoomCallBack&&b.zoomCallBack(this.getZoom());if(a){if(g.marekrs&&g.marekrs.length>0){for(var c=0;c<g.marekrs.length;c++)g.overlays[c].setMap&&g.overlays[c].setMap(null),g.marekrs[c].setMap&&g.marekrs[c].setMap(null);g={marekrs:[],overlays:[]}}d(a,this,h)}}):AMap.event.addListener(k,"zoomchange",function(){var a=b.zoomCallBack&&b.zoomCallBack(this.getZoom());a&&(this.clearMap(),d(a,this,h))})),f=b.markers instanceof Array&&b.markers.length>0?b.markers:b,d(f,k,h),k};return d(b)},e.showMapWithPOIList=function(){},e.requestCityInfo=function(a,c,d,f,h,i,j){var k={number:b.getUuid(),detail:b.getUuid(),city:b.getUuid(),error:b.getUuid()};for(var l in k)b.group(k[l],{name:"GeoRequest",url:"Web function "+l});var m=function(f){b.groupEnd(k.number);var l=f.coords.longitude,m=f.coords.latitude;d&&d(l,m);var n=function(c){b.groupEnd(k.detail),_.isFunction(i)&&(g.setAttr("param",{Longitude:l,Latitude:m,CountryName:c.country,ProvinceName:c.province,L1CityName:c.city,L2CityName:c.district,TownName:"",Language:"CN"}),g.excute(function(a){b.groupEnd(k.city),i(a)},function(a){b.groupTag(k.error,"errno","23"),b.groupEnd(k.error),j&&j(a)})),a&&a(c)},o=function(){b.groupTag(k.error,"errno","21"),b.groupEnd(k.error),c&&c()};h?e.tansformLongitude(l,m,function(a,b){e.requestAMapAddress(a,b,n,o)},function(){b.groupTag(k.error,"errno","22"),b.groupEnd(k.error),c&&c()}):e.requestAMapAddress(l,m,n,o)},n=function(a,d){return b.groupTag(k.error,"errno","20"),b.groupEnd(k.error),"function"==typeof f?void f(d,a):void(c&&c(d))};this.requestGeographic(m,n)},e.requestGeographic=function(c,d,f){var g=b.getUuid();b.group(g,{name:"GeoRequest",url:"Google service",type:"Google service"});var h=function(a,b,c){var d=document.createElement("script"),e=document.write;d.type="text/javascript",d.readyState?d.onreadystatechange=function(){("loaded"==d.readyState||"complete"==d.readyState)&&(d.onreadystatechange=null,document.write=e,c&&b&&b())}:(d.onload=function(){document.write=e,c&&b&&b()},d.onerror=function(){document.write=e}),d.src=a,document.write=function(a){var b=a.match(/http(s)?:\/\/[A-Za-z0-9]+[\.\/=\?%\-&_~`@[\]\:+!]*([^<>])*(\.js)/);b&&h(b[0],function(){document.write=e},!0)},document.body.appendChild(d)},i=function(d){b.groupEnd(g),c&&c(d);var f=d.coords.longitude,i=d.coords.latitude,j=a.getCountry(f,i);2==j?(e.isInOverseas=!0,"undefined"==typeof google&&h("https://maps.googleapis.com/maps/api/js?v=3&region=zh-CN")):e.isInOverseas=!1},j=function(a){b.groupEnd(g);var c="";switch(a.code){case a.TIMEOUT:c="";break;case a.PERMISSION_DENIED:c="";break;case a.POSITION_UNAVAILABLE:c=""}d&&d(a,c)};window.navigator&&window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(i,j,{enableHighAccuracy:!0,maximumAge:5e3,timeout:f||2e4}):d&&d("","")},e.tansformLongitude=function(c,d,e,g,h){var i=b.getUuid();b.group(i,{name:"GeoRequest",url:"http://restapi.amap.com/v3/assistant/coordinate/convert",type:"AMap service"});var j=a.getCountry(c,d);if(1!=j)return b.groupEnd(i),void e(c,d);var k=$.param({locations:c+","+d,key:f,coordsys:"gps"});h=h||8e3,$.ajax({url:"http://restapi.amap.com/v3/assistant/coordinate/convert?"+k,dataType:"jsonp",success:function(a){if(b.groupEnd(i),a&&"1"===a.status){var c=a.locations.split(",");e&&e(c[0],c[1])}else g&&g()},error:function(a){b.groupEnd(i),g&&g(a)},timeout:h})},e.requestAMapAddress=function(c,d,e,g,h){function i(a,b){if(1==b){var e=a&&a.regeocode||"",f=e.addressComponent.city,g=e.addressComponent.province,h=e.addressComponent.district,i="";return _.isString(f)?i=f:_.isString(g)&&(i=g),{address:_.isString(e.formatted_address)?e.formatted_address:"",location:k,info:e&&e.addressComponent,city:i,province:g,district:h,lng:c,lat:d,country:"",countryShortName:"CHN",detailAddress:""}}if(a&&"OK"===a.status){var h="",i="",j="",g="",l="";if(!a.results)return!1;var m=a.results[0]||{};return _.find(m.address_components,function(a){var b=a&&a.long_name;a.types&&("country"==a.types[0]&&"political"==a.types[1]&&(j=b,l=a.short_name),"administrative_area_level_1"===a.types[0]&&"political"===a.types[1]&&(g=b),"locality"===a.types[0]&&"political"===a.types[1]&&(i=b),"administrative_area_level_2"===a.types[0]&&"political"===a.types[1]&&(h=b),"sublocality_level_1"===a.types[0]&&"sublocality"===a.types[1]&&(h=b))}),""==j&&""==g&&""==i&&""==h?!1:{address:_.isString(a.results[0].formatted_address)?a.results[0].formatted_address:"",location:k,info:a.results[0].address_components,lng:c,lat:d,country:j,province:g,city:i,district:h,countryShortName:l,detailAddress:""}}return!1}var j=b.getUuid();b.group(j,{name:"GeoRequest",url:"http://restapi.amap.com/v3/geocode/regeo",type:"AMap service"});var k="121.473704,31.230393",l=1;c&&d&&(k=c+","+d,l=a.getCountry(c,d)),h=h||8e3;var m=1==l?"http://restapi.amap.com/v3/geocode/regeo?"+$.param({location:k,key:f,radius:0,extensions:"all"}):"https://maps.googleapis.com/maps/api/geocode/json?"+$.param({latlng:d+","+c,sensor:!1});$.ajax({url:m,dataType:1==l?"jsonp":"json",success:function(a){b.groupEnd(j);var c=i(a,l);_.isObject(c)?e&&e(i(a,l)):g&&g(a)},error:function(a){b.groupEnd(j),g&&g(a)},timeout:h})},e}),define("cGeoLocation",["cWebGeolocation",Lizard.app.code.is("MASTER")||Lizard.app.code.is("YOUTH")||Lizard.isHybrid?"cHybridGeolocation":""],function(a,b){return _.isUndefined(b)?a:_.extend(a,b)}),define("cGeoService",["cUtilPerformance","cLocalStore","cCoreInherit","cGuiderService",Lizard.app.code.is("MASTER")||Lizard.app.code.is("YOUTH")||Lizard.isHybrid?"cHybridGeolocation":"cWebGeolocation"],function(a,b,c,d,e){var f={},g={},h="0b895f63ca21c9e82eb158f46fe7f502",i=c.Class(b,{__propertys__:function(){this.key="POSITION_CITY",this.lifeTime="10M"},initialize:function($super,a){$super(a)}}),j=i.getInstance();return g.requestAMapAround=function(b,c,d,e,f){var g=a.getUuid();a.group(g,{name:"GeoRequest",url:"http://restapi.amap.com/v3/place/around",type:"AMap service"});var i="121.473704,31.230393";b&&c&&(i=b+","+c);var j=$.param({location:i,key:h,radius:500,offset:4,page:1});f=f||8e3,$.ajax({url:"http://restapi.amap.com/v3/place/around?"+j,dataType:"jsonp",success:function(b){a.groupEnd(g);var c=b&&b.pois||[];d&&d(c)},error:function(b){a.groupEnd(g),e&&e(b)},timeout:f})},g.requestAMapKeyword=function(b,c,d,e,f){var g=a.getUuid();a.group(g,{name:"GeoRequest",url:"http://restapi.amap.com/v3/place/text",type:"AMap service"});var i=$.param({keywords:b,city:c,key:h,offset:10,page:1,extensions:"all"});f=f||8e3,$.ajax({url:"http://restapi.amap.com/v3/place/text?"+i,dataType:"jsonp",success:function(b){a.groupEnd(g);var c=b&&b.pois||[];d&&d(c)},error:function(b){a.groupEnd(g),e&&e(b)},timeout:f})},_.extend(g,e),f.GeoLocation=function(){function a(a,b,c){for(var d in h)h[d]&&"function"==typeof h[d][a]&&h[d][a].apply(h[d].scope,b);c&&(h={})}var b=0,c=1,e=2,f=3,h={},i=b,k=null;return{Subscribe:function(b,l,m,n,o){l=l||{},h[b]||(h[b]={name:b,onStart:l.onStart,onComplete:l.onComplete,onError:l.onError,onPosComplete:l.onPosComplete,onPosError:l.onPosError,onCityComplete:l.onCityComplete,onCityError:l.onCityError,scope:m});var p=j.get();if(n&&(p=null),p&&p.posinfo&&p.cityInfo)i=c,a("onStart",null),i=e,a("onPosComplete",[p.posinfo.lng,p.posinfo.lat]),a("onComplete",[p.posinfo]),a("onCityComplete",[p.cityInfo],!0);else{if(clearTimeout(k),k=setTimeout(function(){i===c&&(i=f,d.print({log:"#cGeoService -- 22 second timeout call onError"}),a("onError",[null],!0))},o||35e3),i===c)return void(h[b]&&"function"==typeof h[b].onStart&&h[b].onStart.call(m));i=c,a("onStart",null),d.print({log:"#cGeoService -- start request city info"}),g.requestCityInfo(function(b){p||(p={}),p.posinfo=b,(!Lizard.app.code.is("MASTER")||Lizard.app.code.is("YOUTH"))&&j.set(p),a("onComplete",[b])},function(b,c){i=f,"number"==typeof c&&2===c&&(c={code:1}),d.print({log:"#cGeoService -- locate onError"}),a("onError",[b,c],!0)},function(b,c){a("onPosComplete",[b,c])},function(b,c){i=f,"number"==typeof c&&2===c&&(c={code:1}),a("onPosError",[b,c],!0)},!0,function(b){i=e,p||(p={}),p.cityInfo=b,(!Lizard.app.code.is("MASTER")||Lizard.app.code.is("YOUTH"))&&j.set(p),a("onCityComplete",[b],!0)},function(b,c){i=f,"number"==typeof c&&2===c&&(c={code:1}),d.print({log:"#cGeoService -- locate onError"}),a("onCityError",[b,c],!0)})}},UnSubscribe:function(a){a=_.isArray(a)?a:[a];for(var b=0;b<a.length;b++)delete h[a[b]]},ClearPosition:function(){j.remove()}}}(),f.GeoAround=function(){return{Subscribe:function(a,b,c,d){var e=a.split(",")[0],f=a.split(",")[1];g.requestAMapAround(e,f,function(a){b.call(d,a)},function(){c.call(d)})}}}(),f.GeoKeyword={Subscribe:function(a,b,c,d,e){g.requestAMapKeyword(a,b,function(a){c.call(e,a)},function(){d.call(e)})}},f}),define("cMemberService",[Lizard.app.vendor.is("CTRIP")||Lizard.isHybrid?"cHybridMember":"cWebMember","cUserStore"],function(a,b){var c=b.getInstance();return a.isLogin=function(){return c.isLogin()},a.getUser=function(){return c.getUser()},a.getUserName=function(){return c.getUserName()},a.getUserId=function(){return c.getUserId()},a}),define("cStatic",[],function(){var a=document.getElementsByTagName("script")[0],b=/_bfa\.min\.js/i;if(!_.some($("SCRIPT"),function(a){return b.test(a.src)})&&!(window.$_bf&&window.$_bf.loaded||window.$LAB||window.CtripJsLoader)){var c=new Date,d="?v="+c.getFullYear()+c.getMonth()+"_"+c.getDate()+".js",e=document.createElement("script");e.type="text/javascript",e.charset="utf-8",e.async=!0;try{var f="https:"==document.location.protocol}catch(g){var f="https:"==document.URL.match(/[^:]+/)+":"}e.src=f?"https://webresource.c-ctrip.com/code/ubt/_mubt.min.js"+d:"http://webresource.c-ctrip.com/code/ubt/_mubt.min.js"+d,a.parentNode.insertBefore(e,a)}}),define("cPadExtend",["cMessageCenter"],function(a){var b={initialize:function($super,b){if($super(b),this.isPad=$(window).width()>=850||$(window).height()>=850,this.currentAlpha=0,this.horizontal=$(window).width()>=850,this.isPad)if($("html").addClass("padview"),this.headerView.root.addClass("padview-w1"),this.childViewport=$('<DIV class="child-viewport padview-right"></DIV>').insertAfter(this.viewport),this.viewport.addClass("padview-left"),/iP(ad|hone|od)/.test(navigator.userAgent))window.addEventListener("orientationchange",_.bind(function(){this.horizontal=90==Math.abs(window.orientation),this._setViewLayout()},this));else{var c=this.__getCurrentAlpha=_.bind(this._getCurrentAlpha,this);setInterval(function(){window.addEventListener("deviceorientation",c)},400)}a.subscribe("moveView",function(){if(this.horizontal&&(this._mainCurview&&_.isString(this._mainCurview.config.subViewUrl)||this.targetViewport[0]==this.childViewport[0])){var a=_.filter(this.views,function(a){return"none"!=a.$el.css("display")});a.length>=1&&_.each(a,_.bind(function(a){a.$el.parent()[0]==this.childViewport[0]?(a.$el.appendTo(this.viewport),Lizard.isHybrid?(this.endObserver(),window.location.hash=a.$el.attr("page-url")):history.pushState({url:a.$el.attr("page-url"),text:a.text,options:{pushState:!0}},document.title,a.$el.attr("page-url"))):a.$el.appendTo(this.childViewport)},this))}},this);var d=this.headerView.constructor.prototype.set,e=this.headerView.constructor.prototype.show,f=this;this.headerView.constructor.prototype.set=function(){f.targetViewport==f.viewport&&d.apply(this,arguments)},this.headerView.constructor.prototype.show=function(){f.targetViewport==f.viewport&&e.apply(this,arguments)}},_setViewLayout:function(){this.childViewport.css(this.horizontal&&(this._mainCurview&&_.isString(this._mainCurview.config.subViewUrl)||this.targetViewport==this.childViewport)?{display:"block"}:{display:"none"});var a=this.horizontal;_.each(this.views,function(b){b.horizontal=a})},goTo:function($super,b,c){if(this.targetViewport=this.viewport,this.isPad&&this.horizontal){if(c&&_.isObject(c.notify)&&this.views[c.notify.name]&&_.isFunction(this.views[c.notify.name][c.notify.method]))return void this.views[c.notify.name][c.notify.method].apply(this.views[c.notify.name],c.notify.params);c&&c.renderChild?(this.targetViewport=this.childViewport,this._setViewLayout()):c&&_.isString(c.subViewUrl)&&(this._subViewUrl=c.subViewUrl,a.subscribe("switchview",this._showSubView,this))}$super(b,c)},subViewBack:function(){var a=_.find(this.instance.childViewport.children(),function(a){return"none"!=$(a).css("display")});if(a){var b=this.instance.views[$(a).data("view-name")];b.referrer&&this.instance.views[b.referrer].$el.parent()[0]==this.instance.childViewport[0]&&(this.instance.lastView=b,this.instance.curView=this.instance.views[b.referrer],this.instance.switchView(this.instance.views[b.referrer],b),this.instance.views[b.referrer].referrer=this.instance.views[b.referrer].fromView)}},_showSubView:function(){a.unsubscribe("switchview",this._showSubView),setTimeout(_.bind(function(){this.goTo(this._subViewUrl,{renderChild:1}),delete this._subViewUrl},this),600)},loadView:function($super,a,b,c){this.currentUrl=a,$super(a,b,c)},_getCurrentAlpha:function(a){window.removeEventListener("deviceorientation",this.__getCurrentAlpha),(Math.abs(this.currentAlpha-a.alpha)<10||Math.abs(this.currentAlpha-a.alpha-360)<10)&&(this.horizontal=$(window).width()>$(window).height(),this._setViewLayout()),this.currentAlpha=a.alpha},showView:function($super,a){this.targetViewport=this.viewport,$super(a)},switchView:function($super,a,b){$super(a,b),b&&b.$el.parent()[0]!=a.$el.parent()[0]&&(a&&a.$el&&_.each(a.$el.parent().children(),function(b){b!=a.$el[0]&&$(b).hide()}),this.targetViewport==this.childViewport&&b&&b.$el&&_.each(b.$el.parent().children(),function(a){a==b.$el[0]&&setTimeout(function(){b.show()},30)})),this.isPad&&this.horizontal&&(_.isString(a.config.subViewUrl)&&_.isUndefined(this._subViewUrl)&&setTimeout(_.bind(function(){this.goTo(a.config.subViewUrl,{renderChild:1})},this),600),a.$el.parent()[0]==this.viewport[0]&&(_.isString(a.config.subViewUrl)&&_.isUndefined(this._subViewUrl)&&_.each(this.childViewport.children(),function(b){$(b).attr("page-url")==a.config.subViewUrl?$(b).show():$(b).hide()}),this._mainCurview=a,this._setViewLayout()))},_loadViewByOptions:function($super,a,b,c){this.targetViewport==this.viewport?$super(a,b,c):this.loadView(a,b,{pushState:!0})},judgeForward:function($super,a){return this.currentUrl==a},showHisCtnrView:function($super,a,b,c){this._mainCurview!=this.curView&&(c?c.addToHistory=!1:c={addToHistory:!1}),$super(a,b,c)},hideHisCtnrView:function($super){this._mainCurview!=this.curView?Lizard.subViewBack():$super()},switchActionView:function(a){var b=_.find(this.instance.views,function(b){return b.config.viewName==a});b&&(Lizard.P.lizParam=b.lizParam,Lizard.T.lizTmpl=b.lizTmpl)},restoreActionView:function(){this.switchActionView(this.instance.curView.config.viewName)}};return Lizard.switchActionView=b.switchActionView,Lizard.restoreActionView=b.restoreActionView,Lizard.subViewBack=b.subViewBack,b}),define("cBaseInit",["cPlugins","cCoreInherit",Lizard.isHybrid?"cHybridApp":Lizard.app.code.is("MASTER")||Lizard.app.code.is("YOUTH")?"cWebViewApp":"cWebApp","cPadExtend","cGuiderService"],function(a,b,c,d,e){function f(){Lizard.config.version&&require.config({urlArgs:Lizard.config.version}),Lizard.pdConfig?require(Lizard.pdConfig,function(){g()}):g()}function g(){Lizard.instance=new c({});for(var b in Lizard.instance["interface"]())Lizard[b]=$.proxy(Lizard.instance["interface"]()[b],Lizard.instance);a.regStatisticsEvent(),a.regMarketEvent(),Lizard.readyQueue&&_.each(Lizard.readyQueue,function(a){Lizard.viewReady(a)}),delete Lizard.readyQueue,e.create()}return Lizard.config.isPad&&(c=b.Class(c,d)),f}),define("cPageModelProcessor",["cModel","cMemoryStore","cUtilPath","cUtilCacheView","cCoreInherit","cLocalStore"],function(cModel,mStore,path,CacheViews,cCoreInherit,cStore){function callModels(a,b,c){Lizard.ajaxDatas={},a.models=Lizard.getModels(a),_.each(a.models,function(a,b){a.modelIndex=b}),_processModels(a,a.models,[],b,c)}function _processModels(pageConfig,models,datas,callback,errorback){if(0==models.length)callback(datas,pageConfig);else if(!_.some(models,function(a){return a.error})){var sortedModels=_resortModels(models);if(_.size(sortedModels.left)==_.size(models))return _.each(models,function(a){a.done=!0,datas[a.modelIndex]={},a.name&&(Lizard.ajaxDatas[a.name]={})}),void onSuccess(pageConfig,datas,sortedModels,callback,errorback);_.each(sortedModels.todo,function(model){var index=model.modelIndex,url=model.url,emodel=cacheModels.findById([pageConfig.viewName,model.modelIndex,url].join("|"));if(emodel)_transfuncToVal(model.postdata),model.paramChange=_.isEqual(emodel.param,model.postdata)?!1:!0,emodel.setAttr("param",_.clone(model.postdata));else{emodel=cCoreInherit.Class(cModel,{__propertys__:function(){this.urlParseRet=path.parseUrl(url),this.protocol=this.urlParseRet.protocol.substr(0,this.urlParseRet.protocol.length-1),this.checkAuth=!1,Lizard.config.isUseH5Sys&&(this.isUseH5Sys=!0)}}).getInstance(),emodel.setAttr("url",(Lizard.restfullApi?path.parseUrl(Lizard.restfullApi).domain:emodel.urlParseRet.domain)+emodel.urlParseRet.pathname+emodel.urlParseRet.search),_transfuncToVal(model.postdata),emodel.setAttr("param",_.clone(model.postdata));var cacheStore=emodel.getResultStore();if(!cacheStore){var cachStore=model.storeKey?new cStore({key:model.storeKey}):new mStore({key:[pageConfig.viewName,model.modelIndex,url].join("|")});emodel.setAttr("result",cachStore)}cacheModels.add([pageConfig.viewName,model.modelIndex,url].join("|"),emodel)}model.suspend&&eval("("+model.suspend+")()")?(model.done=!0,datas[index]={},model.name&&(Lizard.ajaxDatas[model.name]=data),onSuccess(pageConfig,datas,sortedModels,callback,errorback)):emodel.excute(function(a){model.done=!0,datas[index]=a,model.name&&(Lizard.ajaxDatas[model.name]=a),onSuccess(pageConfig,datas,sortedModels,callback,errorback)},function(a){!_.isFunction(pageConfig.validate)&&a instanceof XMLHttpRequest?(model.error=!0,errorback(datas,pageConfig.errorBack)):(model.done=!0,datas[index]=a,onSuccess(pageConfig,datas,sortedModels,callback,errorback))},model.ajaxOnly,this)})}}function onSuccess(a,b,c,d,e){a.processed||(_.every(a.models,function(a){return a.done||a.priority})?(_.each(a.models,function(b){emodel=cacheModels.findById([a.viewName,b.modelIndex,b.url].join("|")),emodel&&emodel.abort()}),a.processed=!0,d(b,a)):_.every(c.todo,function(a){return a.done})&&_processModels(a,c.left,b,d,e))}function _transfuncToVal(obj){for(var p in obj)obj.hasOwnProperty(p)&&(_.isString(obj[p])&&0==obj[p].indexOf("function")?obj[p]=eval("("+obj[p]+")()"):(_.isObject(obj[p])||_.isArray(obj[p]))&&_transfuncToVal(obj[p]))}function _resortModels(a){return _.groupBy(a,function(a){return!a.depends||_.every(a.depends,function(a){return a in Lizard.ajaxDatas})?"todo":"left"})}var cacheModels=new CacheViews;return callModels}),define("UIView",[],function(){var a=function(){var a=3e3;return function(b){return b+ ++a}}(),b=function(){var a={};return{addItem:function(b,c){a[b]=c},removeItem:function(b){a[b]&&delete a[b]},getItem:function(b){return b?a[b]:a}}}();return _.inherit({propertys:function(){this.wrapper=$("body"),this.id=_.uniqueId("ui-view-"),this.template="",this.datamodel={},this.events={},this.eventArr={},this.status="init",this.needAnimat=!1,this.animateShowAction=null,this.animateHideAction=null,this.needRootWrapper=!0},addEvents:function(a){_.isObject(a)&&_.extend(this.events,a)},_preventDefault:function(a){a.preventDefault()},on:function(a,b,c){this.eventArr[a]||(this.eventArr[a]=[]),c?this.eventArr[a].splice(0,0,b):this.eventArr[a].push(b)},off:function(a,b){this.eventArr[a]&&(this.eventArr[a]=b?_.without(this.eventArr[a],b):[])},trigger:function(a){var b,c,d=Array.prototype.slice,e=d.call(arguments,1),f=this.eventArr,g=[];if(f[a])for(b=0,c=f[a].length;c>b;b++)g[g.length]=f[a][b].apply(this,e);return g},createRoot:function(a){this.needRootWrapper?(this.$el=$('<div class="view" style="display: none; " id="'+this.id+'"></div>'),this.$el.html(a)):this.$el=$(a).hide().attr("id",this.id)},_isAddEvent:function(a){return"onCreate"==a||"onPreShow"==a||"onShow"==a||"onRefresh"==a||"onHide"==a?!0:!1},setOption:function(a){for(var b in a)"datamodel"!=b&&"events"!=b?this._isAddEvent(b)?this.on(b,a[b]):this[b]=a[b]:_.extend(this[b],a[b])},initialize:function(a){this.propertys(),this.setOption(a),this.resetPropery(),this.addEvent(),this.create(),this.addSysEvents(),this.initElement(),b.addItem(this.id,this)},getUIContainer:function(){return b.getItem()},addSysEvents:function(){"function"==typeof this.availableFn&&(this.removeSysEvents(),this.$el.on("click.system"+this.id,$.proxy(function(a){this.availableFn()||(a.preventDefault(),a.stopImmediatePropagation&&a.stopImmediatePropagation())},this)))},removeSysEvents:function(){this.$el.off(".system"+this.id)},$:function(a){return this.$el.find(a)},resetPropery:function(){},addEvent:function(){},create:function(){this.trigger("onPreCreate"),this.createRoot(this.render()),this.status="create",this.trigger("onCreate")},initElement:function(){},render:function(a){data=this.getViewModel()||{};var b=this.template;return this.template?(data&&(b=_.isFunction(this.template)?this.template(data):_.template(this.template)(data)),"function"==typeof a&&a.call(this),b):""},refresh:function(a){this.resetPropery(),a?this.create():this.$el.html(this.render()),this.initElement(),"show"==this.status&&this.show(),this.trigger("onRefresh")},show:function(){this.wrapper[0]&&this.$el[0]&&($.contains(this.wrapper[0],this.$el[0])||(this.needEmptyWrapper&&this.wrapper.html(""),this.wrapper.append(this.$el)),this.trigger("onPreShow"),this.needAnimat&&(this.animateInClass?this.hasAnimationProperty(this.animateInClass):"function"==typeof this.animateShowAction)&&"show"!=this.status?this.animateShowAction.call(this,this.$el):this.$el.show(),this.status="show",this.addSysEvents(),this.bindEvents(),this.trigger("onShow"))},hide:function(){this.$el&&"show"===this.status&&(this.trigger("onPreHide"),this.needAnimat&&(this.animateOutClass?this.hasAnimationProperty(this.animateOutClass):"function"==typeof this.animateShowAction)&&"hide"!=this.status?this.animateHideAction.call(this,this.$el):this.$el.hide(),this.status="hide",this.unBindEvents(),this.removeSysEvents(),this.trigger("onHide"))},hasAnimationProperty:function(a){var b=[$.fx.cssPrefix+"animation-name"],c=$("<div></div>");return c.attr("class",a),$("body").append(c),"none"!=c.css(b[0])?(c.remove(),!0):(c.remove(),!1)},destroy:function(){this.status="destroy",this.unBindEvents(),this.removeSysEvents(),b.removeItem(this.id),this.$el.remove(),this.trigger("onDestroy"),delete this},getViewModel:function(){return this.datamodel},setzIndexTop:function(b,c){b||(b=this.$el),(!c||c>10)&&(c=0),c=1e3*c,b.css("z-index",a(c))},bindEvents:function(){var a=this.events;if(!a&&!(a=_.result(this,"events")))return this;this.unBindEvents();var b,c,d,e,f,g=/^(\S+)\s*(.*)$/;for(b in a)c=a[b],_.isFunction(c)||(c=this[a[b]]),c&&(d=b.match(g),e=d[1],f=d[2],c=_.bind(c,this),e+=".delegateUIEvents"+this.id,""===f?this.$el.on(e,c):this.$el.on(e,f,c));return this},unBindEvents:function(){return this.$el.off(".delegateUIEvents"+this.id),this}})}),define("UIMask",["UIView",getAppUITemplatePath("ui.mask")],function(a){return _.inherit(a,{propertys:function($super){$super()},resetDefaultProperty:function(){this.events={},this.animateOutClass="cm-overlay-out",this.addEvents({touchmove:"_preventDefault"})},initialize:function($super,a){$super(a)},setRootStyle:function(){var a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);this.$el.css({width:"100%",height:a+"px",position:"absolute",left:"0px",top:"0px"})},addEvent:function($super){$super(),this.on("onCreate",function(){this.$el.addClass("cui-mask")}),this.on("onHide",function(){$(window).off(".mask"+this.id)}),this.on("onShow",function(){this.setRootStyle(),this.setzIndexTop(),$(window).off(".mask"+this.id),$(window).on("resize.mask"+this.id,$.proxy(function(){this.setRootStyle(),$.os.android&&window.scrollTo(0,window.scrollY+10)},this))})}})}),define("UILayer",["UIView","UIMask"],function(a,b){return _.inherit(a,{propertys:function($super){$super(),this.mask=new b,this.type="layer",this.resetDefaultProperty()},resetDefaultProperty:function(){this.mask.resetDefaultProperty(),this.needMask=!0,this.needAnimat=!0,this.maskToHide=!0,this.needReposition=!0,this.hasPushState=history&&history.pushState,this.hasPushState=!1,this.historyBack=!1,this.animateInClass="cm-up-in",this.animateOutClass="cm-up-out",this.animateShowAction=null,this.animateHideAction=null,this.events={touchmove:"_preventDefault"}
},initialize:function($super,a){$super(a),this.clearRes()},resetPropery:function(){var a=this;this.needAnimat&&(this.animateShowAction||(this.animateShowAction=function(b){var c=!1;b.show(),b.addClass(a.animateInClass),b.one($.fx.animationEnd,function(){c=!0,b.removeClass(a.animateInClass)}),setTimeout(function(){c||(b.removeClass(a.animateInClass),b.off($.fx.animationEnd))},350)}),this.animateHideAction||(this.animateHideAction=function(b){var c=!1;b.addClass(a.animateOutClass),b.one($.fx.animationEnd,function(){c=!0,b.removeClass(a.animateOutClass),b.hide()}),setTimeout(function(){c||(b.removeClass(a.animateOutClass),b.off($.fx.animationEnd),b.hide())},350)})),this.mask.needAnimat=!1,this.mask.animateHideAction=this.needAnimat&&this.animateHideAction?function(b){var c=!1;b.addClass(a.mask.animateOutClass),b.one($.fx.animationEnd,function(){c=!0,b.removeClass(a.mask.animateOutClass),b.hide()}),setTimeout(function(){c||(b.removeClass(a.mask.animateOutClass),b.off($.fx.animationEnd),b.hide())},350)}:null,this._setMaskEvent()},_setMaskEvent:function(){var a=this;this.needMask&&this.maskToHide&&this.mask.addEvents({click:function(){a.hide()}})},clearRes:function(){},_addPushStateEvent:function(){this.hasPushState&&(history.pushState({},document.title,location.href),this.historyBack=!1,$(window).on("popstate.pageviewpopstate"+this.id,$.proxy(function(){this.historyBack=!0,this.hide()},this)))},_removePushStateEvent:function(){this.hasPushState&&$(window).off(".pageviewpopstate"+this.id)},addEvent:function(){this.on("onCreate",function(){this.$el.addClass("cui-layer")}),this.on("onPreShow",function(){this.needMask&&this.mask.show()}),this.on("onShow",function(){this.setzIndexTop(),this._addPushStateEvent(),this.needReposition&&this.reposition()}),this.on("onPreHide",function(){return this.hasPushState&&!this.historyBack?void history.back():void 0}),this.on("onHide",function(){(!this.hasPushState||this.historyBack)&&(this.mask.hide(),this._removePushStateEvent())}),this.on("onDestroy",function(){this.mask.destroy()})},reposition:function(){this.$el.css({"margin-left":-(this.$el.width()/2)+"px","margin-top":-(this.$el.height()/2)+"px"})}})}),define("UIAlert",["UILayer",getAppUITemplatePath("ui.alert")],function(a,b){return _.inherit(a,{propertys:function($super){$super()},resetDefaultProperty:function($super){$super(),this.maskToHide=!1,this.datamodel={title:"",content:"content",btns:[{name:"",className:"cui-btns-ok"}]},this.template=b,this.addEvents({"click .cui-btns-ok":"okAction","click .cui-btns-cancel":"cancelAction"}),this.okAction=function(){this.hide()},this.cancelAction=function(){this.hide()}},initialize:function($super,a){$super(a)},addEvent:function($super){$super(),this.on("onCreate",function(){})},setDatamodel:function(a,b,c){a||(a={}),_.extend(this.datamodel,a),b&&(this.okAction=b),c&&(this.cancelAction=c),this.refresh()}})}),define("UIToast",["UILayer",getAppUITemplatePath("ui.toast")],function(a,b){return _.inherit(a,{propertys:function($super){$super()},resetDefaultProperty:function($super){$super(),this.template=b,this.datamodel={content:"toast"},this.hideSec=2e3,this.hasPushState=!1,this.TIMERRES=null,this.hideAction=function(){}},initialize:function($super,a){$super(a)},addEvent:function($super){$super(),this.on("onCreate",function(){this.$el.addClass("cui-toast")}),this.on("onShow",function(){this.TIMERRES&&clearTimeout(this.TIMERRES),this.TIMERRES=setTimeout($.proxy(function(){this.hide()},this),this.hideSec)}),this.on("onHide",function(){this.TIMERRES&&clearTimeout(this.TIMERRES),this.hideAction()})},setDatamodel:function(a,b,c,d){this.datamodel.content=a,b&&(this.hideSec=b),c&&(this.hideAction=c),this.maskToHide=d,this.refresh()}})}),define("UIAnimation",[],function(){var a=$.fx.animationEnd;return{slideleft:function(b,c,d,e){{var f=b.$el;c.$el}c.hide(),f.show(),f.on(a,function(){f.off(a),$("body").removeClass("hiddenx"),f.removeClass("animatestart"),f.removeClass("sliderightin"),b.onShowed?f.show():b.show(),"function"==typeof d&&(e?d.call(e,b,c):d(b,c))}),$("body").addClass("hiddenx"),f.addClass("animatestart"),f.addClass("sliderightin")},slideright:function(b,c,d,e){var f=b.$el,g=c.$el;g.on(a,function(){g.off(a),$("body").removeClass("hiddenx"),g.removeClass("animatestart"),g.removeClass("sliderightout"),c.hide(),b.onShowed?f.show():b.show(),"function"==typeof d&&(e?d.call(e,b,c):d(b,c))}),$("body").addClass("hiddenx"),g.addClass("animatestart"),g.addClass("sliderightout")},noAnimate:function(a,b,c,d){b&&b.__hide(a.viewname),a.__show(),c&&c.call(d,a,b)}}}),define("cAbstractApp",["cPageModelProcessor","cUtilPerformance","cUtilCommon",Lizard.config.plainloading?"UILoadingLayer":"loading",Lizard.app.vendor.is("CTRIP")||Lizard.isHybrid?"cHybridHeader":"UIHeader",Lizard.config.plainloading?"UIWarning404":"loadFailed","UIAlert","UIToast","cMessageCenter","UIAnimation",Lizard.app.version.gte(6.4)?"cHybridShell":"","cPageParser"],function(a,b,c,d,e,f,g,h,i,j,k){function l(a){this.initialize(a)}/\/html5\//i.test(location.href.replace(/[\?#].+$/,""))&&$("<base/>").attr("href",location.href.replace(/\/html5\//i,"/webapp/")).prependTo($("head").eq(0)),Lizard.runAt="client";var m=$(".main-viewport").attr("renderat");return Lizard.renderAt="server",m||(Lizard.renderAt="client"),l.subclasses=[],l.defaults={mainRoot:"#main",header:"header",viewport:".main-viewport",animForwardName:"slideleft",animBackwardName:"slideright",isAnim:!1,maxsize:10},l.prototype={ctnrViewNames:["lizardHisCtnrView"],viewReady:function(a){i.subscribe("viewReady",a)},initialize:function(a){var b=this.initProperty(a);this.options=b,this.firstState=null,this.mainRoot=$(b.mainRoot),this.header=$(b.header),this.targetViewport=this.viewport=this.mainRoot.find(b.viewport),this.curView=null,this.lastView=null,this.maxsize=b.maxsize,this.animForwardName=b.animForwardName,this.animBackwardName=b.animBackwardName,this.isAnim=Lizard.config.animationAPI||Lizard.config.isAnim||b.isAnim,Lizard.config.animationAPI?require([Lizard.config.animationAPI],_.bind(function(a){this.animAPIs=a},this)):this.animAPIs=j,this.animatName=this.animForwardName,this._loading=new d,this._alert=new g,this._confirm=new g,this._toast=new h,this._warning404=new f,this.observe=!1,this.headerView=new e({root:$("#headerview"),parent:this}),Lizard.isHybrid&&this.headerView.root.addClass("cm-header-hybird-wrap"),this.bindEvents(),this.views={},this.start(),i.subscribe("switchview",function(a){a.$el.show()},this)},showMessage:function(a){a||(a={}),"string"==typeof a&&(a={datamodel:{content:a}}),this._alert.resetDefaultProperty(),this._alert.setOption(a),this._alert.refresh(),this._alert.show()},hideMessage:function(){this._alert.hide()},showConfirm:function(a){a||(a={}),"string"==typeof a&&(a={datamodel:{content:a}}),this._confirm.resetDefaultProperty(),this._confirm.datamodel.btns=[{name:"",className:"cui-btns-cancel"},{name:"",className:"cui-btns-ok"}],this._confirm.setOption(a),this._confirm.refresh(),this._confirm.show()},hideConfirm:function(){this._confirm.hide()},showWarning404:function(a,b,c){var d=this;a||(a={}),"function"==typeof a&&(a={retryAction:a}),this._warning404.resetDefaultProperty(),this._warning404.setOption(a),this._warning404.refresh(),Lizard.showHisCtnrView(function(){d._warning404&&(d._warning404.wrapper=this.$el,d._warning404.show(),this.headerview.set(c?c.headData:{view:this,title:"",back:!0,events:{returnHandler:function(){Lizard.isHybrid?decodeURIComponent(window.location.hash.substr(1))==this.$el.attr("page-url")?Lizard.goBack():Lizard.goTo(this.$el.attr("page-url"),{pushState:!1}):window.location.href.substring(window.location.href.length-this.$el.attr("page-url").length)==this.$el.attr("page-url")?Lizard.goBack():Lizard.goTo(this.$el.attr("page-url"),{pushState:!1})}}}))},function(){d._warning404&&d._warning404.hide()},{triggerHide:!1,addToHistory:!1,viewName:"warning404",pageConfig:b})},hideWarning404:function(){this._warning404.hide()},showToast:function(a){a||(a={}),"string"==typeof a&&(a={datamodel:{content:a}}),this._toast.resetDefaultProperty(),this._toast.setOption(a),this._toast.refresh(),this._toast.show()},hideToast:function(){this._toast.hide()},showLoading:function(a){this._loading._showTimeout&&(clearTimeout(this._loading._showTimeout),delete this._loading._showTimeout),a||(a={}),this._loading.opener=a.opener,this._loading.resetDefaultProperty(),this.__showLoading(a)},__showLoading:function(a){this._loading.setOption(a),this._loading.refresh(),this._loading._showTimeout=setTimeout(_.bind(function(){if(_.isUndefined(k))this._loading.show();else{var a=new k.Fn("show_loading_page");a.run()}delete this._loading._showTimeout},this),Lizard.config.showloadingtimeout||200)},hideLoading:function(){if(this._loading._showTimeout&&(clearTimeout(this._loading._showTimeout),delete this._loading._showTimeout),!this._loading.opener||this._loading.opener===arguments[0])if(_.isUndefined(k))this._loading.hide();else{var a=new k.Fn("hide_loading_page");a.run()}},initProperty:function(a){var b=_.extend({},l.defaults,a||{});return b},bindEvents:function(){$.bindFastClick&&$.bindFastClick(),this._handleLink()},_handleLink:function(){(Lizard.isHybrid||c.isSupportPushState)&&$("body").on("click",$.proxy(function(a){for(var b=$(a.target),d=!1;;){if(!b[0])break;if("BODY"==b[0].nodeName)break;if(b.hasClass("sub-viewport"))break;if("A"==b[0].nodeName){d=!0;break}b=b.parent()}if(d){var e=b.attr("href"),f={},g=b.attr("lizard-data");if("off"==Lizard.config.lizardCatch||"off"==b.attr("lizard-catch")||e&&c.isExternalLink(e))return!0;a.preventDefault(),g&&(f.data=JSON.parse(g)),"back"==b.attr("data-jumptype")?this.back(b.attr("href"),f):"forward"==b.attr("data-jumptype")&&this.goTo(b.attr("href"),f)}},this))},start:function(){},loadView:function(c,d,e){var f=b.getUuid(),g=b.getUuid();b.group(f,{name:"Domready",landingpage:1==e.landingpage?1:0,url:c}),b.group(g,{name:"Onload",landingpage:1==e.landingpage?1:0,url:c}),Lizard.loadingView=!0,c&&Lizard.unloadUbt&&Lizard.unloadUbt(this.curView);var h=Lizard._initParser(c,d);Lizard.config&&Lizard.config.isHideAllLoading||e.hideloading?(_.isUndefined(h.isHideByOut)?!Lizard.config.isHideByOut:!h.isHideByOut)&&this.hideLoading():(Lizard.app.vendor.is("CTRIP")&&this.curView&&this.curView.$el&&this.curView.$el.hide(),this.showLoading()),a(h,_.bind(function(a,h){if(!_.isFunction(this.judgeForward)||this.judgeForward(c)){var j=b.getUuid();b.group(j,{name:"TemplateRender",url:c});var k=Lizard.render(h,a,e.renderAt);if(k.header&&this.targetViewport==this.viewport&&this.header.html(k.header).css({display:""}),b.groupEnd(j),Lizard.viewHtmlMap||(Lizard.viewHtmlMap={}),Lizard.viewSchemaMap||(Lizard.viewSchemaMap={}),-1==_.indexOf(this.ctnrViewNames,k.config.viewName)&&(Lizard.viewHtmlMap[k.config.viewName]=d,!Lizard.config.disableSchemaCache))if(_.isString(k.config.url_schema)){var l=k.config.url_schema;0==l.indexOf("/")?Lizard.viewSchemaMap[Lizard.schema2re(l)+"$"]=d:Lizard.viewSchemaMap[Lizard.schema2re("/"+l)+"$"]=d}else _.each(k.config.url_schema,function(a){0==a.indexOf("/")?Lizard.viewSchemaMap[Lizard.schema2re(a)+"$"]=d:Lizard.viewSchemaMap[Lizard.schema2re("/"+a)+"$"]=d});var m=$("<DIV></DIV>").css({display:"none"});"server"==e.renderAt?this.hideLoading():m=$(k.viewport).css({display:"none"}),!k.config.showfake||this.views[k.config.viewName]&&this.views[k.config.viewName].$el.attr("page-url")==c||(_.isObject(k.config.showfake)&&k.config.showfake.hideloading&&(_.isUndefined(k.config.isHideByOut)?!Lizard.config.isHideByOut:!k.config.isHideByOut)&&this.hideLoading(),this.curView&&this.curView.saveScrollPos()&&this.curView.$el.hide(),Lizard.__fakeViewNode=m.appendTo(this.targetViewport).show()),require([k.config.controller||"cPageView"],_.bind(function(a){if(!_.isFunction(this.judgeForward)||this.judgeForward(c)){if(this.animatName=e.animatName||("back"==this.navigationType?this.animBackwardName:this.animForwardName),this.curView&&(this.lastView=this.curView),k.config.viewName&&this.views[k.config.viewName]){this.curView=this.views[k.config.viewName],this.curView.lastURL=this.curView.$el.attr("page-url");var j=_.some(h.models,function(a){return a.ajaxOnly||a.paramChange});Lizard.config.determinOnlyByModel||(j=this.curView.$el.attr("page-url")!=c&&decodeURIComponent(this.curView.$el.attr("page-url"))!=decodeURIComponent(c)&&(!_.isFunction(this.curView.emptyContentNode)||this.curView.emptyContentNode(this.curView.$el.attr("page-url"),c))||j),j&&(this.curView.$el.remove(),!k.config.showfake&&m.appendTo(this.targetViewport),this.curView.$el=m,this.curView.onCreate&&this.curView.onCreate(),this.curView.delegateEvents(),_.extend(this.curView,_.pick(k,["datas","config","lizTmpl","lizParam"]))),this.curView.lizParam=k.lizParam,this.curView.navigationType=this.navigationType}else!k.config.showfake&&m.appendTo(this.targetViewport),this.curView=new a({el:"server"==e.renderAt?this.viewport.children().first():m}),this.curView.$el.attr("page-url",c),this.curView.text=d,_.extend(this.curView,_.pick(k,["datas","config","lizTmpl","lizParam"]));if(this.curView.$el.attr({"data-view-name":k.config.viewName}),this.curView.$el.parent()[0]!=this.targetViewport[0]&&this.curView.$el.appendTo(this.targetViewport),"server"==e.renderAt&&m.remove(),Lizard.__fakeViewNode=null,b.groupEnd(f),this.curView&&this.curView.switchByOut){var l=this;this.curView.turning=function(){l.lastView&&l.lastView.hide(),i.publish("switchview",[l.curView,l.lastView]),l.curView.$el.show(),this.onShowed=!0,l.isAnim&&l.lastView&&(switchFn=l.animAPIs[l.animatName],switchFn&&_.isFunction(switchFn)&&switchFn(l.curView,l.lastView,$.proxy(function(a,b){l._onSwitchEnd(a,b)},l))),this.hideLoading()}}else(_.isUndefined(k.config.isHideByOut)?!Lizard.config.isHideByOut:!k.config.isHideByOut)&&this.hideLoading(),i.publish("switchview",[this.curView,this.lastView]);this.curView.lastViewId=this.curView.referrer=this.lastView&&this.lastView.config.viewName,this.switchView(this.curView,this.lastView),b.groupEnd(g),k.config.viewName&&(this.views[k.config.viewName]=this.curView)}},this))}},this),_.bind(function(a,b){this.hideLoading();var d={callback:function(){Lizard.goTo(c,{pushState:!1})},headData:{title:"",back:!0,events:{returnHandler:function(){Lizard.back()}}}};b&&(d=_.extend(d,b(a)));var e={datamodel:d,callTelAction:d.callTelAction||function(){},retryAction:d.callback};this.showWarning404(e,h,d)},this))},switchView:function(a,b){b&&!document.getElementById(b.id)&&a&&!a.switchByOut&&(b.$el.appendTo(this.targetViewport),b.$el.hide(),b.id=b.$el.attr("id")),a&&!document.getElementById(a.id)&&(a.$el.appendTo(this.targetViewport),a.$el.hide(),a.id=a.$el.attr("id"));var c;if(!a)throw"inview ";Lizard.T.lizTmpl=a.lizTmpl,Lizard.P.lizParam=a.lizParam,b?("none"!=b.$el.css("display")&&b.saveScrollPos(),this.isAnim&&(c=this.animAPIs[this.animatName]),a.fromView=b.config.viewName,_.indexOf(this.ctnrViewNames,a.config.viewName)>-1&&(i.publish("showHisCtnrView"),b.hideWarning404=_.bind(function(){"show"===this._warning404.status&&("warning404"==a.config.viewName?this._warning404.hide():Lizard.goBack())},this)),c&&_.isFunction(c)&&!a.switchByOut?c(a,b,$.proxy(function(a,b){this._onSwitchEnd(a,b)},this)):(-1==_.indexOf(this.ctnrViewNames,a.config.viewName)&&(a&&!a.switchByOut&&b.hide(),a.show()),this._onSwitchEnd(a,b))):(_.indexOf(this.ctnrViewNames,a.config.viewName)>-1&&i.publish("showHisCtnrView"),a.show(),this._onSwitchEnd(a,b))},_onSwitchEnd:function(a,b){_.each(this.targetViewport.children(),function(c){a.switchByOut&&b&&c==b.$el[0]||c!=a.$el[0]&&$(c).hide()}),b==a||a.switchByOut||setTimeout(function(){b&&b.$el&&b.$el.hide()},10),i.publish("viewReady",[a])},showView:function(a){this.loadView(a.url,a.text,a.options)},goTo:function(){},goBack:function(){},jump:function(){},go:function(){},showHisCtnrView:function(a,b,c){if(this.curView||c.pageConfig){!this.curView&&c.pageConfig&&(c.addToHistory=!1);var d=this.isAnim,e=this.animatName;this.curView&&(this.curView.triggerShow=this.curView.triggerHide=c?!c.triggerFlag:!0,this.curView.triggerHide=c&&"triggerHide"in c?c.triggerHide:!0),this.isAnim=c&&c.isAnim?!0:this.isAnim,this.isAnim&&(this.animatName=this.animForwardName);var f=_.clone(c.pageConfig?c.pageConfig:this.curView.config),g=c.pageConfig?c.pageConfig.pageUrl:this.curView.config.pageUrl;f.model.apis=[],f.view={viewport:""},f.controller="cPageView",f.viewName=c&&c.viewName?c.viewName:g,-1==_.indexOf(this.ctnrViewNames,f.viewName)&&this.ctnrViewNames.push(f.viewName),c&&c.addToHistory===!1||(Lizard.isHybrid?(this.endObserver(),encodeURIComponent(g)==window.location.hash.substr(1)?(window.location.hash=encodeURIComponent(encodeURIComponent(g)),g=encodeURIComponent(g)):window.location.hash=encodeURIComponent(g)):history.pushState({url:g,text:' <SCRIPT type="text/lizard-config">'+JSON.stringify(f)+"</SCRIPT>",options:{pushState:!0}},document.title,g)),this.loadView(g,' <SCRIPT type="text/lizard-config">'+JSON.stringify(f)+"</SCRIPT>",{pushState:!0,hideloading:!0}),Lizard.isHybrid&&setTimeout(_.bind(this.startObserver,this),1);i.unsubscribe("showHisCtnrView"),i.subscribe("showHisCtnrView",function(){var c=this;this.lizardHisCtnrView=this.curView,this.curView.onShow||(this.curView.onShow=function(){a&&a.apply(this,arguments),setTimeout(function(){c.animatName=c.animBackwardName},10)},this.curView.onHide=function(){b&&b.apply(this,arguments),setTimeout(function(){c.isAnim=d,c.animatName=e},10)}),this.curView.show(),c.isAnim&&(this.curView.onShowed=!0)},this)}},hideHisCtnrView:function(){history.back()},stateObserve:function(a,b,c){this.curView&&(this._stateCallbacks||(this._stateCallbacks=[]),this._stateCallbacks.push({callback:a,scope:b,args:c,view:this.curView}))},_callObserveBack:function(){var a=this._stateCallbacks.pop();a.view==this.curView&&a.callback.apply(a.scope,a.args)},"interface":function(){return{viewReady:this.viewReady,showMessage:this.showMessage,hideMessage:this.hideMessage,showConfirm:this.showConfirm,hideConfirm:this.hideConfirm,showWarning404:this.showWarning404,hideWarning404:this.hideWarning404,showToast:this.showToast,hideToast:this.hideToast,showLoading:this.showLoading,hideLoading:this.hideLoading,showHisCtnrView:this.showHisCtnrView,hideHisCtnrView:this.hideHisCtnrView,stateObserve:this.stateObserve,goTo:this.goTo,goBack:this.goBack,forward:this.goTo,back:this.goBack,go:this.go,jump:this.jump}}},l}),define("cWebApp",["cUtilCommon","cCoreInherit","cAbstractApp","cUtilPath","cAjax"],function(a,b,c,d,e){return b.Class(c,{bindEvents:function($super){$super(),$(window).bind("popstate",_.bind(function(a){if(_.size(this._stateCallbacks))return void this._callObserveBack();var b=a.state||a.originalEvent&&a.originalEvent.state;_.isUndefined(b)&&location.href.substring(location.href.indexOf(d.parseUrl(location.href).pathname))==this.__startState.url&&(b=this.__startState),!Lizard.stopStateWatch&&b&&(b.options&&(b.options.pushState=!1,b.options.landingpage=0,b.options.hideloading=!0,delete b.options.renderAt),history.replaceState({url:b.url,text:b.text,options:b.options},document.title,b.url),this.navigationType="back",_.isUndefined(b.options)&&(b.options={}),b.options.animatName=this.animBackwardName,this.showView(b),Lizard.__fakeViewNode&&Lizard.__fakeViewNode.remove())},this))},start:function(){if(Lizard.config.urlMappingModule){var a=this;require([Lizard.config.urlMappingModule],function(b){landingpath=b(location.href),a.judgeForward(landingpath)?a._loadViewByLocationUrl():a.goTo(landingpath,{pushState:!1,renderAt:Lizard.renderAt,landingpage:1,hideloading:Lizard.config.isFirstPageHideLoading})})}else this._loadViewByLocationUrl()},_loadViewByLocationUrl:function(){var a=d.parseUrl(location.href).pathname;a="/"==a?"/index":location.href.substring(location.href.indexOf(d.parseUrl(location.href).pathname)),this.__startState={url:a,text:document.documentElement.innerHTML,options:{pushState:!1,renderAt:Lizard.renderAt,landingpage:1,hideloading:Lizard.config.isFirstPageHideLoading}},this.loadView(a,document.documentElement.innerHTML,{pushState:!1,renderAt:Lizard.renderAt,landingpage:1,hideloading:Lizard.config.isFirstPageHideLoading})},goTo:function(b,c){var d=new Date;if(!(c&&!c.forcegoto&&this.lastGoto&&d-this.lastGoto<500)){if(this.navigationType="forward",this.lastGoto=d,_.isObject(b))return history.length>1?void this.goBack():(opts=b,opts.animatName=opts.animatName||this.animBackwardName,opts.replaceFirstState=!0,opts.isPushState=!0,void this.goTo(opts.defaultView,opts));(a.isUrl(b)||0==b.indexOf("http://localhost"))&&(b.indexOf("/webapp")>-1&&(b=b.substr(b.indexOf("/webapp"))),b.indexOf("/html5")>-1&&(b=b.substr(b.indexOf("/html5"))));var f=c&&(c.viewName||c.pageName),g=c&&c.forcegetschema,h=this;if(c&&f&&Lizard.viewHtmlMap[f])return void h._loadViewByOptions(b,Lizard.viewHtmlMap[f],c);if(Lizard.viewSchemaMap&&!g){var i=b.replace(/^[^\?#]*\??/g,"").replace(/#DIALOG_.*$/g,"").replace(/#\|cui-.*$/g,""),j=i?b.substr(0,b.indexOf(i)-1):b,k="",l=0;if(_.each(Lizard.viewSchemaMap,function(a,b){new RegExp(b).test(j)&&b.length>l&&(k=a)}),k)return void h._loadViewByOptions(b,k,c)}var m=b,n=Lizard.config.version;n&&(m=m.replace(/(\?|#|$)/,function(a,b){return"#"===b?"?"+n+"#":"?"===b?"?"+n+"&":"?"+n})),e.get(m,c?c.data:{},function(a){h._loadViewByOptions(b,a,c)},_.bind(function(){this.showWarning404(function(){Lizard.goTo(b,{pushState:!1})},null,{headData:{view:this,title:"",back:!0,events:{returnHandler:function(){this.curView?Lizard.goTo(this.lastView.$el.attr("page-url"),{pushState:!1}):Lizard.goBack()}}}})},this))}},_loadViewByOptions:function(a,b,c){d.parseUrl(a).pathname;c&&c.pushState===!1?history.replaceState({url:a,text:b,options:{pushState:!1}},document.title,a):history.pushState({url:a,text:b,options:{pushState:!0}},document.title,a),-1==b.indexOf("lizard.seed.js")&&window.location.reload(),_.isEmpty(c)&&(c={}),c.pushState=!0,c.animatName=c.animatName,this.loadView(a,b,c)},goBack:function(){0==arguments.length?history.back():(this.goTo.apply(this,arguments),this.navigationType="back")},jump:function(b,c){var d=b;if(!a.isUrl(b)){var e=window.location.protocol+"//"+window.location.host;d=b.toLowerCase().indexOf("/webapp")<0&&-1==b.toLowerCase().indexOf("/html5")?e+"/webapp/"+b:e+b}c&&c.replace?window.location.replace(d):window.location.href=d},judgeForward:function(b){a.isUrl(b)||0==b.indexOf("http://localhost")||(b=window.location.protocol+"//"+window.location.host+(0==b.indexOf("/")?b:"/"+b));var c=d.parseUrl(b),e=new RegExp(c.pathname.replace("(","\\(").replace(")","\\)")+"$");return e.test(window.location.pathname)||e.test(decodeURIComponent(window.location.pathname))},stateObserve:function($super,a,b,c){$super(a,b,c),history.pushState({url:this.curView.config.pageUrl,text:Lizard.viewHtmlMap[this.curView.config.viewName],options:{pushState:!0}},document.title,this.curView.config.pageUrl)}})}),define("text!ui/ui.loading.layer.html",[],function(){return'<%\r\nvar hasText = (typeof content == \'string\' && content.length > 0);\r\n %>\r\n<div class="cui-grayload-text" style=" <% if(!hasText && !closeBtn){%> width: 80px; height: 70px; <%}%> " >\r\n  <div class="cui-i cui-w-loading">\r\n  </div>\r\n  <div class="cui-i cui-m-logo">\r\n  </div>\r\n  <%if(closeBtn) %>\r\n  <div class="cui-grayload-close">\r\n  </div>\r\n  <% %>\r\n  <div class="cui-grayload-bfont">\r\n  <%if(hasText){ %>\r\n    <%=content %>\r\n    <%} %>\r\n    </div>\r\n</div>\r\n'}),define("text!ui/ui.mask.html",[],function(){return'<div class="cui-pop-box">\r\n  <div class="cui-hd">\r\n      <%=title%>\r\n  </div>\r\n  <div class="cui-bd">\r\n    <div class="cui-error-tips">\r\n      <%=content%></div>\r\n    <div class="cui-roller-btns">\r\n      <% for(var i = 0, len = btns.length; i < len; i++ ) {%>\r\n      <div class="cui-flexbd <%=btns[i].className%>">\r\n        <%=btns[i].name%></div>\r\n      <% } %>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("text!ui/ui.warning404.html",[],function(){return'<div class="head-warning">\r\n  <div class="head-warning-padding">\r\n    <div class="head-warning-content">\r\n      <div class="cui-load-fail cui-text-center">\r\n        <div class="cui-load-error">\r\n          <div class="cui-i cui-wifi cui-fail-icon">\r\n          </div>\r\n        </div>\r\n        <p class="cui-gray">\r\n          <%=loadFail %></p>\r\n        <button type="button" class="cui-btns-retry">\r\n          <%=tryAgain %></button>\r\n        <%if(showContact) { %>\r\n          <div class="cui-404-tel">\r\n            <div class="cui-glines">\r\n            </div>\r\n            <p class="cui-grayc">\r\n              <%=telText %></p>\r\n            <span  class="cui-btns-tel"><span class="cui-i cui-warning-kf"></span><%=contact %></span></div>\r\n        <% } %>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("text!ui/ui.alert.html",[],function(){return'<div class="cui-pop-box">\r\n<%if(typeof title == \'string\' && title.length > 0){ %>\r\n  <div class="cui-hd">\r\n      <%=title%>\r\n  </div>\r\n<%} %>\r\n  <div class="cui-bd">\r\n    <div class="cui-error-tips">\r\n      <%=content%></div>\r\n    <div class="cui-roller-btns">\r\n      <% for(var i = 0, len = btns.length; i < len; i++ ) {%>\r\n      <div class="cui-flexbd <%=btns[i].className%>">\r\n        <%=btns[i].name%></div>\r\n      <% } %>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("text!ui/ui.toast.html",[],function(){return'<div class="cui-layer-padding">\r\n  <div class="cui-layer-content">\r\n    <%=content %></div>\r\n</div>\r\n'}),define("text!ui/ui.header.html",[],function(){return"\r\n<div class=\"cm-header\">\r\n<%\r\n\r\nvar i = 0, len = 0, j = 0, jj = 0;\r\nvar left = left;\r\nvar center = center;\r\nvar right =  right.reverse();\r\nvar item = null;\r\nvar outhtml = ''\r\nvar dir;\r\nvar btnObj = null;\r\n\r\n%>\r\n\r\n<%for(jj=0; jj < 2; jj++) { %>\r\n  <% \r\n    if(jj == 0) { dir = 'fl'; btnObj = left; } else { dir = 'fr'; btnObj = right; }\r\n  %>\r\n  <% for(i = 0, len = btnObj.length; i < len; i++) { %>\r\n    <% item = btnObj[i]; %>\r\n    <%if(typeof item.itemFn == 'function') { %>\r\n      <%=item.itemFn() %>\r\n    <%} else { %>\r\n      <span class=\" cm-header-<%=(item.value ? 'btn' : 'icon') %> <%=dir %>  js_<%=item.tagname %>\" >\r\n        <% if(item.value) { %>\r\n          <%=item.value %>\r\n        <% } else { %>\r\n          <i class=\"icon-<%=item.tagname %>\"></i>\r\n        <% } %>\r\n      </span>\r\n    <%} %>\r\n  <%} %>\r\n<%} %>\r\n\r\n<% item = center; %>\r\n<%if(typeof item.itemFn == 'function') { %>\r\n  <%=item.itemFn() %>\r\n<%} else if(item.tagname=='title' ||  item.tagname=='subtitle') { %>\r\n  <h1 class=\"cm-page-title js_<%=item.tagname %>\" >\r\n    <%if(_.isArray(item.value) && item.value.length == 2) { %>\r\n      <span class=\"cm-title-l\"><%=item.value[0]%></span>\r\n      <span class=\"cm-title-s\"><%=item.value[1]%></span>\r\n    <%} else { %>\r\n      <%=item.value || item.value[0]%>\r\n    <%} %>\r\n  </h1>\r\n<%} else if(item.tagname=='select'){ %>\r\n  <h1 class=\"cm-page-select-title js_<%=item.tagname %>\" >\r\n    <%=item.value %>\r\n  </h1>\r\n<%} else if(item.tagname=='tabs') { %>\r\n  <h1 class=\"cm-page-tabs-title js_<%=item.tagname %>\" >\r\n    <%for(j = 0; j < item.data.items.length; j ++) { %>\r\n      <span data-key=\"<%=item.data.items[j].id %>\" data-index=\"<%=j %>\" class=\"<%if(item.data.index==j){ %>active<%} %>\" ><%=item.data.items[j].name %></span>\r\n    <% } %>\r\n  </h1>\r\n<% } else{ %>\r\n\r\n<%} %>\r\n\r\n</div>\r\n"}),define("text!ui/ui.bubble.layer.html",[],function(){return'<section class="cm-pop cm-pop--radius <%=wrapperClass %>  <%if(dir == \'up\'){ %> <%=upClass %> <% } else { %> <%=downClass %> <% } %>">\r\n<i class="icon-pop-triangle"></i>\r\n<div class="cm-pop-bd">\r\n  <ul class="cm-pop-list <%=itemStyleClass %>">\r\n    <% for(var i = 0, len = data.length; i < len; i++) { %>\r\n    <% var itemData = data[i]; %>\r\n    <li data-index="<%=i%>" data-flag="c" class="<% if(index == i){ %><%=curClass %><%} %>"  ><%if(typeof itemFn == \'function\') { %><%=itemFn.call(scope, itemData, i) %> <% } else { %><%=itemData.name%><%} %></li>\r\n    <% } %>\r\n  </ul>\r\n</div>\r\n</section>\r\n\r\n'}),define("text!ui/ui.emotion.loading.html",[],function(){return'<div class="" style="z-index: 3002; " id="ui-view-1"><div class="cp-h5-main" style="position: fixed; top: 50%; margin-top:-239px; bottom: 0px; left: 0px; right: 0px; z-index: 3002; "><div class="cp-Network-loading loading-box"><div class="loading-animate"><div class="bubble"></div><div class="eye"></div><div class="eye2"></div><div class="tail"></div><div class="tear"></div><div class="l-hand"></div><div class="r-hand"></div><div class="text"></div><div class="sweat"></div></div><p><i class="i-loading"></i>...</p></div></div></div> '}),define("cShell",[],function(){function a(a){var b,c,d=this,e={},f=1,g=0,h=function(a,d){b=a,c=d,i(a)},i=function(a){if(a==b){var d=e[a];d&&d.apply(null,c)}};d.done=function(a){return e[f]=a,i(f),this},d.fail=function(a){return e[g]=a,i(g),this},d.resolve=function(){return h.call(null,f,arguments),d},d.reject=function(){return h.call(null,g,arguments),d},a&&(a.done=d.done,a.fail=d.fail)}function b(a){function b(){return args=a.pre?a.pre.apply(null,arguments):arguments,f.doCall(a.name,"run",args)}return b.ping=function(){return f.doCall(a.name,"ping",arguments)},b}var c=["detectDevice","scanBarcode","scanQrcode",{name:"share",pre:function(){return arguments},post:function(a){return a},fail:function(){}},"voice2text","uploadimage"],d={CTRIP_MASTER:1,TECENT_WEIXIN:1},e=new Error("unavailable"),f={calls:[],doCall:function(b,c,d){var e,g,h;"object"==typeof d[0]?(h=d[0],e=d[1],g=d[2]):(e=d[0],"object"==typeof d[1]?(h=d[1],g=d[2]):(g=d[1],h=d[2]));var i={},j=new a(i),k=function(a){e&&e(a),j.resolve(a)},l=function(a){g&&g(a),j.reject(a)},d=[k,l,h];return f.ready?f.doExec(b,c,d):f.error?l(f.error):f.calls.push({name:b,type:c,args:d}),i},doExec:function(a,b,c){var d,e=f.methods[a],g=c[0],h=c[1];"function"==typeof e&&(e={run:e}),e&&e.run?(d=e[b])?d.apply(null,c):g&&g():h&&h(new Error("unavailable"))}},g=[Lizard.app.vendor,Lizard.app.code].join("_"),h={};return d[g]?require(["cShell_"+g],function(a){a.ready(function(){f.ready=!0,delete f.error,f.methods=a.METHOD;for(var b;b=f.calls.shift();)f.doExec(b.name,b.type,b.args)}).error(function(){f.ready=!1,f.error=e;for(var a;a=f.calls.shift();)a.args[1](f.error)}).init()}):(f.ready=!1,f.error=e),h.weixin=function(a){d[g]&&require(["cShell_"+g],function(b){b.init(a)})},c.forEach(function(a){"string"==typeof a&&(a={name:a}),h[a.name]=b(a)}),h});